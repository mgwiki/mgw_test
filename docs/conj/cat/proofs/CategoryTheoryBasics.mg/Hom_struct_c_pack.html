<div class="pftacwrap"><span class="srcline" data-line="2684">L2684</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, Y, CX, CY and f</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2685">L2685</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Phi</span> to be the term <span class="ltree"><span class="ltree">λX CX Y CY ⇒  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span> → <span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span></span></span></span>)</span></span></span></span> of type <span class="ltree"><span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2687">L2687</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">PhiX</span> to be the term <span class="ltree"><span class="ltree">λX CX ⇒  <span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pack_c</span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>)</span></span> <span class="ltree">(<span class="ltree">λY' CY ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y'</span></span> <span class="ltree">CY</span></span></span>)</span></span></span></span> of type <span class="ltree"><span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2689">L2689</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pack_c</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span>)</span></span> <span class="ltree">PhiX</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2690">L2690</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">L1</span>: <span class="ltree"><span class="ltree">∀CX : <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span>,  <span class="ltree">∀CY' : <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span> ↔ <span class="ltree"><span class="ltree">CY'</span> <span class="ltree">U</span></span></span>)</span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY'</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2694">L2694</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">CX</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2694">L2694</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">CY'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2695">L2695</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HCY'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2695">L2695</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">prop_ext_2</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2697">L2697</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2697">L2697</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">H</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2697">L2697</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2698">L2698</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span> → <span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2700">L2700</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">andI</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2702">L2702</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2703">L2703</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2703">L2703</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU1 HU2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2703">L2703</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2704">L2704</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">H2</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2706">L2706</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2707">L2707</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">CY'</span> <span class="ltree">U</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2707">L2707</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">iffEL</span> <span class="ltree">(<span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">CY'</span> <span class="ltree">U</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HCY'</span> <span class="ltree">U</span></span> <span class="ltree">HU1</span></span>)</span></span> <span class="ltree">HU2</span></span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2709">L2709</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2709">L2709</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">H</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2709">L2709</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2710">L2710</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">CY'</span> <span class="ltree">U</span></span> → <span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2712">L2712</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">andI</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2714">L2714</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2715">L2715</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2715">L2715</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU1 HU2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2715">L2715</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2716">L2716</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">H2</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2718">L2718</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2719">L2719</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2719">L2719</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">iffER</span> <span class="ltree">(<span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">CY'</span> <span class="ltree">U</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HCY'</span> <span class="ltree">U</span></span> <span class="ltree">HU1</span></span>)</span></span> <span class="ltree">HU2</span></span></span>.</div>
</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="2721">L2721</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">L2</span>: <span class="ltree"><span class="ltree">∀CX' : <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>)</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀x,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">x</span></span> → <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span></span>)</span> → <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">CX</span> <span class="ltree">U</span></span> ↔ <span class="ltree"><span class="ltree">CX'</span> <span class="ltree">U</span></span></span>)</span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2724">L2724</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">CX'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2724">L2724</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HCX'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2724">L2724</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2725">L2725</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pack_c</span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>)</span></span> <span class="ltree">(<span class="ltree">λY' CY ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span> <span class="ltree">Y'</span></span> <span class="ltree">CY</span></span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pack_c</span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>)</span></span> <span class="ltree">(<span class="ltree">λY' CY ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y'</span></span> <span class="ltree">CY</span></span></span>)</span></span></span>.</div>
</div>
<div>Use transitivity with <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>,  and <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>.</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2730">L2730</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pack_c</span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2731">L2731</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span>)</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">L1</span> <span class="ltree">CX'</span></span>)</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2733">L2733</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX'</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2734">L2734</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">prop_ext_2</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2736">L2736</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2736">L2736</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">H</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2736">L2736</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2737">L2737</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2</span>: <span class="ltree"><span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span> → <span class="ltree"><span class="ltree">CX'</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2738">L2738</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span> → <span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2740">L2740</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">andI</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2742">L2742</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2743">L2743</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2743">L2743</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU1</span>: <span class="ltree"><span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2744">L2744</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU2</span>: <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2745">L2745</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">LU</span>: <span class="ltree"><span class="ltree">∀x,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span> → <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2747">L2747</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2747">L2747</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">andEL</span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span>)</span></span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="2747">L2747</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">iffER</span> <span class="ltree">(<span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">CX'</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HCX'</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">LU</span></span>)</span></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2750">L2750</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H2</span> <span class="ltree">U</span></span> <span class="ltree">HU1</span></span> <span class="ltree">HU2</span></span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2752">L2752</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2752">L2752</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">H</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2752">L2752</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2753">L2753</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀U : <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span> → <span class="ltree"><span class="ltree">CX'</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2755">L2755</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">andI</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2757">L2757</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2758">L2758</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2758">L2758</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU1</span>: <span class="ltree"><span class="ltree">∀y,  <span class="ltree"><span class="ltree"><span class="ltree">U</span> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2759">L2759</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU2</span>: <span class="ltree"><span class="ltree"><span class="ltree">CY</span> <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2760">L2760</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">LU</span>: <span class="ltree"><span class="ltree">∀x,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span> → <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2762">L2762</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2762">L2762</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">andEL</span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span>)</span></span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="2762">L2762</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">iffEL</span> <span class="ltree">(<span class="ltree"><span class="ltree">CX</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">CX'</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HCX'</span> <span class="ltree">(<span class="ltree">λx ⇒  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> ∧ <span class="ltree"><span class="ltree">U</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">LU</span></span>)</span></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2765">L2765</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H2</span> <span class="ltree">U</span></span> <span class="ltree">HU1</span></span> <span class="ltree">HU2</span></span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="2767">L2767</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span>)</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">L1</span> <span class="ltree">CX</span></span>)</span></span></span>.</div>
</div>
</div>
</div><div>Use transitivity with  and <span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span>.</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2771">L2771</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o_eq</span> <span class="ltree">PhiX</span></span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">L2</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2772">L2772</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pack_c</span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2773">L2773</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_c_o_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">CX</span></span>)</span></span> <span class="ltree">Y</span></span> <span class="ltree">CY</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">L1</span> <span class="ltree">CX</span></span>)</span></span></span>.</div>
</div>
</div>
∎