<div class="pftacwrap"><span class="srcline" data-line="2903">L2903</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, Y, opX, op2X, opY, op2Y, eX, e2X, eY, e2Y and f</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2904">L2904</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Phi</span> to be the term <span class="ltree"><span class="ltree">λX opX op2X eX e2X Y opY op2Y eY e2Y ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span></span></span></span> of type <span class="ltree"><span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>)</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>)</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>)</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>)</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span></span></span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2911">L2911</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">PhiX</span> to be the term <span class="ltree"><span class="ltree">λX opX op2X eX e2X ⇒  <span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pack_b_b_e_e</span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">(<span class="ltree">λY' opY op2Y eY e2Y ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y'</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>)</span></span></span></span> of type <span class="ltree"><span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>)</span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>)</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">prop</span></span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2915">L2915</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pack_b_b_e_e</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>)</span></span> <span class="ltree">PhiX</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2917">L2917</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">L1</span>: <span class="ltree"><span class="ltree">∀opX op2X : <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>,  <span class="ltree">∀opY' : <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">Y</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span></span></span>)</span> → <span class="ltree">∀op2Y' : <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">Y</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY'</span></span> <span class="ltree">op2Y'</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2922">L2922</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">opX and op2X</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2922">L2922</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">opY'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2923">L2923</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HopY'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2923">L2923</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">op2Y'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2924">L2924</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hop2Y'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2924">L2924</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">prop_ext_2</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2926">L2926</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2926">L2926</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">and5E</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">H</span></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2927">L2927</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2 H3 H4 H5</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2928">L2928</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Lf</span>: <span class="ltree"><span class="ltree">∀x<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2930">L2930</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2930">L2930</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">ap_Pi</span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λ_ ⇒  <span class="ltree">Y</span></span>)</span></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <span class="ltree">H1</span></span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="2930">L2930</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2935">L2935</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">and5I</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2937">L2937</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2938">L2938</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2938">L2938</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2938">L2938</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2938">L2938</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2938">L2938</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HopY'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span>)</span></span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2938">L2938</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H2</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2940">L2940</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2940">L2940</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2940">L2940</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2940">L2940</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2940">L2940</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hop2Y'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span>)</span></span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2940">L2940</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H3</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2942">L2942</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H4</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2943">L2943</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H5</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2944">L2944</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2944">L2944</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">and5E</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">H</span></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2945">L2945</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2 H3 H4 H5</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2946">L2946</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Lf</span>: <span class="ltree"><span class="ltree">∀x<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Y</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2948">L2948</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2948">L2948</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">ap_Pi</span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λ_ ⇒  <span class="ltree">Y</span></span>)</span></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <span class="ltree">H1</span></span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="2948">L2948</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2953">L2953</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">and5I</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2955">L2955</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2956">L2956</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2956">L2956</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2956">L2956</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2956">L2956</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2956">L2956</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HopY'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span>)</span></span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2956">L2956</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H2</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2958">L2958</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2958">L2958</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2958">L2958</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2958">L2958</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2958">L2958</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hop2Y'</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Lf</span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span>)</span></span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2958">L2958</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H3</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2960">L2960</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H4</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2961">L2961</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H5</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="2962">L2962</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">L2</span>: <span class="ltree"><span class="ltree">∀opX' : <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opX'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span></span></span>)</span> → <span class="ltree">∀op2X' : <span class="ltree"><span class="ltree">set</span> → <span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2X'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2966">L2966</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">opX'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2966">L2966</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HopX'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2966">L2966</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">op2X'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2967">L2967</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hop2X'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2967">L2967</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2968">L2968</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pack_b_b_e_e</span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">(<span class="ltree">λY' opY op2Y eY e2Y ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y'</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pack_b_b_e_e</span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">(<span class="ltree">λY' opY op2Y eY e2Y ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y'</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>)</span></span></span>.</div>
</div>
<div>Use transitivity with <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>,  and <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>.</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2975">L2975</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pack_b_b_e_e</span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2976">L2976</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>)</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">L1</span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span>)</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2978">L2978</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX'</span></span> <span class="ltree">op2X'</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2979">L2979</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">prop_ext_2</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2981">L2981</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2981">L2981</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">and5E</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">H</span></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2982">L2982</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2 H3 H4 H5</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2983">L2983</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2988">L2988</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">and5I</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2990">L2990</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2991">L2991</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2991">L2991</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2991">L2991</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2991">L2991</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2991">L2991</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HopX'</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2991">L2991</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H2</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2993">L2993</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2993">L2993</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2993">L2993</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2993">L2993</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2993">L2993</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hop2X'</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2993">L2993</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H3</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2995">L2995</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H4</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2996">L2996</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H5</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="2997">L2997</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2997">L2997</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">and5E</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">H</span></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2998">L2998</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1 H2 H3 H4 H5</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="2999">L2999</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Y</span><sup><span class="ltree">X</span></sup></span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">opX'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">opY</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree">(<span class="ltree">∀x y<a href="#In_notation"> ∈ </a><span class="ltree">X</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">op2X'</span> <span class="ltree">x</span></span> <span class="ltree">y</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree">op2Y</span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <span class="ltree">y</span></span>)</span></span></span></span>)</span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">eX</span></span> = <span class="ltree">eY</span></span></span> ∧ <span class="ltree"><span class="ltree"><span class="ltree">f</span> <span class="ltree">e2X</span></span> = <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3004">L3004</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">and5I</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3006">L3006</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3007">L3007</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3007">L3007</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3007">L3007</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3007">L3007</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3007">L3007</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HopX'</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3007">L3007</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H2</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3009">L3009</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3009">L3009</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3009">L3009</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3009">L3009</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3009">L3009</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hop2X'</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3009">L3009</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">H3</span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span> <span class="ltree">y</span></span> <span class="ltree">Hy</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3011">L3011</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H4</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3012">L3012</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H5</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="3013">L3013</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>)</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">L1</span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span>)</span></span></span>.</div>
</div>
</div>
</div><div>Use transitivity with  and <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">PhiX</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>.</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3017">L3017</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o_eq</span> <span class="ltree">PhiX</span></span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">L2</span></span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="3018">L3018</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pack_b_b_e_e</span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>)</span></span> = <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="3019">L3019</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">unpack_b_b_e_e_o_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Phi</span> <span class="ltree">X</span></span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span> <span class="ltree">eX</span></span> <span class="ltree">e2X</span></span>)</span></span> <span class="ltree">Y</span></span> <span class="ltree">opY</span></span> <span class="ltree">op2Y</span></span> <span class="ltree">eY</span></span> <span class="ltree">e2Y</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">L1</span> <span class="ltree">opX</span></span> <span class="ltree">op2X</span></span>)</span></span></span>.</div>
</div>
</div>
∎