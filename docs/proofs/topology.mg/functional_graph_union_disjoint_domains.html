<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Helper: union of functional graphs with disjoint domains is functional ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: From Example 8 after Theorem 18.3, the pieces must agree on the overlap in order to define a function at all. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="73523">L73523</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">A, B, f and g</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73524">L73524</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hdisj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73525">L73525</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hdomf</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">f</span></span> <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73526">L73526</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hdomg</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">g</span></span> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73527">L73527</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfunf</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">f</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73528">L73528</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfung</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">g</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73529">L73529</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x, y1 and y2</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73530">L73530</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <a href="#notation_14">∪</a> <span class="ltree">g</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73531">L73531</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">f</span> <a href="#notation_14">∪</a> <span class="ltree">g</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73532">L73532</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">f</span></span> <span class="ltree">g</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span></span> <span class="ltree">H1</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73534">L73534</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1f</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">f</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73534">L73534</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">f</span></span> <span class="ltree">g</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span></span> <span class="ltree">H2</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73536">L73536</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2f</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">f</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73536">L73536</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hfunf</span> <span class="ltree">x</span></span> <span class="ltree">y1</span></span> <span class="ltree">y2</span></span> <span class="ltree">H1f</span></span> <span class="ltree">H2f</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73538">L73538</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2g</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">g</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73538">L73538</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73540">L73540</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hdomf</span> <span class="ltree">x</span></span> <span class="ltree">y1</span></span> <span class="ltree">H1f</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73540">L73540</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73542">L73542</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hdomg</span> <span class="ltree">x</span></span> <span class="ltree">y2</span></span> <span class="ltree">H2g</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73542">L73542</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxAB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73544">L73544</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree">A</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73544">L73544</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73546">L73546</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hdisj</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73546">L73546</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxAB</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73547">L73547</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73548">L73548</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span>)</span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73550">L73550</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1g</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">g</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73550">L73550</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">f</span></span> <span class="ltree">g</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span></span> <span class="ltree">H2</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73552">L73552</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2f</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">f</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73552">L73552</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73554">L73554</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hdomg</span> <span class="ltree">x</span></span> <span class="ltree">y1</span></span> <span class="ltree">H1g</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73554">L73554</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73556">L73556</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hdomf</span> <span class="ltree">x</span></span> <span class="ltree">y2</span></span> <span class="ltree">H2f</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73556">L73556</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxAB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73558">L73558</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree">A</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73558">L73558</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73560">L73560</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hdisj</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73560">L73560</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxAB</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="73561">L73561</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73562">L73562</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span>)</span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="73564">L73564</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2g</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">g</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="73564">L73564</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hfung</span> <span class="ltree">x</span></span> <span class="ltree">y1</span></span> <span class="ltree">y2</span></span> <span class="ltree">H1g</span></span> <span class="ltree">H2g</span></span>)</span></span>.</div>
</div>
</div>
</div>
∎