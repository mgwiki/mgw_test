<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** helper: distance to set is bounded by distance to a member ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: For a in A, the distance from x to A is at most d(x,a). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="150031">L150031</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, d, x, A and a</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150032">L150032</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hm</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_on" class="anamelink">metric_on</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150033">L150033</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150034">L150034</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HAsub</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150035">L150035</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HAne</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span> <a href="#notation_6">≠</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150036">L150036</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HaA</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150037">L150037</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaX</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150039">L150039</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsub</span> <span class="ltree">a</span></span> <span class="ltree">HaA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150039">L150039</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#setprod" class="anamelink">setprod</a></span> <span class="ltree">X</span></span> <span class="ltree">X</span></span>)</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150041">L150041</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_on_function_on" class="anamelink">metric_on_function_on</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">Hm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150041">L150041</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxaIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#setprod" class="anamelink">setprod</a></span> <span class="ltree">X</span></span> <span class="ltree">X</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150043">L150043</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_setprod_by_pair_Sigma" class="anamelink">tuple_2_setprod_by_pair_Sigma</a></span> <span class="ltree">X</span></span> <span class="ltree">X</span></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HaX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150043">L150043</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdxaR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150045">L150045</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfun</span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span> <span class="ltree">HxaIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150045">L150045</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">l</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_sup_neg_dists" class="anamelink">metric_sup_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150046">L150046</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150048">L150048</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_sup_neg_dists_is_lub" class="anamelink">metric_sup_neg_dists_is_lub</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span> <span class="ltree">Hm</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HAsub</span></span> <span class="ltree">HAne</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150048">L150048</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150050">L150050</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub_in_R" class="anamelink">R_lub_in_R</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">Hlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150050">L150050</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdistDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150052">L150052</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdistR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150054">L150054</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set_in_R" class="anamelink">metric_dist_to_set_in_R</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span> <span class="ltree">Hm</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HAsub</span></span> <span class="ltree">HAne</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150054">L150054</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">t</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150055">L150055</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150057">L150057</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">A</span></span> <span class="ltree">(<span class="ltree">λa0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a0</span>)</span></span>)</span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150057">L150057</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtR</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150059">L150059</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists_in_R" class="anamelink">metric_neg_dists_in_R</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span> <span class="ltree">Hm</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HAsub</span></span> <span class="ltree">t</span></span> <span class="ltree">HtIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150059">L150059</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀s : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">s</span></span> <span class="ltree">l</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150061">L150061</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀s : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">s</span></span> <span class="ltree">l</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀v : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">v</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀s : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">s</span></span> <span class="ltree">v</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">v</span></span></span></span></span>)</span></span> <span class="ltree">Hlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150065">L150065</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hub</span>: <span class="ltree"><span class="ltree">∀s : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">s</span></span> <span class="ltree">l</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150067">L150067</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀s : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_neg_dists" class="anamelink">metric_neg_dists</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">s</span></span> <span class="ltree">l</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150067">L150067</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">t</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150069">L150069</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hub</span> <span class="ltree">t</span></span> <span class="ltree">HtIn</span></span> <span class="ltree">HtR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150069">L150069</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnlt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">l</span></span> <span class="ltree">t</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150071">L150071</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">t</span></span> <span class="ltree">l</span></span> <span class="ltree">Htle</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150071">L150071</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span> <span class="ltree">HdistR</span></span> <span class="ltree">HdxaR</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150072">L150072</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150073">L150073</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span> <a href="#notation_45">&lt;</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150075">L150075</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RltE_lt" class="anamelink">RltE_lt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span> <span class="ltree">Hlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150075">L150075</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdxaS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150077">L150077</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span> <span class="ltree">HdxaR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150077">L150077</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150079">L150079</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">l</span></span> <span class="ltree">HlR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150079">L150079</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdistS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150081">L150081</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#metric_dist_to_set" class="anamelink">metric_dist_to_set</a></span> <span class="ltree">X</span></span> <span class="ltree">d</span></span> <span class="ltree">x</span></span> <span class="ltree">A</span></span>)</span></span> <span class="ltree">HdistR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150081">L150081</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltS2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span> <a href="#notation_45">&lt;</a> <span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150083">L150083</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HdistDef</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150083">L150083</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HltS</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150084">L150084</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hltneg</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span> <a href="#notation_45">&lt;</a> <span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150086">L150086</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#minus_SNo_Lt_contra2" class="anamelink">minus_SNo_Lt_contra2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HdxaS</span></span> <span class="ltree">HlS</span></span> <span class="ltree">HltS2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150086">L150086</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltR2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">l</span></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="150088">L150088</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150089">L150089</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HtDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="150090">L150090</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RltI" class="anamelink">RltI</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span>)</span></span> <span class="ltree">HlR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_minus_SNo" class="anamelink">real_minus_SNo</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">d</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">a</span>)</span></span>)</span></span> <span class="ltree">HdxaR</span></span>)</span></span> <span class="ltree">Hltneg</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="150091">L150091</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnlt</span> <span class="ltree">HltR2</span></span>)</span></span>.</div>
</div>
∎