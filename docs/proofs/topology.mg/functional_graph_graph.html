<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Helper: a graph comprehension is functional ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: The graph {(a,g(a))|a∈A} is single-valued. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="34846">L34846</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">A and g</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34847">L34847</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x, y1 and y2</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34848">L34848</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_9">{</a><span class="ltree">(<span class="ltree">a</span>,<span class="ltree"><span class="ltree">g</span> <span class="ltree">a</span></span>)</span><a href="#notation_9">|</a>a<a href="#notation_9"> ∈ </a><span class="ltree">A</span><a href="#notation_9">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34849">L34849</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_9">{</a><span class="ltree">(<span class="ltree">a</span>,<span class="ltree"><span class="ltree">g</span> <span class="ltree">a</span></span>)</span><a href="#notation_9">|</a>a<a href="#notation_9"> ∈ </a><span class="ltree">A</span><a href="#notation_9">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34850">L34850</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">A</span></span> <span class="ltree">(<span class="ltree">λa0 : <span class="ltree">set</span> ⇒  <span class="ltree">(<span class="ltree">a0</span>,<span class="ltree"><span class="ltree">g</span> <span class="ltree">a0</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span></span> <span class="ltree">H1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">y1</span> <a href="#notation_5">=</a> <span class="ltree">y2</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34851">L34851</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">a1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34852">L34852</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ha1</span>: <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34852">L34852</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y1</span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree">a1</span>,<span class="ltree"><span class="ltree">g</span> <span class="ltree">a1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34853">L34853</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">A</span></span> <span class="ltree">(<span class="ltree">λa0 : <span class="ltree">set</span> ⇒  <span class="ltree">(<span class="ltree">a0</span>,<span class="ltree"><span class="ltree">g</span> <span class="ltree">a0</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span></span> <span class="ltree">H2</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">y1</span> <a href="#notation_5">=</a> <span class="ltree">y2</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34854">L34854</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">a2</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34855">L34855</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ha2</span>: <span class="ltree"><span class="ltree"><span class="ltree">a2</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34855">L34855</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y2</span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree">a2</span>,<span class="ltree"><span class="ltree">g</span> <span class="ltree">a2</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34856">L34856</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hx1</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree">a1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="34858">L34858</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">x</span></span> <span class="ltree">y1</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34858">L34858</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">a1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">g</span> <span class="ltree">a1</span></span>)</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34859">L34859</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="34861">L34861</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hx2</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree">a2</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="34863">L34863</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">x</span></span> <span class="ltree">y2</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34863">L34863</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">a2</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">g</span> <span class="ltree">a2</span></span>)</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34864">L34864</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="34866">L34866</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha12</span>: <span class="ltree"><span class="ltree"><span class="ltree">a1</span> <a href="#notation_5">=</a> <span class="ltree">a2</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="34868">L34868</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hx1</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34868">L34868</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hx2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="34870">L34870</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hy1</span>: <span class="ltree"><span class="ltree"><span class="ltree">y1</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">g</span> <span class="ltree">a1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="34872">L34872</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">x</span></span> <span class="ltree">y1</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34872">L34872</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">a1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">g</span> <span class="ltree">a1</span></span>)</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34873">L34873</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="34875">L34875</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hy2</span>: <span class="ltree"><span class="ltree"><span class="ltree">y2</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">g</span> <span class="ltree">a2</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="34877">L34877</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">x</span></span> <span class="ltree">y2</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34877">L34877</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">a2</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">g</span> <span class="ltree">a2</span></span>)</span></span>)</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34878">L34878</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="34880">L34880</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hy1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34881">L34881</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hy2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="34882">L34882</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ha12</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
∎