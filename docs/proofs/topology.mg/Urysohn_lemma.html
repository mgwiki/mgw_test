<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: Urysohn lemma: In a normal space, disjoint closed sets can be separated by a continuous map into a closed interval. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155467">L155467</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, Tx, A, B, a and b</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155468">L155468</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hab</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155469">L155469</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnorm</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space" class="anamelink">normal_space</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155470">L155470</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HA</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155471">L155471</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HB</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155472">L155472</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hdisj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155473">L155473</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">∃f<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval" class="anamelink">closed_interval</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval_topology" class="anamelink">closed_interval_topology</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">f</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155476">L155476</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaR</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** setup: extract basic topology facts and interval topology ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155479">L155479</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_left" class="anamelink">RleE_left</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155479">L155479</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbR</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155481">L155481</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_right" class="anamelink">RleE_right</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155481">L155481</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HTx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_on" class="anamelink">topology_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155483">L155483</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_topology_on" class="anamelink">normal_space_topology_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Hnorm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155483">L155483</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HAsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155485">L155485</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in_subset" class="anamelink">closed_in_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span> <span class="ltree">HA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155485">L155485</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155487">L155487</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in_subset" class="anamelink">closed_in_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span> <span class="ltree">HB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155487">L155487</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">I</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval" class="anamelink">closed_interval</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155488">L155488</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ti</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval_topology" class="anamelink">closed_interval_topology</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155489">L155489</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaI</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155491">L155491</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155494">L155494</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbI</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155496">L155496</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155499">L155499</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HISubR</span>: <span class="ltree"><span class="ltree"><span class="ltree">I</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155501">L155501</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155501">L155501</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hr</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155501">L155501</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">Hr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155502">L155502</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HTi</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_on" class="anamelink">topology_on</a></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155504">L155504</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subspace_topology_is_topology" class="anamelink">subspace_topology_is_topology</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span> <span class="ltree">I</span></span> <span class="ltree">(<span class="ltree"><a href="#R_standard_topology_is_topology" class="anamelink">R_standard_topology_is_topology</a></span>)</span></span> <span class="ltree">HISubR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155504">L155504</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 0 (TeX): handle the degenerate interval case a=b by the constant map. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155507">L155507</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HabEq'</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155507">L155507</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">f</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun" class="anamelink">const_fun</a></span> <span class="ltree">X</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155508">L155508</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">f</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155509">L155509</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155511">L155511</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span> <span class="ltree">f</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155511">L155511</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155513">L155513</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun_continuous" class="anamelink">const_fun_continuous</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span> <span class="ltree">a</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HTi</span></span> <span class="ltree">HaI</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155514">L155514</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155514">L155514</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155514">L155514</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155516">L155516</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155516">L155516</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun_apply" class="anamelink">const_fun_apply</a></span> <span class="ltree">X</span></span> <span class="ltree">a</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155519">L155519</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155519">L155519</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155519">L155519</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155521">L155521</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HBsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155521">L155521</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun_apply" class="anamelink">const_fun_apply</a></span> <span class="ltree">X</span></span> <span class="ltree">a</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155522">L155522</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HabEq'</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155525">L155525</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HabNe</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155525">L155525</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsepAx</span>: <span class="ltree"><span class="ltree">∀A0 B0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A0</span> <a href="#notation_19">∩</a> <span class="ltree">B0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> → <span class="ltree">∃U V<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_19">∩</a> <span class="ltree">V</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33: non-degenerate interval case (a&lt;b). ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** First step of the TeX proof: get disjoint open neighborhoods of A and B, then closure-shrink them. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155531">L155531</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#one_point_sets_closed" class="anamelink">one_point_sets_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀A0 B0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A0</span> <a href="#notation_19">∩</a> <span class="ltree">B0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> → <span class="ltree">∃U V<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_19">∩</a> <span class="ltree">V</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span></span></span></span></span>)</span></span> <span class="ltree">Hnorm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155534">L155534</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexShrink</span>: <span class="ltree"><span class="ltree">∃U0 V0 U1 V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155541">L155541</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HsepAx</span> <span class="ltree">A</span></span> <span class="ltree">B</span></span> <span class="ltree">HA</span></span> <span class="ltree">HB</span></span> <span class="ltree">Hdisj</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155541">L155541</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155542">L155542</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexV0</span>: <span class="ltree"><span class="ltree">∃V0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155543">L155543</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexV0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155544">L155544</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155545">L155545</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155546">L155546</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore0</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155548">L155548</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span> <span class="ltree">HUV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155550">L155550</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore1</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155552">L155552</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">Hcore0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155554">L155554</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155556">L155556</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">Hcore0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155558">L155558</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUVTx</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155560">L155560</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">Hcore1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155562">L155562</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HAsubU0</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155564">L155564</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">Hcore1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155566">L155566</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155568">L155568</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUVTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155568">L155568</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155570">L155570</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUVTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155570">L155570</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HshrinkA</span>: <span class="ltree"><span class="ltree">∃U1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155572">L155572</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_shrink_closed" class="anamelink">normal_space_shrink_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span> <span class="ltree">U0</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">HA</span></span> <span class="ltree">HU0Tx</span></span> <span class="ltree">HAsubU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155572">L155572</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HshrinkA</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155573">L155573</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155574">L155574</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155575">L155575</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HshrinkB</span>: <span class="ltree"><span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155577">L155577</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_shrink_closed" class="anamelink">normal_space_shrink_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span> <span class="ltree">V0</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">HB</span></span> <span class="ltree">HV0Tx</span></span> <span class="ltree">HBsubV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155577">L155577</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HshrinkB</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155578">L155578</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155579">L155579</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HV1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155580">L155580</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">U0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155581">L155581</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">V0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155582">L155582</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">U1</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155583">L155583</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">V1</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155584">L155584</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155587">L155587</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155589">L155589</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUV0</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155590">L155590</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155591">L155591</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155592">L155592</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HV1</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155592">L155592</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexShrink</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155594">L155594</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U0</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Extract U0,V0,U1,V1 and derive basic disjointness and inclusion properties for the later construction. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155595">L155595</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexV0</span>: <span class="ltree"><span class="ltree">∃V0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree">∃U1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155598">L155598</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexV0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155599">L155599</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155600">L155600</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexU1</span>: <span class="ltree"><span class="ltree">∃U1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155603">L155603</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexU1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155604">L155604</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155605">L155605</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexV1</span>: <span class="ltree"><span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155608">L155608</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexV1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155609">L155609</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155610">L155610</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hshrink</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155612">L155612</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155614">L155614</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span> <span class="ltree">Hshrink</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155617">L155617</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155620">L155620</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span> <span class="ltree">Hshrink</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155623">L155623</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0core</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155625">L155625</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span> <span class="ltree">HUV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155627">L155627</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0disj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155629">L155629</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span> <span class="ltree">HUV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155631">L155631</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0L</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155633">L155633</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV0core</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155635">L155635</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155637">L155637</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV0core</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155639">L155639</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155641">L155641</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">HUV0L</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155641">L155641</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155643">L155643</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUV0Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155643">L155643</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155645">L155645</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUV0Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155645">L155645</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV1U</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155647">L155647</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">HUV1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155649">L155649</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV1V</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155651">L155651</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">HUV1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155653">L155653</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155655">L155655</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1pair</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155656">L155656</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">HUV1U</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155656">L155656</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span>)</span></span> <span class="ltree">HU1pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155657">L155657</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155659">L155659</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1pair</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155660">L155660</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV1V</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155660">L155660</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HV1pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155661">L155661</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclU1subU0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155663">L155663</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">HUV1U</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155663">L155663</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclV1subV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155665">L155665</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV1V</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155665">L155665</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1subX</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155667">L155667</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU1Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155667">L155667</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1subX</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155669">L155669</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HV1Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155669">L155669</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1subU0</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155671">L155671</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1subCl</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155672">L155672</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU1subX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155672">L155672</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">U1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">U0</span></span> <span class="ltree">HU1subCl</span></span> <span class="ltree">HclU1subU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155673">L155673</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1subV0</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155675">L155675</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1subCl</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155676">L155676</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HV1subX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155676">L155676</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">V1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">V0</span></span> <span class="ltree">HV1subCl</span></span> <span class="ltree">HclV1subV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155677">L155677</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1V1disj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155679">L155679</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#Empty_Subq_eq" class="anamelink">Empty_Subq_eq</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155679">L155679</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubU0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155681">L155681</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">U1</span></span> <span class="ltree">U0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_1" class="anamelink">binintersect_Subq_1</a></span> <span class="ltree">U1</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HU1subU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155681">L155681</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155683">L155683</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">V1</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_2" class="anamelink">binintersect_Subq_2</a></span> <span class="ltree">U1</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HV1subV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155683">L155683</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155685">L155685</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_max" class="anamelink">binintersect_Subq_max</a></span> <span class="ltree">U0</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HsubU0</span></span> <span class="ltree">HsubV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155685">L155685</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155687">L155687</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUV0disj</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155687">L155687</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Subq_ref" class="anamelink">Subq_ref</a></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155687">L155687</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">HsubUV0</span></span> <span class="ltree">HsubEmpty</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155688">L155688</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclU1clV1disj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155690">L155690</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#Empty_Subq_eq" class="anamelink">Empty_Subq_eq</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155690">L155690</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubU0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155692">L155692</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">U0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_1" class="anamelink">binintersect_Subq_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span>)</span></span> <span class="ltree">HclU1subU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155693">L155693</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155695">L155695</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_2" class="anamelink">binintersect_Subq_2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span>)</span></span> <span class="ltree">HclV1subV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155696">L155696</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155698">L155698</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_max" class="anamelink">binintersect_Subq_max</a></span> <span class="ltree">U0</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">HsubU0</span></span> <span class="ltree">HsubV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155698">L155698</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155700">L155700</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUV0disj</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155700">L155700</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Subq_ref" class="anamelink">Subq_ref</a></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155700">L155700</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">HsubUV0</span></span> <span class="ltree">HsubEmpty</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155701">L155701</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnltba</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155703">L155703</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155703">L155703</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaRb</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155705">L155705</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155705">L155705</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbRb</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155707">L155707</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155707">L155707</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hltab</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155709">L155709</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155710">L155710</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">a</span></span> <span class="ltree">HaRb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155710">L155710</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155712">L155712</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">HbRb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155712">L155712</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNoLt_trichotomy_or_impred" class="anamelink">SNoLt_trichotomy_or_impred</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HaS</span></span> <span class="ltree">HbS</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155714">L155714</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HabSlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_45">&lt;</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155714">L155714</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RltI" class="anamelink">RltI</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HaRb</span></span> <span class="ltree">HbRb</span></span> <span class="ltree">HabSlt</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155716">L155716</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155716">L155716</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155717">L155717</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HabNe</span> <span class="ltree">Heq</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155719">L155719</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HbaSlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_45">&lt;</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155719">L155719</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbaRlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155721">L155721</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RltI" class="anamelink">RltI</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span> <span class="ltree">HbRb</span></span> <span class="ltree">HaRb</span></span> <span class="ltree">HbaSlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155721">L155721</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155722">L155722</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnltba</span> <span class="ltree">HbaRlt</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155723">L155723</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">U_b</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155725">L155725</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_bTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_b</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (setup for the indexed open family): define the endpoint neighborhoods U_b and U_a. ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155727">L155727</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_in_elem" class="anamelink">open_in_elem</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_of_closed_complement" class="anamelink">open_of_closed_complement</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span> <span class="ltree">HB</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155727">L155727</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HA_sub_U_b</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155729">L155729</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155729">L155729</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155729">L155729</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155731">L155731</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155731">L155731</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155733">L155733</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155733">L155733</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxAB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155735">L155735</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree">A</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155735">L155735</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155737">L155737</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hdisj</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155737">L155737</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxAB</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155738">L155738</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span> <span class="ltree"><a href="#False" class="anamelink">False</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155739">L155739</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">X</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HxNotB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155740">L155740</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexU_a</span>: <span class="ltree"><span class="ltree">∃U_a<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155742">L155742</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_shrink_closed" class="anamelink">normal_space_shrink_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">HA</span></span> <span class="ltree">HU_bTx</span></span> <span class="ltree">HA_sub_U_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155742">L155742</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexU_a</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155743">L155743</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U_a</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155744">L155744</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU_a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155745">L155745</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_aTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155747">L155747</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_a12</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155748">L155748</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span>)</span></span> <span class="ltree">HU_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155748">L155748</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span>)</span></span> <span class="ltree">HU_a12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155749">L155749</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclU_a_sub_U_b</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155751">L155751</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span>)</span></span> <span class="ltree">HU_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155751">L155751</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hex_between</span>: <span class="ltree"><span class="ltree">∀r : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span> → <span class="ltree">∃Ur<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Helper instantiation: between any a&lt;r&lt;b, insert Ur with cl(U_a)⊆Ur⊆cl(Ur)⊆U_b (finite family {a,b}). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155755">L155755</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155755">L155755</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrR</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155755">L155755</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Har</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155756">L155756</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hrb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155757">L155757</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">F</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155758">L155758</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFfin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155760">L155760</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_UPair" class="anamelink">finite_UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155760">L155760</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFsubR</span>: <span class="ltree"><span class="ltree"><span class="ltree">F</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155762">L155762</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155762">L155762</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtF</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155762">L155762</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">t</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HtF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155764">L155764</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155764">L155764</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155764">L155764</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155765">L155765</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155765">L155765</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155765">L155765</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155765">L155765</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Uof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155766">L155766</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUof</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155768">L155768</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155768">L155768</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155768">L155768</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HpF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155770">L155770</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155770">L155770</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155771">L155771</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155773">L155773</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155774">L155774</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155776">L155776</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155777">L155777</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_aTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155779">L155779</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155779">L155779</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155780">L155780</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155782">L155782</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155783">L155783</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155785">L155785</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155785">L155785</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155787">L155787</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155787">L155787</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155788">L155788</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_bTx</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155789">L155789</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155791">L155791</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155791">L155791</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155792">L155792</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155793">L155793</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155794">L155794</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HpF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155796">L155796</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155796">L155796</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155797">L155797</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155799">L155799</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155799">L155799</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155800">L155800</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155802">L155802</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155802">L155802</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155803">L155803</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155804">L155804</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Haa</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155806">L155806</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155806">L155806</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155807">L155807</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155809">L155809</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155810">L155810</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155812">L155812</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155813">L155813</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155814">L155814</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155816">L155816</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155817">L155817</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155817">L155817</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155819">L155819</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155819">L155819</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155821">L155821</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155822">L155822</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155823">L155823</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155824">L155824</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155825">L155825</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HclU_a_sub_U_b</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155827">L155827</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155827">L155827</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155828">L155828</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155830">L155830</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155830">L155830</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155830">L155830</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnltba</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155831">L155831</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155833">L155833</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155833">L155833</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155835">L155835</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155835">L155835</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hbq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155835">L155835</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155837">L155837</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155837">L155837</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155838">L155838</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155840">L155840</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from right to left) at position 2.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155840">L155840</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hbq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155840">L155840</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155841">L155841</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_extend_nested_open_family_by_point" class="anamelink">normal_extend_nested_open_family_by_point</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">F</span></span> <span class="ltree">HFfin</span></span> <span class="ltree">HFsubR</span></span> <span class="ltree">Uof</span></span> <span class="ltree">HUof</span></span> <span class="ltree">Hnest</span></span> <span class="ltree">r</span></span> <span class="ltree">HrR</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155842">L155842</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">Ur</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155843">L155843</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155846">L155846</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">Ur</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155847">L155847</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUr12</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155849">L155849</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155851">L155851</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155853">L155853</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span>)</span></span> <span class="ltree">HUr12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155855">L155855</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleft</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155857">L155857</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span>)</span></span> <span class="ltree">HUr12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155859">L155859</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hright</span>: <span class="ltree"><span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155861">L155861</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155863">L155863</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155865">L155865</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155866">L155866</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155868">L155868</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155869">L155869</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155870">L155870</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155872">L155872</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155873">L155873</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155873">L155873</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155875">L155875</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155875">L155875</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155877">L155877</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155878">L155878</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155879">L155879</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155881">L155881</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155882">L155882</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUrTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155883">L155883</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofa</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155883">L155883</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hleft</span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI1" class="anamelink">UPairI1</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">Har</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155885">L155885</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofb</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155885">L155885</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hright</span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI2" class="anamelink">UPairI2</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">Hrb</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155887">L155887</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">P0</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span> <a href="#notation_19">∩</a> <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155889">L155889</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">P</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree">P0</span> <a href="#notation_14">∪</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1: choose a countable dense index set inside [a,b]. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155890">L155890</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP_count</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155892">L155892</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQcount</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** P0 is countable as a subset of Q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155894">L155894</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><a href="#rational_numbers_countable" class="anamelink">rational_numbers_countable</a></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155894">L155894</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP0count</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155896">L155896</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_countable_left" class="anamelink">binintersect_countable_left</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">HQcount</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155896">L155896</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HabFin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** add endpoints a,b (finite hence countable) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155899">L155899</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_UPair" class="anamelink">finite_UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155899">L155899</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HabCount</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155901">L155901</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_countable" class="anamelink">finite_countable</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">HabFin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155901">L155901</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunion_countable" class="anamelink">binunion_countable</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">HP0count</span></span> <span class="ltree">HabCount</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155902">L155902</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP_sub_R</span>: <span class="ltree"><span class="ltree"><span class="ltree">P</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155904">L155904</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155904">L155904</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrP</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155904">L155904</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">HrP</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155906">L155906</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155906">L155906</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155908">L155908</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectE1" class="anamelink">binintersectE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">r</span></span> <span class="ltree">HrP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155908">L155908</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">r</span></span> <span class="ltree">HrQ</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155910">L155910</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrAB</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155910">L155910</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155912">L155912</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HrAB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155912">L155912</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HrEq</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155914">L155914</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hra</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155914">L155914</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hra</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155915">L155915</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155917">L155917</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hrb</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155917">L155917</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hrb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155918">L155918</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155919">L155919</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HP_count</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155921">L155921</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">code</span> of type <span class="ltree"><span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1: use countability of P to obtain an injection code:P→ω (used to define finite prefixes). ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155922">L155922</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcode_inj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#inj" class="anamelink">inj</a></span> <span class="ltree">P</span></span> <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span> <span class="ltree">code</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155923">L155923</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcode_in_omega</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155925">L155925</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcode_inj</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155925">L155925</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcode_in Hcode_inj0</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155926">L155926</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155927">L155927</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155927">L155927</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155928">L155928</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ppref</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree">P</span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155930">L155930</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpref_finite</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Ppref</span> <span class="ltree">n</span></span>)</span></span></span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Finite prefixes of P via the injection code ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155932">L155932</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155932">L155932</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155932">L155932</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#inj_omega_preimage_ordsucc_finite" class="anamelink">inj_omega_preimage_ordsucc_finite</a></span> <span class="ltree">P</span></span> <span class="ltree">n</span></span> <span class="ltree">code</span></span> <span class="ltree">Hnat</span></span> <span class="ltree">Hcode_inj</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155933">L155933</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">P_eq</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree">P</span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155935">L155935</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">pnew</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#Eps_i" class="anamelink">Eps_i</a></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (work-in-progress): pick the (unique) element of P with a given code value. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155936">L155936</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpnew_spec</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155939">L155939</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155939">L155939</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155939">L155939</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ppred</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155940">L155940</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewPpred</span>: <span class="ltree"><span class="ltree"><span class="ltree">Ppred</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155942">L155942</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Eps_i_ex" class="anamelink">Eps_i_ex</a></span> <span class="ltree">Ppred</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155942">L155942</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewPpred</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155943">L155943</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">BaseF</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155945">L155945</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">BaseG</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (planned): a nat_primrec state carrying a finite domain and a function-graph on it. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155946">L155946</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">BaseState</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">BaseF</span>,<span class="ltree">BaseG</span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155947">L155947</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ur_of</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn st : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#Eps_i" class="anamelink">Eps_i</a></span> <span class="ltree">(<span class="ltree">λU : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155955">L155955</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Gext</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn st : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 1 helper: extend the stage-graph by rebuilding it as a graph over the enlarged domain. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155959">L155959</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">StepState</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn st : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155966">L155966</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">State</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155967">L155967</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Fof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155968">L155968</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Gof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155969">L155969</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Inv</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λst : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 invariant for the finite-stage construction. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155976">L155976</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseFfin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Basic facts about the base state. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155979">L155979</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_UPair" class="anamelink">finite_UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155979">L155979</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseGa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155981">L155981</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaBaseF</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155982">L155982</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI1" class="anamelink">UPairI1</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155982">L155982</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155984">L155984</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaBaseF</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155985">L155985</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155987">L155987</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseGb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155989">L155989</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbBaseF</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155990">L155990</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI2" class="anamelink">UPairI2</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155990">L155990</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">HbBaseF</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155991">L155991</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155993">L155993</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155993">L155993</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155995">L155995</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155995">L155995</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155997">L155997</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvBase</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Base state satisfies Inv. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156000">L156000</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseStateDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree">BaseF</span>,<span class="ltree">BaseG</span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** destruct the left-associated conjunction defining Inv ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156002">L156002</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseState0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156004">L156004</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseStateDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156004">L156004</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156005">L156005</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseState1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseG</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156007">L156007</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseStateDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156007">L156007</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156008">L156008</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvUnfold</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">BaseState</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156016">L156016</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HInvUnfold</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156017">L156017</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156019">L156019</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156021">L156021</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156023">L156023</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156024">L156024</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156026">L156026</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156027">L156027</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156029">L156029</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156029">L156029</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156031">L156031</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156032">L156032</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HBaseFfin</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** finite (BaseState 0) ***)</div>

</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156034">L156034</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156035">L156035</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** (BaseState 0) c= R ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156036">L156036</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtF</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156036">L156036</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">t</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HtF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156038">L156038</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hta</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156038">L156038</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156038">L156038</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156039">L156039</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Htb</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156039">L156039</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Htb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156039">L156039</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156040">L156040</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156041">L156041</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right).</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** total_function_on (BaseState 1) (BaseState 0) Tx ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156042">L156042</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_graph" class="anamelink">total_function_on_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156043">L156043</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156044">L156044</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtF</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156044">L156044</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ht_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156046">L156046</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">t</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HtF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156046">L156046</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Ht_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156048">L156048</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156048">L156048</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156050">L156050</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right) at position 1.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156051">L156051</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156053">L156053</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156055">L156055</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156056">L156056</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156058">L156058</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156059">L156059</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_aTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156061">L156061</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156061">L156061</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156063">L156063</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156063">L156063</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156065">L156065</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156065">L156065</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_b</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156067">L156067</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right) at position 1.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156068">L156068</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156070">L156070</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156071">L156071</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156073">L156073</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156074">L156074</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_bTx</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156076">L156076</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156077">L156077</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph_graph" class="anamelink">functional_graph_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** functional_graph (BaseState 1) ***)</div>

</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156079">L156079</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156080">L156080</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right) at position 1.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** graph_domain_subset (BaseState 1) (BaseState 0) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156081">L156081</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset_graph" class="anamelink">graph_domain_subset_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156083">L156083</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156084">L156084</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** nesting invariant for the base family ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156085">L156085</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156086">L156086</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156087">L156087</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156088">L156088</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156090">L156090</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156090">L156090</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156091">L156091</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156093">L156093</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156093">L156093</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156094">L156094</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156095">L156095</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HpF0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156097">L156097</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156097">L156097</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156099">L156099</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156099">L156099</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156100">L156100</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpqaa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156102">L156102</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156102">L156102</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156103">L156103</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156104">L156104</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span>)</span> <span class="ltree">Hpqaa</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156106">L156106</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156106">L156106</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156107">L156107</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156108">L156108</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseGa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156109">L156109</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseGb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156110">L156110</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HclU_a_sub_U_b</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156112">L156112</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156112">L156112</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156114">L156114</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156114">L156114</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156115">L156115</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpqba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156117">L156117</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156117">L156117</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156118">L156118</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156119">L156119</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnltba</span> <span class="ltree">Hpqba</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156121">L156121</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156121">L156121</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156122">L156122</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpqbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156124">L156124</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156124">L156124</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156125">L156125</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156126">L156126</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span> <span class="ltree">Hpqbb</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156128">L156128</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcode_inj_eq</span>: <span class="ltree"><span class="ltree">∀x z : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">z</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">z</span></span></span> → <span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree">z</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** code-fiber selector agrees with any given witness (by injectivity). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156131">L156131</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hinj0</span>: <span class="ltree"><span class="ltree">∀x z<a href="#In_notation"> ∈ </a><span class="ltree">P</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">z</span></span></span> → <span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree">z</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156132">L156132</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcode_inj</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156132">L156132</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">_ Hinj0'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156133">L156133</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hinj0'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156134">L156134</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156135">L156135</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">z</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156135">L156135</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxP</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156136">L156136</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HzP</span>: <span class="ltree"><span class="ltree"><span class="ltree">z</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156137">L156137</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">z</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156138">L156138</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hinj0</span> <span class="ltree">x</span></span> <span class="ltree">HxP</span></span> <span class="ltree">z</span></span> <span class="ltree">HzP</span></span> <span class="ltree">Heq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156139">L156139</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpnew_eq_of_code</span>: <span class="ltree"><span class="ltree">∀n p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156142">L156142</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156142">L156142</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156142">L156142</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcodep</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156143">L156143</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156144">L156144</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpnewpair</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156146">L156146</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hpnew_spec</span> <span class="ltree">n</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156146">L156146</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewP</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156148">L156148</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hpnewpair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156148">L156148</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcodenew</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156150">L156150</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hpnewpair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156150">L156150</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hcode_inj_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpnewP</span></span> <span class="ltree">HpP</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156151">L156151</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcodeeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156153">L156153</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hcodenew</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156153">L156153</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hcodep</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156155">L156155</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hcodeeq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156156">L156156</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStep</span>: <span class="ltree"><span class="ltree">∀n st : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">st</span></span> → <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (in progress): stage invariants for the nat_primrec construction. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156159">L156159</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n and st</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156159">L156159</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HInvst</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">st</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156160">L156160</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156162">L156162</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156162">L156162</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156164">L156164</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156164">L156164</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156169">L156169</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156172">L156172</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156172">L156172</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156175">L156175</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">st</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156177">L156177</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156177">L156177</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156178">L156178</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156179">L156179</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvst</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156181">L156181</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156181">L156181</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Main Step 1 extension case: insert pnew n between lower/upper members via Ur_of and rebuild the graph on the enlarged domain. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156187">L156187</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156190">L156190</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156190">L156190</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156193">L156193</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156195">L156195</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156195">L156195</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156196">L156196</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156197">L156197</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvUnfold2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** unpack Inv st (as a left-associated conjunction) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156206">L156206</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStExp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156213">L156213</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HInvUnfold2</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156213">L156213</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvst</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156214">L156214</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead12345</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** HInvStExp parses left-associatively:<br>                       (((((finite /\ subR) /\ tot) /\ fun) /\ dom) /\ nest) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156220">L156220</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStExp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156225">L156225</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156229">L156229</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStExp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156234">L156234</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead1234</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156237">L156237</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead12345</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156240">L156240</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hdom</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156242">L156242</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead12345</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156245">L156245</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead123</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156248">L156248</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead1234</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156251">L156251</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156253">L156253</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead1234</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156256">L156256</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead12</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156258">L156258</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">Hhead123</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156261">L156261</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htot</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156263">L156263</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">Hhead123</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156266">L156266</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfinF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156268">L156268</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">Hhead12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156268">L156268</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFsubR0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156270">L156270</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">Hhead12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156270">L156270</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">F</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156272">L156272</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Uof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** obtain Ur_of from normal_extend_nested_open_family_by_point ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156273">L156273</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofTx</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156275">L156275</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfunon</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">F</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156276">L156276</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">F</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree">∃y<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">Htot</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156278">L156278</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156279">L156279</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156279">L156279</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfunon</span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156280">L156280</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnestU</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156282">L156282</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156282">L156282</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156282">L156282</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156283">L156283</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156284">L156284</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HpF</span></span> <span class="ltree">HqF</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156285">L156285</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrP</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156287">L156287</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hpnew_spec</span> <span class="ltree">n</span></span> <span class="ltree">Hex</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156287">L156287</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156289">L156289</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HP_sub_R</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">HrP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156289">L156289</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexU</span>: <span class="ltree"><span class="ltree">∃U<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156294">L156294</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_extend_nested_open_family_by_point" class="anamelink">normal_extend_nested_open_family_by_point</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">F</span></span> <span class="ltree">HfinF</span></span> <span class="ltree">HFsubR0</span></span> <span class="ltree">Uof</span></span> <span class="ltree">HUofTx</span></span> <span class="ltree">HnestU</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">HrR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156294">L156294</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUr_of</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156299">L156299</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Pred</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λU : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156302">L156302</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexPred</span>: <span class="ltree"><span class="ltree">∃U<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">Pred</span> <span class="ltree">U</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156304">L156304</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HexU</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156304">L156304</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Eps_i_ex" class="anamelink">Eps_i_ex</a></span> <span class="ltree">Pred</span></span> <span class="ltree">HexPred</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156305">L156305</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUr_head</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** destruct HUr_of (left-associative conjunction) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156310">L156310</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr_of</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156314">L156314</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156316">L156316</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HUr_head</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156319">L156319</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrLower</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156322">L156322</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HUr_head</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156325">L156325</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrUpper</span>: <span class="ltree"><span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156328">L156328</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr_of</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156332">L156332</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvUnfoldNew</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** prove Inv for the new tuple up to the nesting clause ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156345">L156345</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HInvUnfoldNew</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156346">L156346</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htmp0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156348">L156348</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156348">L156348</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htmp1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156350">L156350</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156350">L156350</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFdef</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156352">L156352</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Htmp0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156353">L156353</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Htmp1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156354">L156354</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156355">L156355</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGextDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156360">L156360</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156362">L156362</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>)</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156365">L156365</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156367">L156367</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>)</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156369">L156369</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156371">L156371</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156372">L156372</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156374">L156374</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156374">L156374</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156376">L156376</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunion_finite" class="anamelink">binunion_finite</a></span> <span class="ltree">F</span></span> <span class="ltree">HfinF</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Sing_finite" class="anamelink">Sing_finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156377">L156377</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156377">L156377</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156377">L156377</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hx_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156379">L156379</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156379">L156379</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hx_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156381">L156381</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxF</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156381">L156381</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HFsubR0</span> <span class="ltree">x</span></span> <span class="ltree">HxF</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156383">L156383</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hxr</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156383">L156383</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156385">L156385</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hxr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156385">L156385</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hxeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156386">L156386</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HrR</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156388">L156388</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156389">L156389</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_graph" class="anamelink">total_function_on_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** total_function_on for the extended graph ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156391">L156391</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156392">L156392</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156392">L156392</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta_if</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156396">L156396</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta_if</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156397">L156397</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156399">L156399</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">Hp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156399">L156399</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hp_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156401">L156401</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156401">L156401</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156403">L156403</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156403">L156403</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156404">L156404</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156406">L156406</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HIfEq1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156409">L156409</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156409">L156409</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HIfEq1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156410">L156410</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUrTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156412">L156412</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156412">L156412</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HIfEq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156415">L156415</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156415">L156415</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HIfEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156416">L156416</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HUofTx</span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156418">L156418</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpr</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156418">L156418</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156420">L156420</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">Hpr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156420">L156420</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156421">L156421</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156423">L156423</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HIfEq1b</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156426">L156426</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156426">L156426</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HIfEq1b</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156427">L156427</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUrTx</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156429">L156429</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156430">L156430</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph_graph" class="anamelink">functional_graph_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** functional_graph for the extended graph ***)</div>

</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156433">L156433</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156434">L156434</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset_graph" class="anamelink">graph_domain_subset_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** graph_domain_subset for the extended graph ***)</div>

</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156437">L156437</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156437">L156437</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156438">L156438</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156439">L156439</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156440">L156440</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156442">L156442</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hap_p</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** rewrite apply_fun of the graph-defined extension ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156447">L156447</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">Hp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156448">L156448</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hap_q</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156453">L156453</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156454">L156454</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hap_p</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156455">L156455</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hap_q</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156456">L156456</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156458">L156458</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">Hp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156458">L156458</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156460">L156460</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">q</span></span> <span class="ltree">Hq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156460">L156460</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hp_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156462">L156462</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156462">L156462</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hq_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156464">L156464</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156464">L156464</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** both p and q are from the old domain ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156467">L156467</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156467">L156467</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156468">L156468</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156470">L156470</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156471">L156471</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156471">L156471</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156472">L156472</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156473">L156473</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156474">L156474</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156476">L156476</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156476">L156476</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156477">L156477</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156479">L156479</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156480">L156480</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156480">L156480</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156481">L156481</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156482">L156482</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156483">L156483</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifp</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156486">L156486</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hpneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156486">L156486</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156489">L156489</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hqneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156489">L156489</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifp</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156490">L156490</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156491">L156491</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HpF</span></span> <span class="ltree">HqF</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156493">L156493</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqr</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156493">L156493</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156495">L156495</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hqr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156495">L156495</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156496">L156496</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156498">L156498</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156501">L156501</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156501">L156501</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156502">L156502</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156504">L156504</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156504">L156504</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156505">L156505</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156507">L156507</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156508">L156508</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156508">L156508</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156509">L156509</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156510">L156510</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156511">L156511</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifp</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156514">L156514</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hpneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156514">L156514</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifp</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156515">L156515</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156517">L156517</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqeq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156517">L156517</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156518">L156518</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HUrLower</span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span> <span class="ltree">Hpq'</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156520">L156520</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpr</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156520">L156520</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156522">L156522</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">Hpr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156522">L156522</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156523">L156523</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hq_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156525">L156525</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156525">L156525</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156527">L156527</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifp</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156530">L156530</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156530">L156530</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifp</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156531">L156531</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156533">L156533</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156533">L156533</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156534">L156534</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156536">L156536</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156537">L156537</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156537">L156537</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156538">L156538</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156539">L156539</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156540">L156540</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156543">L156543</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hqneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156543">L156543</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156544">L156544</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156546">L156546</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156546">L156546</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156547">L156547</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HUrUpper</span> <span class="ltree">q</span></span> <span class="ltree">HqF</span></span> <span class="ltree">Hpq'</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156549">L156549</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqr</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156549">L156549</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156551">L156551</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hqr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156551">L156551</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156552">L156552</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbad</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156554">L156554</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqeq</span></span> (from right to left) at position 2.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156554">L156554</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156555">L156555</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156556">L156556</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">HrR</span></span> <span class="ltree">Hbad</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156558">L156558</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnone</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156558">L156558</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156563">L156563</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">st</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156565">L156565</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156565">L156565</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">Hnone</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156568">L156568</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156569">L156569</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvst</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156570">L156570</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvAll</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156572">L156572</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156572">L156572</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156572">L156572</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbase</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156574">L156574</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">H0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156575">L156575</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_0" class="anamelink">nat_primrec_0</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156575">L156575</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">H0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156576">L156576</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvBase</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156577">L156577</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span> → <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">k</span></span>)</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156579">L156579</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156579">L156579</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156579">L156579</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HInvk</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156580">L156580</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">k</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">k</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156582">L156582</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">k</span></span> <span class="ltree">HkNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156582">L156582</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156583">L156583</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HInvStep</span> <span class="ltree">k</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">HInvk</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156584">L156584</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span></span>)</span></span> <span class="ltree">Hbase</span></span> <span class="ltree">Hstep</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156585">L156585</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">U_Q</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 2–4 (TeX): extend U_p to all rationals, define f(x)=inf Q(x), prove endpoints and continuity. ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 2: define U_Q on all rationals by empty below a and X above b. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156589">L156589</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Qx</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156591">L156591</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">LB</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>l<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_17">|</a><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 3: Q(x) := {p ∈ Q | x ∈ U_p}. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156593">L156593</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">fx</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#Eps_i" class="anamelink">Eps_i</a></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">r</span></span></span>)</span></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Lower bounds of Qx(x), used to define inf as a least upper bound. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156595">L156595</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">f</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** For each x, define f(x) as the lub of LB(x). ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156596">L156596</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp_in_dom_succ_code</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Basic helper: any p ∈ P appears in the domain at stage ordsucc(code p). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156600">L156600</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156600">L156600</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156600">L156600</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">n</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156601">L156601</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnO</span>: <span class="ltree"><span class="ltree"><span class="ltree">n</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156603">L156603</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156603">L156603</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156605">L156605</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">n</span></span> <span class="ltree">HnO</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156605">L156605</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156607">L156607</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156607">L156607</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156609">L156609</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">p</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156609">L156609</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156611">L156611</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpP</span></span>.</div>
</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156612">L156612</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcodep</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156614">L156614</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156616">L156616</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hpnew_eq_of_code</span> <span class="ltree">n</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span> <span class="ltree">Hcodep</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156616">L156616</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show pnew n ∈ (StepState n (State n)) 0, then rewrite ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156619">L156619</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156619">L156619</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156624">L156624</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156627">L156627</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156627">L156627</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156631">L156631</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156633">L156633</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156633">L156633</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156634">L156634</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156636">L156636</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156637">L156637</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156638">L156638</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156639">L156639</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpnewEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156640">L156640</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hin</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156642">L156642</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156642">L156642</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156647">L156647</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156650">L156650</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156650">L156650</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156654">L156654</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156656">L156656</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156656">L156656</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156657">L156657</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156659">L156659</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156660">L156660</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156661">L156661</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156662">L156662</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpInSing</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** domain is ((State n)0 :\/: {pnew n}) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156665">L156665</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpnewEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156665">L156665</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#SingI" class="anamelink">SingI</a></span> <span class="ltree">p</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156666">L156666</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdomEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156668">L156668</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156668">L156668</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HdomEq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156669">L156669</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI2" class="anamelink">binunionI2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">HpInSing</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156671">L156671</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Gof_preserve_old</span>: <span class="ltree"><span class="ltree">∀n p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** One-step preservation: once p is in the domain, its value does not change at the next stage. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156676">L156676</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156676">L156676</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156677">L156677</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156678">L156678</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156680">L156680</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156680">L156680</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** case split on whether StepState extends or not ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156683">L156683</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156683">L156683</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156685">L156685</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156685">L156685</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156690">L156690</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156693">L156693</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156693">L156693</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156697">L156697</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156699">L156699</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156699">L156699</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156700">L156700</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156702">L156702</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156704">L156704</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156706">L156706</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156706">L156706</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156708">L156708</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156708">L156708</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156709">L156709</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofN</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156710">L156710</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156711">L156711</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right) at position 1.</div>
</div>
<div>Use reflexivity.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156714">L156714</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156714">L156714</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156719">L156719</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156722">L156722</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156722">L156722</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156726">L156726</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156728">L156728</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156728">L156728</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156729">L156729</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156731">L156731</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156733">L156733</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156735">L156735</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156735">L156735</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156737">L156737</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156737">L156737</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156738">L156738</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156739">L156739</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofN</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156740">L156740</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156741">L156741</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156742">L156742</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom'</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** p is an old domain element, so p ≠ pnew n here ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156745">L156745</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156745">L156745</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpNe</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156747">L156747</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpEq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156747">L156747</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156749">L156749</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpEq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156749">L156749</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156750">L156750</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156752">L156752</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewDom</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156754">L156754</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156754">L156754</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156755">L156755</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156756">L156756</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewDom</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156757">L156757</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGextDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156762">L156762</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156763">L156763</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">gextfun</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156764">L156764</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Happ</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">gextfun</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">gextfun</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156766">L156766</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">gextfun</span></span> <span class="ltree">p</span></span> <span class="ltree">HpDom'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156766">L156766</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Happ</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156767">L156767</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hgextfunp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">gextfun</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156770">L156770</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hgextfunp</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156771">L156771</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156774">L156774</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HpNe</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156774">L156774</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156777">L156777</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnone</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156777">L156777</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156782">L156782</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156784">L156784</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156784">L156784</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hnone</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156788">L156788</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156790">L156790</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156792">L156792</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156794">L156794</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156794">L156794</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156796">L156796</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156796">L156796</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156797">L156797</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofN</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156798">L156798</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156799">L156799</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right) at position 1.</div>
</div>
<div>Use reflexivity.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156801">L156801</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Fof_mono_succ</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Domain monotonicity for the finite-stage construction. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156805">L156805</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156805">L156805</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156805">L156805</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156806">L156806</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156806">L156806</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156807">L156807</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156809">L156809</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156810">L156810</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156812">L156812</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156812">L156812</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156813">L156813</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156815">L156815</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156815">L156815</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156817">L156817</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156817">L156817</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156822">L156822</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156825">L156825</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156825">L156825</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156829">L156829</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156831">L156831</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156831">L156831</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156832">L156832</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156833">L156833</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156835">L156835</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156836">L156836</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156838">L156838</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156838">L156838</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156843">L156843</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156846">L156846</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156846">L156846</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156850">L156850</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156852">L156852</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156852">L156852</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156853">L156853</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156854">L156854</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdomEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156856">L156856</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156856">L156856</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HdomEq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156857">L156857</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156859">L156859</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156861">L156861</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156861">L156861</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156862">L156862</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">HpDom</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156864">L156864</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnone</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156864">L156864</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156869">L156869</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156871">L156871</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156871">L156871</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hnone</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156875">L156875</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156876">L156876</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156878">L156878</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156879">L156879</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156880">L156880</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Fof_increase_by_add</span>: <span class="ltree"><span class="ltree">∀n k p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">k</span></span>)</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Lift domain membership along addition. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156884">L156884</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n, k and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156884">L156884</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156885">L156885</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156886">L156886</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156887">L156887</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbase</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156889">L156889</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156890">L156890</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#add_nat_0R" class="anamelink">add_nat_0R</a></span> <span class="ltree">n</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156890">L156890</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156891">L156891</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156892">L156892</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree">∀t : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span>)</span> → <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156894">L156894</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156894">L156894</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156894">L156894</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtIH</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156895">L156895</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaddS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156897">L156897</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_SR" class="anamelink">add_nat_SR</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156897">L156897</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HntNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156899">L156899</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_p" class="anamelink">add_nat_p</a></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156899">L156899</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HaddS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156900">L156900</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_mono_succ</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">HntNat</span></span> <span class="ltree">p</span></span> <span class="ltree">HtIH</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156901">L156901</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>)</span></span> <span class="ltree">Hbase</span></span> <span class="ltree">Hstep</span></span> <span class="ltree">k</span></span> <span class="ltree">HkNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156902">L156902</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Gof_preserve_add</span>: <span class="ltree"><span class="ltree">∀n k p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">k</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Lift graph values along addition (values are preserved for old domain elements). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156907">L156907</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n, k and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156907">L156907</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156908">L156908</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156909">L156909</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156910">L156910</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbase</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156912">L156912</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156913">L156913</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#add_nat_0R" class="anamelink">add_nat_0R</a></span> <span class="ltree">n</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156913">L156913</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156915">L156915</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree">∀t : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> → <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156919">L156919</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156919">L156919</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156919">L156919</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtIH</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156920">L156920</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaddS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156922">L156922</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_SR" class="anamelink">add_nat_SR</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156922">L156922</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HntNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156924">L156924</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_p" class="anamelink">add_nat_p</a></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156924">L156924</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpFnt</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156926">L156926</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree">n</span></span> <span class="ltree">t</span></span> <span class="ltree">p</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">HtNat</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156926">L156926</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HaddS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156927">L156927</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpres</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156929">L156929</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_old</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HntNat</span></span> <span class="ltree">HpFnt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156929">L156929</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpres</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156930">L156930</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HtIH</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156931">L156931</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span> <span class="ltree">Hbase</span></span> <span class="ltree">Hstep</span></span> <span class="ltree">k</span></span> <span class="ltree">HkNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156932">L156932</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Inv_nesting_at</span>: <span class="ltree"><span class="ltree">∀n p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** The nesting property extracted from Inv at a given stage. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156937">L156937</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n, p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156937">L156937</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156938">L156938</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156939">L156939</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156940">L156940</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156941">L156941</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStage</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156943">L156943</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HInvAll</span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156943">L156943</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#and6E" class="anamelink">and6E</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStage</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156952">L156952</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfin Hsub Htot Hfg Hgd Hnest</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156953">L156953</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156955">L156955</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156957">L156957</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156959">L156959</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156959">L156959</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156960">L156960</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156962">L156962</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156962">L156962</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156963">L156963</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156964">L156964</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156965">L156965</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HpDom</span></span> <span class="ltree">HqDom</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156966">L156966</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">U_Q_closure_mono_I</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Closure nesting for U_Q on rationals inside the closed interval. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156973">L156973</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156973">L156973</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156974">L156974</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156975">L156975</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpI</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156976">L156976</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156977">L156977</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156978">L156978</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156980">L156980</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156980">L156980</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156982">L156982</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156982">L156982</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156984">L156984</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156984">L156984</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156986">L156986</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HqI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156986">L156986</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156988">L156988</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156988">L156988</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156990">L156990</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156990">L156990</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">np</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156992">L156992</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">nq</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156993">L156993</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodepO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156995">L156995</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156995">L156995</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodeqO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156997">L156997</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156997">L156997</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnpNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">np</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156999">L156999</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">np</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HcodepO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156999">L156999</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnqNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157001">L157001</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">nq</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HcodeqO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157001">L157001</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">n</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157002">L157002</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157004">L157004</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_p" class="anamelink">add_nat_p</a></span> <span class="ltree">np</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">nq</span></span> <span class="ltree">HnqNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157004">L157004</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDomNp</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157007">L157007</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157007">L157007</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDomNq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">nq</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157009">L157009</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157009">L157009</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDomN</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157011">L157011</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span> <span class="ltree">p</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HpDomNp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157011">L157011</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnCom</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157013">L157013</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_com" class="anamelink">add_nat_com</a></span> <span class="ltree">np</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">nq</span></span> <span class="ltree">HnqNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157013">L157013</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDomN'</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157015">L157015</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span> <span class="ltree">q</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HqDomNq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157015">L157015</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDomN</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157017">L157017</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HnCom</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157017">L157017</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqDomN'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157018">L157018</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpi</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** relate U_Q p and U_Q q to stage-n values ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157022">L157022</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157022">L157022</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157024">L157024</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">Hpi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157024">L157024</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157026">L157026</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">Hpi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157026">L157026</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqi</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157028">L157028</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157028">L157028</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157030">L157030</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hqi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157030">L157030</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157032">L157032</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hqi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157032">L157032</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157035">L157035</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157037">L157037</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157038">L157038</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157042">L157042</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157042">L157042</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157043">L157043</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157046">L157046</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hnbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157046">L157046</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157048">L157048</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157050">L157050</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157052">L157052</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157053">L157053</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157057">L157057</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157057">L157057</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157058">L157058</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157061">L157061</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hnbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157061">L157061</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157063">L157063</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157066">L157066</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span> <span class="ltree">p</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HpDomNp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157066">L157066</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqn'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157068">L157068</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span> <span class="ltree">q</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HqDomNq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157068">L157068</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157070">L157070</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HnCom</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157070">L157070</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hqn'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157071">L157071</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** apply Inv nesting at stage n and rewrite back to U_Q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157075">L157075</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv_nesting_at</span> <span class="ltree">n</span></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">HpDomN</span></span> <span class="ltree">HqDomN</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157075">L157075</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157076">L157076</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157076">L157076</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157077">L157077</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQpN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157079">L157079</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQp</span></span> (from left to right).</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="157080">L157080</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpn</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157080">L157080</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQqN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157082">L157082</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQq</span></span> (from left to right).</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="157083">L157083</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hqn</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157083">L157083</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hx'</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157085">L157085</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQpN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157085">L157085</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157086">L157086</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157088">L157088</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">x</span></span> <span class="ltree">Hx'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157088">L157088</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQqN</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157089">L157089</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxIn</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157090">L157090</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_Q_open</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Key: U_Q p is open for each rational p. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157094">L157094</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157094">L157094</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157094">L157094</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157096">L157096</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157096">L157096</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157098">L157098</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157098">L157098</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157101">L157101</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157103">L157103</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157103">L157103</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157104">L157104</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HU</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157105">L157105</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_has_empty" class="anamelink">topology_has_empty</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157107">L157107</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157107">L157107</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157109">L157109</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157109">L157109</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157112">L157112</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157114">L157114</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157114">L157114</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157118">L157118</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157118">L157118</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157119">L157119</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157120">L157120</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HU</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157121">L157121</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_has_X" class="anamelink">topology_has_X</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157123">L157123</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157123">L157123</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpI</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** p is a rational in the closed interval [a,b], hence in P. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157126">L157126</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">Hnpa</span></span> <span class="ltree">Hnbp</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157127">L157127</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157129">L157129</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157129">L157129</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157131">L157131</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157131">L157131</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157133">L157133</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157133">L157133</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodepO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157135">L157135</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157135">L157135</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HstageNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157137">L157137</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HcodepO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157137">L157137</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStage</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157139">L157139</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HInvAll</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">HstageNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157139">L157139</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtotState</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** extract total_function_on from Inv (State stage) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157142">L157142</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#and6E" class="anamelink">and6E</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStage</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157150">L157150</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfin Hsub Htot Hfg Hgd Hnest</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157151">L157151</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Htot</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157152">L157152</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htot</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157154">L157154</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157155">L157155</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157157">L157157</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157158">L157158</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157159">L157159</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HtotState</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157160">L157160</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** use total_function_on to get U_Q p ∈ Tx, then rewrite the if-branches ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157164">L157164</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157165">L157165</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157168">L157168</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157168">L157168</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157169">L157169</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157172">L157172</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hnbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157172">L157172</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157173">L157173</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_apply_fun_in_Y" class="anamelink">total_function_on_apply_fun_in_Y</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">Tx</span></span> <span class="ltree">p</span></span> <span class="ltree">Htot</span></span> <span class="ltree">HpDom</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157174">L157174</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxRlub</span>: <span class="ltree"><span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Each fx x is indeed a real number (lub in R). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157178">L157178</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157178">L157178</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157178">L157178</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_nonempty</span>: <span class="ltree"><span class="ltree">∃l0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">l0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show LB x satisfies R_lub_exists prerequisites ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157181">L157181</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">a</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157181">L157181</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLBdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>l<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_17">|</a><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157183">L157183</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HLBdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157184">L157184</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157186">L157186</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157186">L157186</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157186">L157186</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157187">L157187</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157189">L157189</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQx'</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157191">L157191</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157191">L157191</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpQx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157192">L157192</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157194">L157194</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQx'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157194">L157194</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157196">L157196</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157196">L157196</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157199">L157199</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157201">L157201</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157201">L157201</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157202">L157202</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157204">L157204</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157204">L157204</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157205">L157205</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxEmpty</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157207">L157207</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157207">L157207</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HpR</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157208">L157208</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Hprop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157209">L157209</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_in_R</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157211">L157211</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157211">L157211</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hl</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157211">L157211</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">Hl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157212">L157212</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** build a rational q0 with b &lt; q0, so q0 ∈ Qx x and bounds LB x above ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157215">L157215</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157215">L157215</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">bp1</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157216">L157216</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbp1R</span>: <span class="ltree"><span class="ltree"><span class="ltree">bp1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157218">L157218</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_add_SNo" class="anamelink">real_add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span> <span class="ltree"><a href="#real_1" class="anamelink">real_1</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157218">L157218</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbinpm</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_interval" class="anamelink">open_interval</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157220">L157220</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_in_open_interval_minus1_plus1" class="anamelink">real_in_open_interval_minus1_plus1</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157220">L157220</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbinpmProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157222">L157222</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λz : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">z</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">z</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbinpm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157222">L157222</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hb_lt_bp1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157224">L157224</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span>)</span></span> <span class="ltree">HbinpmProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157224">L157224</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbp1R</span></span> <span class="ltree">Hb_lt_bp1</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157225">L157225</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157226">L157226</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157226">L157226</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hq0pair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157226">L157226</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq0Q</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157227">L157227</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq0Prop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">bp1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157228">L157228</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157230">L157230</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q0</span></span> <span class="ltree">Hq0Q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157230">L157230</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157232">L157232</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">bp1</span></span>)</span></span> <span class="ltree">Hq0Prop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157232">L157232</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq0InQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157234">L157234</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157235">L157235</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq0Sep</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157237">L157237</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157238">L157238</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** U_Q q0 = X since b&lt;q0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157241">L157241</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157242">L157242</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157244">L157244</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157244">L157244</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HifEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157247">L157247</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157247">L157247</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HifEmpty</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157248">L157248</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157250">L157250</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span> <span class="ltree">Hbq0</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157250">L157250</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span> <span class="ltree">Hba</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157252">L157252</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157252">L157252</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HifStep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157256">L157256</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157256">L157256</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HifStep</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157257">L157257</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HifX</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157260">L157260</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span>)</span></span> <span class="ltree">Hbq0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157260">L157260</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HifX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157261">L157261</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157262">L157262</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q0</span></span> <span class="ltree">Hq0Q</span></span> <span class="ltree">HxU</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157263">L157263</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157264">L157264</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hq0Sep</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157265">L157265</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_upper</span>: <span class="ltree"><span class="ltree">∃u<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157267">L157267</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">q0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157267">L157267</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157269">L157269</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hq0R</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157270">L157270</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157270">L157270</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157270">L157270</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157270">L157270</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157272">L157272</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157272">L157272</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hlprop</span> <span class="ltree">q0</span></span> <span class="ltree">Hq0InQx</span></span> <span class="ltree">Hq0R</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157273">L157273</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexlub</span>: <span class="ltree"><span class="ltree">∃r<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">r</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** choose lub using R_lub_exists and define fx x using Eps_i ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157276">L157276</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub_exists" class="anamelink">R_lub_exists</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HLB_nonempty</span></span> <span class="ltree">HLB_in_R</span></span> <span class="ltree">HLB_upper</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157276">L157276</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Eps_i_ex" class="anamelink">Eps_i_ex</a></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">r</span></span></span>)</span></span> <span class="ltree">Hexlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157277">L157277</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfx_in_R</span>: <span class="ltree"><span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157280">L157280</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157280">L157280</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157280">L157280</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub_in_R" class="anamelink">R_lub_in_R</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157281">L157281</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfunXR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">f</span></span> <span class="ltree">X</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** f is a function X -&gt; R, and continuous into R_standard_topology via open rays subbasis. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157285">L157285</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157285">L157285</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157285">L157285</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157286">L157286</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157287">L157287</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcontR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span> <span class="ltree">f</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157290">L157290</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">S</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_rays_subbasis" class="anamelink">open_rays_subbasis</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157290">L157290</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subbasis_on" class="anamelink">subbasis_on</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">S</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157292">L157292</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#open_rays_subbasis_is_subbasis" class="anamelink">open_rays_subbasis_is_subbasis</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157292">L157292</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hgen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#generated_topology_from_subbasis" class="anamelink">generated_topology_from_subbasis</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">S</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157294">L157294</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><a href="#open_rays_subbasis_for_order_topology_R" class="anamelink">open_rays_subbasis_for_order_topology_R</a></span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157294">L157294</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><a href="#standard_topology_is_order_topology" class="anamelink">standard_topology_is_order_topology</a></span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157296">L157296</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hgen</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157297">L157297</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map_from_subbasis" class="anamelink">continuous_map_from_subbasis</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">S</span></span> <span class="ltree">f</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HfunXR</span></span> <span class="ltree">HS</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157298">L157298</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">s</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157299">L157299</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HsS</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree">S</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157299">L157299</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" ' class="anamelink">binunionE'</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_15">}</a></span></span> <span class="ltree">s</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">s</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** split s in the open rays subbasis ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157307">L157307</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hs0</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157309">L157309</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" ' class="anamelink">binunionE'</a></span> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span></span> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span> <span class="ltree">s</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">s</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157314">L157314</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hsup</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157314">L157314</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexa0</span>: <span class="ltree"><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** s = (a0,∞) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157317">L157317</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λI : <span class="ltree">set</span> ⇒  <span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span></span>)</span></span> <span class="ltree">s</span></span> <span class="ltree">Hsup</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157317">L157317</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hexa0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157318">L157318</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">a0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157319">L157319</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ha0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157319">L157319</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">a0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157321">L157321</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span>)</span></span> <span class="ltree">Ha0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157321">L157321</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hseq</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157323">L157323</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span>)</span></span> <span class="ltree">Ha0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157323">L157323</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hseq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157324">L157324</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Qgt</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_17">{</a>q<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span><a href="#notation_17">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157326">L157326</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Fam</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_9">{</a><span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span><a href="#notation_9">|</a>q<a href="#notation_9"> ∈ </a><span class="ltree">Qgt</span><a href="#notation_9">}</a></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show preimage is a union of complements of closures: ⋃_{q&gt;a0} (X\\cl(U_q)) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="157327">L157327</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFamPow</span>: <span class="ltree"><span class="ltree"><span class="ltree">Fam</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree">Tx</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157329">L157329</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#PowerI" class="anamelink">PowerI</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157329">L157329</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157330">L157330</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157330">L157330</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qgt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HU</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157331">L157331</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157332">L157332</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQgt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qgt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157332">L157332</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157333">L157333</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157334">L157334</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157336">L157336</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQgt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157336">L157336</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157338">L157338</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157338">L157338</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157340">L157340</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157340">L157340</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclClosed</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157342">L157342</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_is_closed" class="anamelink">closure_is_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUsubX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157342">L157342</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_in_elem" class="anamelink">open_in_elem</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_of_closed_complement" class="anamelink">open_of_closed_complement</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">HclClosed</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157344">L157344</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpreEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157346">L157346</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#set_ext" class="anamelink">set_ext</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157347">L157347</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157347">L157347</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157347">L157347</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157348">L157348</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157350">L157350</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157350">L157350</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157352">L157352</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157352">L157352</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157354">L157354</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157354">L157354</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltRel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157356">L157356</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HfxIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157356">L157356</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157358">L157358</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel_R_implies_Rlt" class="anamelink">order_rel_R_implies_Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HltRel</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157358">L157358</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Ha0R</span></span> <span class="ltree">HfxR</span></span> <span class="ltree">Hlt</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157360">L157360</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** choose rational q with a0 &lt; q &lt; f(x) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="157361">L157361</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqpair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157361">L157361</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hqpair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157361">L157361</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157362">L157362</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157363">L157363</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0q</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157365">L157365</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157365">L157365</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltfx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157367">L157367</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157367">L157367</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInQgt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qgt</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157369">L157369</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Ha0q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157369">L157369</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclNot</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157371">L157371</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnotcl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157372">L157372</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hxcl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157372">L157372</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** from x∈cl(U_q) we would get f(x) ≤ q, contradicting q &lt; f(x) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157375">L157375</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157375">L157375</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157377">L157377</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157378">L157378</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157379">L157379</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157380">L157380</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltfx_fx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157382">L157382</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157382">L157382</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hqltfx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157383">L157383</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show fx x &lt;= q from x∈cl(U_Q q) by a standard lower-bound argument ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157386">L157386</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157388">L157388</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157390">L157390</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157390">L157390</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157392">L157392</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157394">L157394</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157396">L157396</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157396">L157396</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_b</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** any l ∈ LB x satisfies l ≤ b, since Qx x contains rationals arbitrarily close above b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157400">L157400</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157400">L157400</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157400">L157400</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157400">L157400</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157402">L157402</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157402">L157402</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hbl</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157403">L157403</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157404">L157404</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157404">L157404</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HpPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157404">L157404</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157405">L157405</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157406">L157406</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157408">L157408</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157408">L157408</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157410">L157410</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157410">L157410</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157412">L157412</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157412">L157412</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157414">L157414</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157414">L157414</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157416">L157416</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hpa</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157416">L157416</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157418">L157418</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbp</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157418">L157418</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157419">L157419</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157422">L157422</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157425">L157425</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157425">L157425</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157427">L157427</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157427">L157427</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157428">L157428</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157429">L157429</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157431">L157431</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157431">L157431</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157432">L157432</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157434">L157434</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HxUp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157434">L157434</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157436">L157436</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157436">L157436</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlelp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157438">L157438</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span> <span class="ltree">HpR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157438">L157438</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157440">L157440</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span> <span class="ltree">Hlelp</span></span>)</span> <span class="ltree">Hpl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157440">L157440</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157442">L157442</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbl</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157442">L157442</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hnbl</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157443">L157443</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157446">L157446</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HLB_le_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157446">L157446</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q &lt; fx x ≤ b, so q &lt; b and hence q ∈ I once we also have q ≥ a ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157450">L157450</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hqltfx_fx</span></span> <span class="ltree">Hfxleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157450">L157450</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157452">L157452</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157452">L157452</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157454">L157454</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbq'</span></span> <span class="ltree">Hqltb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157454">L157454</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157455">L157455</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157457">L157457</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157458">L157458</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157458">L157458</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157461">L157461</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157463">L157463</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157463">L157463</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157464">L157464</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hclq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157466">L157466</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157466">L157466</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of_empty" class="anamelink">closure_of_empty</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157467">L157467</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157469">L157469</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hclq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157469">L157469</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hxcl</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157470">L157470</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157472">L157472</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnqa'</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157472">L157472</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hnqa'</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157473">L157473</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157476">L157476</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157477">L157477</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hub_q</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show q is an upper bound of LB x ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157481">L157481</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157481">L157481</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157481">L157481</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157481">L157481</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157483">L157483</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hql</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157483">L157483</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157485">L157485</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HLB_le_b</span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span> <span class="ltree">HlR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157485">L157485</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span> <span class="ltree">HqR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hql</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157486">L157486</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157487">L157487</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157487">L157487</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HrPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157487">L157487</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157488">L157488</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157489">L157489</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157491">L157491</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HrProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157491">L157491</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157493">L157493</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HrProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157493">L157493</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrR</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157495">L157495</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">r</span></span> <span class="ltree">HrQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157495">L157495</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrlb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157497">L157497</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">Hrl</span></span> <span class="ltree">Hleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157497">L157497</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbr</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157499">L157499</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157499">L157499</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157501">L157501</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbr</span></span> <span class="ltree">Hrlb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157501">L157501</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157502">L157502</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnra</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157504">L157504</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hra</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157504">L157504</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157506">L157506</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span> <span class="ltree">Hqr</span></span> <span class="ltree">Hra</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157506">L157506</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnqa</span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157507">L157507</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrI</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157509">L157509</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">HrR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span>)</span></span> <span class="ltree">Hnra</span></span> <span class="ltree">Hnbr</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157510">L157510</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">r</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157512">L157512</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q_closure_mono_I</span> <span class="ltree">q</span></span> <span class="ltree">r</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HrQ</span></span> <span class="ltree">HqI</span></span> <span class="ltree">HrI</span></span> <span class="ltree">Hqr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157512">L157512</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUr</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">r</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157514">L157514</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxcl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157514">L157514</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157516">L157516</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">HrQ</span></span> <span class="ltree">HxUr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157516">L157516</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157518">L157518</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157518">L157518</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlelr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157520">L157520</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">r</span></span> <span class="ltree">HrQx</span></span> <span class="ltree">HrR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157520">L157520</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157522">L157522</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">r</span></span> <span class="ltree">Hlelr</span></span>)</span> <span class="ltree">Hrl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157522">L157522</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157524">L157524</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnql</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157524">L157524</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hnql</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157525">L157525</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157528">L157528</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hub_q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157528">L157528</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hfxleq</span></span>)</span> <span class="ltree">Hqltfx_fx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157529">L157529</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">Hnotcl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157530">L157530</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFam</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157532">L157532</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">Qgt</span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInQgt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157532">L157532</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionI" class="anamelink">UnionI</a></span> <span class="ltree">Fam</span></span> <span class="ltree">x</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span></span> <span class="ltree">HclNot</span></span> <span class="ltree">HFam</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157534">L157534</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157534">L157534</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157534">L157534</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157535">L157535</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionE_impred" class="anamelink">UnionE_impred</a></span> <span class="ltree">Fam</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157536">L157536</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157537">L157537</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157537">L157537</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUin</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157537">L157537</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qgt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HUin</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157538">L157538</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157539">L157539</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qgt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157539">L157539</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157540">L157540</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUdiff</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157542">L157542</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157542">L157542</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxU</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157543">L157543</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157545">L157545</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUdiff</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157545">L157545</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotCl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157547">L157547</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE2" class="anamelink">setminusE2</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUdiff</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157547">L157547</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** since x ∉ U_q, we have f(x) ≥ q, so in particular a0 &lt; f(x) because a0 &lt; q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157550">L157550</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157550">L157550</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0q</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157552">L157552</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157552">L157552</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157554">L157554</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157554">L157554</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157556">L157556</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157557">L157557</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157558">L157558</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157559">L157559</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157561">L157561</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157561">L157561</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQx_no_small</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** from x ∉ U_Q q we show Rle q (fx x) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157564">L157564</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157564">L157564</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0Qx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157564">L157564</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157564">L157564</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** if p0&lt;q then x∈U_p0 ⊆ U_q ⊆ cl(U_q), contradict x∉cl(U_q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157567">L157567</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0lt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157567">L157567</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157568">L157568</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0Q</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show x :e closure_of X Tx (U_Q q), contradicting HxNotCl ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157571">L157571</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157571">L157571</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157573">L157573</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157573">L157573</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ'</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** first show q ∈ I using p0&lt;q and x∉cl(U_Q q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157576">L157576</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqQ</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157576">L157576</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR'</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157578">L157578</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157578">L157578</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157580">L157580</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157580">L157580</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157582">L157582</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hp0lt</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157582">L157582</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157585">L157585</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157587">L157587</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157587">L157587</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157588">L157588</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157590">L157590</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157590">L157590</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157591">L157591</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157592">L157592</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157594">L157594</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157594">L157594</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157597">L157597</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnq1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157600">L157600</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157600">L157600</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157602">L157602</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157602">L157602</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hnq1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157603">L157603</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157604">L157604</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hclq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157606">L157606</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157606">L157606</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of_space" class="anamelink">closure_of_space</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157607">L157607</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxcl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157609">L157609</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hclq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157609">L157609</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157610">L157610</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HxNotCl</span> <span class="ltree">Hxcl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157611">L157611</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157613">L157613</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR'</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157614">L157614</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0R'</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** now p0 ∈ I as well ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157617">L157617</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hp0R</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157617">L157617</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnp0a</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157619">L157619</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157619">L157619</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157622">L157622</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157624">L157624</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157624">L157624</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157625">L157625</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157627">L157627</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157627">L157627</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157628">L157628</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157629">L157629</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp0</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157631">L157631</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbp0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157631">L157631</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157633">L157633</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hbp0</span></span> <span class="ltree">Hp0lt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157633">L157633</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnbq</span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157634">L157634</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0I</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157636">L157636</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0R'</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span>)</span></span> <span class="ltree">Hnp0a</span></span> <span class="ltree">Hnbp0</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157637">L157637</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** closure nesting: cl(U_p0) ⊆ U_q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157640">L157640</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q_closure_mono_I</span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hp0Q</span></span> <span class="ltree">HqQ'</span></span> <span class="ltree">Hp0I</span></span> <span class="ltree">HqI</span></span> <span class="ltree">Hp0lt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157640">L157640</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ U_p0 ⊆ cl(U_p0) ⊆ U_q ⊆ cl(U_q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157643">L157643</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157643">L157643</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157645">L157645</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157645">L157645</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsubcl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157647">L157647</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUsubX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157647">L157647</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157649">L157649</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hsubcl</span> <span class="ltree">x</span></span> <span class="ltree">HxUp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157649">L157649</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157651">L157651</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxclp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157651">L157651</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUqOpen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157653">L157653</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157653">L157653</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUqSubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157655">L157655</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUqOpen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157655">L157655</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157657">L157657</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUqSubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157657">L157657</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HxNotCl</span> <span class="ltree">Hxclq</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157659">L157659</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnlt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157659">L157659</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hp0R</span></span> <span class="ltree">Hnlt</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157660">L157660</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157662">L157662</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">HQx_no_small</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157662">L157662</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157664">L157664</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀a1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀a1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀a1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a1</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInLB</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157668">L157668</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0fx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157670">L157670</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Ha0q</span></span> <span class="ltree">Hub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157670">L157670</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0fxrel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157672">L157672</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157672">L157672</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_implies_order_rel_R" class="anamelink">Rlt_implies_order_rel_R</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Ha0fx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157673">L157673</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157675">L157675</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> <span class="ltree">Ha0fxrel</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157675">L157675</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HfxIn</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157676">L157676</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpreEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157677">L157677</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_union_closed_pow" class="anamelink">topology_union_closed_pow</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Fam</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HFamPow</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157679">L157679</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hslo</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157679">L157679</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexb0</span>: <span class="ltree"><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** s = (-∞,b0) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157682">L157682</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λI : <span class="ltree">set</span> ⇒  <span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span></span>)</span></span> <span class="ltree">s</span></span> <span class="ltree">Hslo</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157682">L157682</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hexb0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157683">L157683</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">b0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157684">L157684</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hb0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157684">L157684</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hb0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">b0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157686">L157686</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">Hb0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157686">L157686</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hseq</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157688">L157688</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">Hb0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157688">L157688</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hseq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157689">L157689</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Qlt</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_17">{</a>q<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span><a href="#notation_17">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157691">L157691</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">FamL</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_9">{</a><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span><a href="#notation_9">|</a>q<a href="#notation_9"> ∈ </a><span class="ltree">Qlt</span><a href="#notation_9">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157692">L157692</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFamPow</span>: <span class="ltree"><span class="ltree"><span class="ltree">FamL</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree">Tx</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157694">L157694</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#PowerI" class="anamelink">PowerI</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157694">L157694</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157695">L157695</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157695">L157695</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HU</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157696">L157696</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157697">L157697</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157697">L157697</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157698">L157698</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157699">L157699</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157701">L157701</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157701">L157701</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157702">L157702</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpreEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157705">L157705</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#set_ext" class="anamelink">set_ext</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157706">L157706</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157706">L157706</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157706">L157706</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157707">L157707</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157709">L157709</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157709">L157709</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157711">L157711</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157711">L157711</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157713">L157713</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157713">L157713</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltRel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157715">L157715</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">y</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HfxIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157715">L157715</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157717">L157717</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel_R_implies_Rlt" class="anamelink">order_rel_R_implies_Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span> <span class="ltree">HltRel</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157717">L157717</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span> <span class="ltree">HfxR</span></span> <span class="ltree">Hb0R</span></span> <span class="ltree">Hlt</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157719">L157719</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** pick rational q with f(x) &lt; q &lt; b0 ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="157720">L157720</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqpair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157720">L157720</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hqpair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157720">L157720</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157721">L157721</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157722">L157722</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxltq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157724">L157724</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157724">L157724</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157726">L157726</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157726">L157726</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show x :e U_Q q by finding some p0 ∈ Qx x with p0 &lt; q and using nesting ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157730">L157730</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157731">L157731</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157732">L157732</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157733">L157733</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157735">L157735</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157735">L157735</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157737">L157737</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157739">L157739</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157741">L157741</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157741">L157741</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HubLB</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157743">L157743</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157743">L157743</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157745">L157745</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157747">L157747</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltfx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157749">L157749</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157749">L157749</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hfxltq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157750">L157750</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q is not a lower bound, so obtain p0 ∈ Qx x with p0 &lt; q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157753">L157753</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157753">L157753</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnotLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_10">∉</a> <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157755">L157755</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157755">L157755</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157757">L157757</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HubLB</span> <span class="ltree">q</span></span> <span class="ltree">HqLB</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157757">L157757</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Hle</span></span>)</span> <span class="ltree">Hqltfx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157758">L157758</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnotForall</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157760">L157760</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hall</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157760">L157760</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157762">L157762</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hall</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157762">L157762</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HnotLB</span> <span class="ltree">HqLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157763">L157763</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_all_ex_demorgan_i" class="anamelink">not_all_ex_demorgan_i</a></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span>)</span></span> <span class="ltree">HnotForall</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157764">L157764</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157765">L157765</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnp0</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157765">L157765</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnp0imp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157767">L157767</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hnp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157767">L157767</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_imp" class="anamelink">not_imp</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hnp0imp</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157768">L157768</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0Qx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157769">L157769</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnimp2</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157770">L157770</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_imp" class="anamelink">not_imp</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">Hnimp2</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157771">L157771</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157772">L157772</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnle</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157773">L157773</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show p0 &lt; q by contradiction with totality ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157776">L157776</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0ltq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157776">L157776</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0Q</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** now show x ∈ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157779">L157779</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157779">L157779</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157781">L157781</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157781">L157781</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157783">L157783</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157783">L157783</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** U_Q q = X since b &lt; q, and q &lt; a would contradict a &lt; b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157786">L157786</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157786">L157786</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157788">L157788</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hbq</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157788">L157788</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span> <span class="ltree">Hba</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157789">L157789</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157792">L157792</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUqX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157794">L157794</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157794">L157794</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157799">L157799</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157799">L157799</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157800">L157800</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157801">L157801</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157803">L157803</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUqX</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157803">L157803</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157804">L157804</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInQlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157806">L157806</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Hqltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157806">L157806</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqFam</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157808">L157808</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInQlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157808">L157808</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionI" class="anamelink">UnionI</a></span> <span class="ltree">FamL</span></span> <span class="ltree">x</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HxUq</span></span> <span class="ltree">HqFam</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157810">L157810</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157810">L157810</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** now q,p0 ∈ I and closure nesting gives U_Q p0 ⊆ cl(U_Q p0) ⊆ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157813">L157813</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157813">L157813</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157815">L157815</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hp0ltq</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157815">L157815</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157818">L157818</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157820">L157820</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157820">L157820</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157821">L157821</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157823">L157823</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157823">L157823</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157824">L157824</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157825">L157825</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157827">L157827</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157828">L157828</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0I</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157830">L157830</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnp0a</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157831">L157831</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157831">L157831</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157834">L157834</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157836">L157836</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157836">L157836</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157837">L157837</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157839">L157839</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157839">L157839</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157840">L157840</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157841">L157841</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp0</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157843">L157843</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbp0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157843">L157843</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157845">L157845</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hbp0</span></span> <span class="ltree">Hp0ltq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157845">L157845</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnbq</span> <span class="ltree">Hbq'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157846">L157846</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0R</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span>)</span></span> <span class="ltree">Hnp0a</span></span> <span class="ltree">Hnbp0</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157848">L157848</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157850">L157850</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q_closure_mono_I</span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hp0Q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Hp0I</span></span> <span class="ltree">HqI</span></span> <span class="ltree">Hp0ltq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157850">L157850</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157852">L157852</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157852">L157852</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157854">L157854</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157854">L157854</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157856">L157856</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUsubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157856">L157856</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157858">L157858</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxclp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157858">L157858</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInQlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157860">L157860</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Hqltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157860">L157860</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqFam</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157862">L157862</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInQlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157862">L157862</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionI" class="anamelink">UnionI</a></span> <span class="ltree">FamL</span></span> <span class="ltree">x</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HxUq</span></span> <span class="ltree">HqFam</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157864">L157864</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnlt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157864">L157864</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157866">L157866</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hp0R</span></span> <span class="ltree">Hnlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157866">L157866</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Hnle</span> <span class="ltree">Hle</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157868">L157868</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157868">L157868</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157868">L157868</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157869">L157869</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionE_impred" class="anamelink">UnionE_impred</a></span> <span class="ltree">FamL</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157870">L157870</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157871">L157871</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157871">L157871</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUin</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157871">L157871</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HUin</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157872">L157872</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157873">L157873</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157873">L157873</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157874">L157874</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157876">L157876</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157876">L157876</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157878">L157878</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157878">L157878</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157880">L157880</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157880">L157880</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157882">L157882</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157882">L157882</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxU</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157883">L157883</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157885">L157885</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157886">L157886</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157886">L157886</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157887">L157887</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157889">L157889</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157890">L157890</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157891">L157891</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157892">L157892</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157894">L157894</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157894">L157894</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157896">L157896</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157898">L157898</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqUpper</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157900">L157900</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157900">L157900</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157900">L157900</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157900">L157900</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157902">L157902</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157902">L157902</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q ∈ Qx x since x ∈ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157905">L157905</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157905">L157905</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">q</span></span> <span class="ltree">HqQx</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157906">L157906</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157908">L157908</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">HqUpper</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157908">L157908</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxltb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157910">L157910</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157910">L157910</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle_Rlt_tra" class="anamelink">Rle_Rlt_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span> <span class="ltree">Hfxleq</span></span> <span class="ltree">Hqltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157911">L157911</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxRel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157913">L157913</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_implies_order_rel_R" class="anamelink">Rlt_implies_order_rel_R</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span> <span class="ltree">Hfxltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157913">L157913</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">y</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> <span class="ltree">HfxRel</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157915">L157915</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpreEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157916">L157916</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_union_closed_pow" class="anamelink">topology_union_closed_pow</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">FamL</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HFamPow</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157918">L157918</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hs0</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157919">L157919</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HsR</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157919">L157919</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hseq</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157921">L157921</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">s</span></span> <span class="ltree">HsR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157921">L157921</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hseq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157922">L157922</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpreWhole</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157924">L157924</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of_whole" class="anamelink">preimage_of_whole</a></span> <span class="ltree">X</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">f</span></span> <span class="ltree">HfunXR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157924">L157924</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpreWhole</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157925">L157925</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_has_X" class="anamelink">topology_has_X</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157927">L157927</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HsS</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157927">L157927</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HimgI</span>: <span class="ltree"><span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Now restrict the range to the closed interval I. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157931">L157931</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157931">L157931</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157931">L157931</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show a &lt;= f(x) &lt;= b using the inf construction ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157934">L157934</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157935">L157935</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157936">L157936</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157937">L157937</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157938">L157938</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157941">L157941</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157941">L157941</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157943">L157943</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157945">L157945</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HubLB</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157947">L157947</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157947">L157947</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157949">L157949</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157951">L157951</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** lower bound: a &lt;= fx x because a ∈ LB x ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157955">L157955</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157956">L157956</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157956">L157956</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157956">L157956</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157956">L157956</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p0<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157958">L157958</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpSep</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>p0<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157960">L157960</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157960">L157960</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpQx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157961">L157961</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157963">L157963</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpSep</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157963">L157963</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157965">L157965</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157965">L157965</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157968">L157968</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157970">L157970</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157970">L157970</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157971">L157971</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157973">L157973</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157973">L157973</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157974">L157974</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxEmpty</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157976">L157976</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157976">L157976</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HpR</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157977">L157977</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Hprop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157978">L157978</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hale</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157980">L157980</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HubLB</span> <span class="ltree">a</span></span> <span class="ltree">HaLB</span></span> <span class="ltree">HaR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157980">L157980</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_b</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** upper bound: fx x &lt;= b because any l&gt;b is not a lower bound (choose p with b&lt;p&lt;l) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157984">L157984</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157984">L157984</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157984">L157984</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157984">L157984</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157986">L157986</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157986">L157986</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hbl</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157988">L157988</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** pick rational p with b &lt; p &lt; l; since b&lt;p, U_Q p = X, so p ∈ Qx x, contradict l being a lower bound ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="157989">L157989</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157989">L157989</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HpPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157989">L157989</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157990">L157990</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157991">L157991</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157993">L157993</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157993">L157993</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157995">L157995</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157995">L157995</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157997">L157997</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157997">L157997</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158000">L158000</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158002">L158002</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158002">L158002</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158004">L158004</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hpa</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158004">L158004</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158006">L158006</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbp</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158006">L158006</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158007">L158007</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158010">L158010</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158010">L158010</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158012">L158012</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158012">L158012</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158013">L158013</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158014">L158014</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158016">L158016</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158016">L158016</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158017">L158017</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p0<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158019">L158019</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158021">L158021</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158021">L158021</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HxUp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158022">L158022</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158024">L158024</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158024">L158024</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlelp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158026">L158026</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span> <span class="ltree">HpR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158026">L158026</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158028">L158028</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span> <span class="ltree">Hlelp</span></span>)</span> <span class="ltree">Hpl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158028">L158028</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158030">L158030</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbl</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158030">L158030</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hnbl</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158031">L158031</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158033">L158033</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HLB_le_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158033">L158033</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnfxa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** package membership in [a,b] ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158037">L158037</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Hale</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158037">L158037</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbfx</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158039">L158039</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158039">L158039</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">Hnfxa</span></span> <span class="ltree">Hnbfx</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158043">L158043</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcontI</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span> <span class="ltree">f</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158045">L158045</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map_range_restrict" class="anamelink">continuous_map_range_restrict</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span> <span class="ltree">f</span></span> <span class="ltree">I</span></span> <span class="ltree">HcontR</span></span> <span class="ltree">HISubR</span></span> <span class="ltree">HimgI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158045">L158045</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">f</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158047">L158047</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158049">L158049</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158050">L158050</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HcontI</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158051">L158051</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158051">L158051</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158051">L158051</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158053">L158053</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158053">L158053</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158055">L158055</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158056">L158056</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158057">L158057</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158058">L158058</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show fx x = a ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158061">L158061</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158061">L158061</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158063">L158063</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158063">L158063</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158065">L158065</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158067">L158067</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxI</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158069">L158069</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158069">L158069</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HimgI</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158070">L158070</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIcore</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158072">L158072</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HfxI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158072">L158072</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnfxa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158074">L158074</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">HfxIcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158074">L158074</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hale</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158076">L158076</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HfxR</span></span> <span class="ltree">Hnfxa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158076">L158076</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxA_in_UQ_gt_a</span>: <span class="ltree"><span class="ltree">∀q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** For x∈A, any rational q&gt;a satisfies x∈U_Q q. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158080">L158080</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158080">L158080</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158080">L158080</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Haq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158081">L158081</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158083">L158083</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158083">L158083</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158085">L158085</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_sym" class="anamelink">not_Rlt_sym</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> <span class="ltree">Haq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158085">L158085</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158087">L158087</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158087">L158087</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** U_Q q = X ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158091">L158091</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158094">L158094</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158094">L158094</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158096">L158096</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158096">L158096</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158097">L158097</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158098">L158098</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158099">L158099</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158101">L158101</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158101">L158101</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q ∈ I, then use Inv nesting between a and q at stage ordsucc(code q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158104">L158104</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158105">L158105</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158107">L158107</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HqI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158107">L158107</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158109">L158109</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158109">L158109</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">nq</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158110">L158110</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodeqO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158112">L158112</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158112">L158112</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnqNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158114">L158114</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">nq</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HcodeqO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158114">L158114</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">nq</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158116">L158116</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158116">L158116</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HSt0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** a is in the base domain, hence in every later Fof ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158119">L158119</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_0" class="anamelink">nat_primrec_0</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158119">L158119</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158121">L158121</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158122">L158122</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158123">L158123</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158124">L158124</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158126">L158126</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158128">L158128</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158128">L158128</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI1" class="anamelink">UPairI1</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158129">L158129</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaFq'</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158131">L158131</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span> <span class="ltree">a</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HaF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158131">L158131</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span> <a href="#notation_5">=</a> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158133">L158133</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_0L" class="anamelink">add_nat_0L</a></span> <span class="ltree">nq</span></span> <span class="ltree">HnqNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158133">L158133</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">nq</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158135">L158135</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158135">L158135</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaFq'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158136">L158136</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158138">L158138</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv_nesting_at</span> <span class="ltree">nq</span></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HaDom</span></span> <span class="ltree">HqDom</span></span> <span class="ltree">Haq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158138">L158138</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseG</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** rewrite stage values: apply_fun(Gof nq) a = U_a and apply_fun(Gof nq) q = U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158142">L158142</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158143">L158143</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158144">L158144</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158145">L158145</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158147">L158147</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGa0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158149">L158149</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158149">L158149</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HBaseGa</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158150">L158150</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158152">L158152</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpres</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span>)</span></span>)</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158153">L158153</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span> <span class="ltree">a</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HaF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158153">L158153</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158154">L158154</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpres</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158155">L158155</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HGa0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158156">L158156</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158158">L158158</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158160">L158160</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158161">L158161</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158164">L158164</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158164">L158164</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158165">L158165</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158168">L158168</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hnbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158168">L158168</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158170">L158170</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_a12</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ A ⊆ U_a ⊆ cl(U_a) ⊆ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158174">L158174</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span>)</span></span> <span class="ltree">HU_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158174">L158174</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HAsubUa</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158176">L158176</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span>)</span></span> <span class="ltree">HU_a12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158176">L158176</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUa</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158178">L158178</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubUa</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158178">L158178</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_aTx'</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158180">L158180</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span>)</span></span> <span class="ltree">HU_a12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158180">L158180</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_aSubX</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158182">L158182</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU_aTx'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158182">L158182</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxclUa</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158184">L158184</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU_aSubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158184">L158184</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158186">L158186</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158186">L158186</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158187">L158187</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hnest</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158188">L158188</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">HxclUa</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158189">L158189</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_a</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">a</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Any lower bound l of Qx(x) must satisfy l &lt;= a. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158193">L158193</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158193">L158193</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158193">L158193</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158193">L158193</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158195">L158195</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Halt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158195">L158195</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Halt</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158196">L158196</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158197">L158197</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqpair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158197">L158197</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hqpair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158197">L158197</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158198">L158198</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158199">L158199</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158201">L158201</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158201">L158201</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hql</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158203">L158203</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158203">L158203</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158205">L158205</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158205">L158205</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158207">L158207</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HxA_in_UQ_gt_a</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Haq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158207">L158207</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158209">L158209</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158209">L158209</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158211">L158211</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158211">L158211</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158213">L158213</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">q</span></span> <span class="ltree">HqQx</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158213">L158213</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158215">L158215</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span> <span class="ltree">Hle</span></span>)</span> <span class="ltree">Hql</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158215">L158215</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158217">L158217</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnalt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158217">L158217</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">a</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Hnalt</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158218">L158218</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlea</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158220">L158220</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HLB_le_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158220">L158220</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEqA</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158222">L158222</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle_antisym" class="anamelink">Rle_antisym</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">Hfxlea</span></span> <span class="ltree">Hale</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158222">L158222</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158223">L158223</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEqA</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158226">L158226</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158226">L158226</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158226">L158226</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158228">L158228</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HBsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158228">L158228</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158230">L158230</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158231">L158231</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158232">L158232</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158233">L158233</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158235">L158235</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158235">L158235</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158237">L158237</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158237">L158237</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HubLB</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158239">L158239</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158242">L158242</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158244">L158244</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158246">L158246</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** b is a lower bound of Qx(x) for x∈B ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158250">L158250</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLBDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>l<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_17">|</a><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158251">L158251</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HLBDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158252">L158252</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158254">L158254</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158254">L158254</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158254">L158254</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158254">L158254</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158256">L158256</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158256">L158256</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158258">L158258</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158258">L158258</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158260">L158260</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158260">L158260</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnpA</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show contradiction: x ∈ B implies x ∉ U_b, but cl(U_Q p) ⊆ U_b when p&lt;b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158263">L158263</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158263">L158263</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158266">L158266</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158268">L158268</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158268">L158268</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158269">L158269</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158271">L158271</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158271">L158271</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158272">L158272</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158273">L158273</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158275">L158275</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_sym" class="anamelink">not_Rlt_sym</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158275">L158275</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpI</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158277">L158277</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">HnpA</span></span> <span class="ltree">Hnbp</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158278">L158278</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158280">L158280</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158280">L158280</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158282">L158282</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158282">L158282</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">np</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158283">L158283</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodepO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158285">L158285</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158285">L158285</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnpNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">np</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158287">L158287</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">np</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HcodepO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158287">L158287</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158289">L158289</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158289">L158289</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HSt0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** b is in the base domain, hence in every later Fof ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158292">L158292</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_0" class="anamelink">nat_primrec_0</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158292">L158292</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158294">L158294</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158295">L158295</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158296">L158296</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158297">L158297</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158299">L158299</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158301">L158301</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158301">L158301</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI2" class="anamelink">UPairI2</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158302">L158302</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbFp'</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158304">L158304</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HbF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158304">L158304</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span> <a href="#notation_5">=</a> <span class="ltree">np</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158306">L158306</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_0L" class="anamelink">add_nat_0L</a></span> <span class="ltree">np</span></span> <span class="ltree">HnpNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158306">L158306</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158308">L158308</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158308">L158308</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbFp'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158309">L158309</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158311">L158311</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv_nesting_at</span> <span class="ltree">np</span></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HpDom</span></span> <span class="ltree">HbDom</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158311">L158311</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** rewrite stage values to U_Q p and U_b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158314">L158314</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158316">L158316</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158317">L158317</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158320">L158320</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">HnpA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158320">L158320</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158321">L158321</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158324">L158324</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hnbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158324">L158324</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158326">L158326</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseG</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158328">L158328</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158329">L158329</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158330">L158330</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158331">L158331</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158333">L158333</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158335">L158335</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158335">L158335</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HBaseGb</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158336">L158336</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158338">L158338</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpres</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span>)</span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158339">L158339</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HbF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158339">L158339</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158340">L158340</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpres</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158341">L158341</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HGb0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158342">L158342</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158344">L158344</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158344">L158344</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158344">L158344</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_b</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158345">L158345</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hy'</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158347">L158347</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQp</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158347">L158347</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hy</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158348">L158348</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hyb</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158350">L158350</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">y</span></span> <span class="ltree">Hy'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158350">L158350</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158351">L158351</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hyb</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158352">L158352</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ U_Q p ⊆ cl(U_Q p) ⊆ U_b, but x ∈ B so x ∉ U_b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158355">L158355</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158355">L158355</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUpSubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158357">L158357</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158357">L158357</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158359">L158359</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUpSubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158359">L158359</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUb</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158361">L158361</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxclp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158361">L158361</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotUb</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158363">L158363</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxUb'</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158363">L158363</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158365">L158365</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE2" class="anamelink">setminusE2</a></span> <span class="ltree">X</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUb'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158365">L158365</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HxNotB</span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158366">L158366</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">HxNotUb</span> <span class="ltree">HxUb</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158368">L158368</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpb</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158368">L158368</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HpR</span></span> <span class="ltree">Hnpb</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158369">L158369</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbprop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158370">L158370</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158372">L158372</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HubLB</span> <span class="ltree">b</span></span> <span class="ltree">HbLB</span></span> <span class="ltree">HbR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158372">L158372</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_b</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** b is an upper bound of LB x: any l∈LB x must be &lt;= b (use q with b&lt;q&lt;l, and U_Q q = X) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158375">L158375</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158375">L158375</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158375">L158375</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158375">L158375</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158377">L158377</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158377">L158377</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hbl</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158378">L158378</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158379">L158379</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158379">L158379</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HqPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158379">L158379</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158380">L158380</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158381">L158381</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158383">L158383</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158383">L158383</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hql</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158385">L158385</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158385">L158385</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158387">L158387</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158387">L158387</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ U_Q q since U_Q q = X ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="158390">L158390</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158390">L158390</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158392">L158392</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hbq</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158392">L158392</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span> <span class="ltree">Hba'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158393">L158393</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158396">L158396</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158399">L158399</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158399">L158399</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158401">L158401</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158401">L158401</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158402">L158402</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158403">L158403</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158405">L158405</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158405">L158405</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158406">L158406</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158408">L158408</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158408">L158408</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158410">L158410</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158410">L158410</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158412">L158412</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">q</span></span> <span class="ltree">HqQx</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158412">L158412</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158414">L158414</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span> <span class="ltree">Hle</span></span>)</span> <span class="ltree">Hql</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158414">L158414</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158416">L158416</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbl</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158416">L158416</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hnbl</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158417">L158417</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158419">L158419</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HLB_le_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158419">L158419</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEqB</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="158421">L158421</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle_antisym" class="anamelink">Rle_antisym</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hfxleb</span></span> <span class="ltree">Hleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="158421">L158421</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="158422">L158422</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEqB</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
∎