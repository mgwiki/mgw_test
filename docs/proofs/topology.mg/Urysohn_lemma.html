<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: Urysohn lemma: In a normal space, disjoint closed sets can be separated by a continuous map into a closed interval. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="154645">L154645</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, Tx, A, B, a and b</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154646">L154646</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hab</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154647">L154647</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnorm</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space" class="anamelink">normal_space</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154648">L154648</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HA</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154649">L154649</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HB</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154650">L154650</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hdisj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154651">L154651</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">∃f<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval" class="anamelink">closed_interval</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval_topology" class="anamelink">closed_interval_topology</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">f</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154654">L154654</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaR</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** setup: extract basic topology facts and interval topology ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="154657">L154657</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_left" class="anamelink">RleE_left</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154657">L154657</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbR</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154659">L154659</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_right" class="anamelink">RleE_right</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154659">L154659</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HTx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_on" class="anamelink">topology_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154661">L154661</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_topology_on" class="anamelink">normal_space_topology_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Hnorm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154661">L154661</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HAsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154663">L154663</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in_subset" class="anamelink">closed_in_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span> <span class="ltree">HA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154663">L154663</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154665">L154665</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in_subset" class="anamelink">closed_in_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span> <span class="ltree">HB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154665">L154665</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">I</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval" class="anamelink">closed_interval</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154666">L154666</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ti</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_interval_topology" class="anamelink">closed_interval_topology</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154667">L154667</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaI</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154669">L154669</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154672">L154672</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbI</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154674">L154674</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154677">L154677</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HISubR</span>: <span class="ltree"><span class="ltree"><span class="ltree">I</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154679">L154679</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154679">L154679</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hr</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154679">L154679</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">Hr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154680">L154680</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HTi</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_on" class="anamelink">topology_on</a></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154682">L154682</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subspace_topology_is_topology" class="anamelink">subspace_topology_is_topology</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span> <span class="ltree">I</span></span> <span class="ltree">(<span class="ltree"><a href="#R_standard_topology_is_topology" class="anamelink">R_standard_topology_is_topology</a></span>)</span></span> <span class="ltree">HISubR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154682">L154682</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 0 (TeX): handle the degenerate interval case a=b by the constant map. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="154685">L154685</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HabEq'</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154685">L154685</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">f</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun" class="anamelink">const_fun</a></span> <span class="ltree">X</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154686">L154686</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">f</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154687">L154687</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154689">L154689</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span> <span class="ltree">f</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154689">L154689</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154691">L154691</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun_continuous" class="anamelink">const_fun_continuous</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span> <span class="ltree">a</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HTi</span></span> <span class="ltree">HaI</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154692">L154692</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154692">L154692</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154692">L154692</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154694">L154694</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154694">L154694</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun_apply" class="anamelink">const_fun_apply</a></span> <span class="ltree">X</span></span> <span class="ltree">a</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154697">L154697</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154697">L154697</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154697">L154697</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154699">L154699</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HBsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154699">L154699</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#const_fun_apply" class="anamelink">const_fun_apply</a></span> <span class="ltree">X</span></span> <span class="ltree">a</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154700">L154700</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HabEq'</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154703">L154703</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HabNe</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154703">L154703</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsepAx</span>: <span class="ltree"><span class="ltree">∀A0 B0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A0</span> <a href="#notation_19">∩</a> <span class="ltree">B0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> → <span class="ltree">∃U V<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_19">∩</a> <span class="ltree">V</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33: non-degenerate interval case (a&lt;b). ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** First step of the TeX proof: get disjoint open neighborhoods of A and B, then closure-shrink them. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="154709">L154709</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#one_point_sets_closed" class="anamelink">one_point_sets_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀A0 B0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">A0</span> <a href="#notation_19">∩</a> <span class="ltree">B0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> → <span class="ltree">∃U V<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B0</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_19">∩</a> <span class="ltree">V</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span></span></span></span></span>)</span></span> <span class="ltree">Hnorm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154712">L154712</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexShrink</span>: <span class="ltree"><span class="ltree">∃U0 V0 U1 V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154719">L154719</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HsepAx</span> <span class="ltree">A</span></span> <span class="ltree">B</span></span> <span class="ltree">HA</span></span> <span class="ltree">HB</span></span> <span class="ltree">Hdisj</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154719">L154719</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154720">L154720</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexV0</span>: <span class="ltree"><span class="ltree">∃V0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154721">L154721</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexV0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154722">L154722</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154723">L154723</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154724">L154724</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore0</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154726">L154726</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span> <span class="ltree">HUV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154728">L154728</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore1</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154730">L154730</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">Hcore0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154732">L154732</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154734">L154734</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">Hcore0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154736">L154736</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUVTx</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154738">L154738</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">Hcore1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154740">L154740</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HAsubU0</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154742">L154742</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">Hcore1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154744">L154744</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154746">L154746</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUVTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154746">L154746</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154748">L154748</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUVTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154748">L154748</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HshrinkA</span>: <span class="ltree"><span class="ltree">∃U1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154750">L154750</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_shrink_closed" class="anamelink">normal_space_shrink_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span> <span class="ltree">U0</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">HA</span></span> <span class="ltree">HU0Tx</span></span> <span class="ltree">HAsubU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154750">L154750</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HshrinkA</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154751">L154751</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154752">L154752</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154753">L154753</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HshrinkB</span>: <span class="ltree"><span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154755">L154755</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_shrink_closed" class="anamelink">normal_space_shrink_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span> <span class="ltree">V0</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">HB</span></span> <span class="ltree">HV0Tx</span></span> <span class="ltree">HBsubV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154755">L154755</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HshrinkB</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154756">L154756</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154757">L154757</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HV1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154758">L154758</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">U0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154759">L154759</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">V0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154760">L154760</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">U1</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154761">L154761</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">V1</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154762">L154762</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154765">L154765</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154767">L154767</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUV0</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154768">L154768</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154769">L154769</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154770">L154770</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HV1</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154770">L154770</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexShrink</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154772">L154772</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U0</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Extract U0,V0,U1,V1 and derive basic disjointness and inclusion properties for the later construction. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="154773">L154773</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexV0</span>: <span class="ltree"><span class="ltree">∃V0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree">∃U1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154776">L154776</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexV0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154777">L154777</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154778">L154778</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexU1</span>: <span class="ltree"><span class="ltree">∃U1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154781">L154781</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexU1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154782">L154782</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154783">L154783</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HexV1</span>: <span class="ltree"><span class="ltree">∃V1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154786">L154786</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexV1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154787">L154787</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">V1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154788">L154788</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hshrink</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154790">L154790</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154792">L154792</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span> <span class="ltree">Hshrink</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154795">L154795</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154798">L154798</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>)</span></span> <span class="ltree">Hshrink</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154801">L154801</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0core</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154803">L154803</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span> <span class="ltree">HUV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154805">L154805</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0disj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154807">L154807</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span> <span class="ltree">HUV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154809">L154809</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0L</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154811">L154811</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV0core</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154813">L154813</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154815">L154815</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV0core</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154817">L154817</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154819">L154819</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">HUV0L</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154819">L154819</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154821">L154821</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUV0Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154821">L154821</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV0Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154823">L154823</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">V0</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">HUV0Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154823">L154823</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV1U</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154825">L154825</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">HUV1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154827">L154827</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUV1V</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154829">L154829</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>)</span></span> <span class="ltree">HUV1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154831">L154831</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154833">L154833</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1pair</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154834">L154834</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">HUV1U</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154834">L154834</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span>)</span></span> <span class="ltree">HU1pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154835">L154835</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1Tx</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154837">L154837</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1pair</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154838">L154838</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV1V</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154838">L154838</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HV1pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154839">L154839</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclU1subU0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154841">L154841</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span>)</span></span> <span class="ltree">HUV1U</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154841">L154841</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclV1subV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154843">L154843</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">B</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span>)</span></span> <span class="ltree">HUV1V</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154843">L154843</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1subX</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154845">L154845</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU1Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154845">L154845</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1subX</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154847">L154847</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HV1Tx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154847">L154847</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1subU0</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154849">L154849</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1subCl</span>: <span class="ltree"><span class="ltree"><span class="ltree">U1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154850">L154850</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU1subX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154850">L154850</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">U1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">U0</span></span> <span class="ltree">HU1subCl</span></span> <span class="ltree">HclU1subU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154851">L154851</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1subV0</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154853">L154853</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HV1subCl</span>: <span class="ltree"><span class="ltree"><span class="ltree">V1</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154854">L154854</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HV1subX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154854">L154854</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">V1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">V0</span></span> <span class="ltree">HV1subCl</span></span> <span class="ltree">HclV1subV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154855">L154855</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU1V1disj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154857">L154857</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#Empty_Subq_eq" class="anamelink">Empty_Subq_eq</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154857">L154857</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubU0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154859">L154859</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">U1</span></span> <span class="ltree">U0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_1" class="anamelink">binintersect_Subq_1</a></span> <span class="ltree">U1</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HU1subU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154859">L154859</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154861">L154861</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">V1</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_2" class="anamelink">binintersect_Subq_2</a></span> <span class="ltree">U1</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HV1subV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154861">L154861</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154863">L154863</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_max" class="anamelink">binintersect_Subq_max</a></span> <span class="ltree">U0</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">HsubU0</span></span> <span class="ltree">HsubV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154863">L154863</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154865">L154865</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUV0disj</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154865">L154865</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Subq_ref" class="anamelink">Subq_ref</a></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154865">L154865</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U1</span> <a href="#notation_19">∩</a> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">HsubUV0</span></span> <span class="ltree">HsubEmpty</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154866">L154866</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclU1clV1disj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154868">L154868</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#Empty_Subq_eq" class="anamelink">Empty_Subq_eq</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154868">L154868</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubU0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154870">L154870</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">U0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_1" class="anamelink">binintersect_Subq_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span>)</span></span> <span class="ltree">HclU1subU0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154871">L154871</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">V0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154873">L154873</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_2" class="anamelink">binintersect_Subq_2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span>)</span></span>)</span></span> <span class="ltree">HclV1subV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154874">L154874</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubUV0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154876">L154876</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_Subq_max" class="anamelink">binintersect_Subq_max</a></span> <span class="ltree">U0</span></span> <span class="ltree">V0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">HsubU0</span></span> <span class="ltree">HsubV0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154876">L154876</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsubEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154878">L154878</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUV0disj</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154878">L154878</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Subq_ref" class="anamelink">Subq_ref</a></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154878">L154878</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Subq_tra" class="anamelink">Subq_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U1</span></span> <a href="#notation_19">∩</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">V1</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U0</span> <a href="#notation_19">∩</a> <span class="ltree">V0</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">HsubUV0</span></span> <span class="ltree">HsubEmpty</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154879">L154879</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnltba</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154881">L154881</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154881">L154881</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaRb</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154883">L154883</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154883">L154883</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbRb</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154885">L154885</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154885">L154885</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hltab</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154887">L154887</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154888">L154888</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">a</span></span> <span class="ltree">HaRb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154888">L154888</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154890">L154890</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">HbRb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154890">L154890</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNoLt_trichotomy_or_impred" class="anamelink">SNoLt_trichotomy_or_impred</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HaS</span></span> <span class="ltree">HbS</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154892">L154892</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HabSlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_45">&lt;</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154892">L154892</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RltI" class="anamelink">RltI</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HaRb</span></span> <span class="ltree">HbRb</span></span> <span class="ltree">HabSlt</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154894">L154894</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154894">L154894</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154895">L154895</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HabNe</span> <span class="ltree">Heq</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154897">L154897</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HbaSlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_45">&lt;</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154897">L154897</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbaRlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154899">L154899</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RltI" class="anamelink">RltI</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span> <span class="ltree">HbRb</span></span> <span class="ltree">HaRb</span></span> <span class="ltree">HbaSlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154899">L154899</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154900">L154900</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnltba</span> <span class="ltree">HbaRlt</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154901">L154901</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">U_b</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154903">L154903</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_bTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_b</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (setup for the indexed open family): define the endpoint neighborhoods U_b and U_a. ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154905">L154905</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_in_elem" class="anamelink">open_in_elem</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_of_closed_complement" class="anamelink">open_of_closed_complement</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">B</span></span> <span class="ltree">HB</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154905">L154905</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HA_sub_U_b</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154907">L154907</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154907">L154907</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154907">L154907</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154909">L154909</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154909">L154909</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154911">L154911</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154911">L154911</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxAB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">A</span> <a href="#notation_19">∩</a> <span class="ltree">B</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154913">L154913</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree">A</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154913">L154913</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154915">L154915</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hdisj</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154915">L154915</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxAB</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154916">L154916</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span> <span class="ltree"><a href="#False" class="anamelink">False</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154917">L154917</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">X</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HxNotB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154918">L154918</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexU_a</span>: <span class="ltree"><span class="ltree">∃U_a<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154920">L154920</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_space_shrink_closed" class="anamelink">normal_space_shrink_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">A</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">HA</span></span> <span class="ltree">HU_bTx</span></span> <span class="ltree">HA_sub_U_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154920">L154920</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HexU_a</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154921">L154921</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U_a</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154922">L154922</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU_a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154923">L154923</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_aTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154925">L154925</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_a12</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154926">L154926</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span>)</span></span> <span class="ltree">HU_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154926">L154926</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span>)</span></span> <span class="ltree">HU_a12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154927">L154927</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclU_a_sub_U_b</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154929">L154929</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span>)</span></span> <span class="ltree">HU_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154929">L154929</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hex_between</span>: <span class="ltree"><span class="ltree">∀r : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span> → <span class="ltree">∃Ur<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Helper instantiation: between any a&lt;r&lt;b, insert Ur with cl(U_a)⊆Ur⊆cl(Ur)⊆U_b (finite family {a,b}). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="154933">L154933</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154933">L154933</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrR</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154933">L154933</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Har</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154934">L154934</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hrb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154935">L154935</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">F</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154936">L154936</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFfin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154938">L154938</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_UPair" class="anamelink">finite_UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154938">L154938</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFsubR</span>: <span class="ltree"><span class="ltree"><span class="ltree">F</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154940">L154940</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154940">L154940</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtF</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154940">L154940</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">t</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HtF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154942">L154942</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154942">L154942</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154942">L154942</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154943">L154943</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154943">L154943</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154943">L154943</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154943">L154943</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Uof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154944">L154944</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUof</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154946">L154946</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154946">L154946</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154946">L154946</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HpF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154948">L154948</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154948">L154948</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154949">L154949</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154951">L154951</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154952">L154952</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154954">L154954</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154955">L154955</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_aTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154957">L154957</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154957">L154957</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154958">L154958</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154960">L154960</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154961">L154961</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154963">L154963</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154963">L154963</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="154965">L154965</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154965">L154965</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154966">L154966</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_bTx</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154967">L154967</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154969">L154969</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154969">L154969</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154970">L154970</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154971">L154971</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154972">L154972</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HpF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154974">L154974</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154974">L154974</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154975">L154975</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154977">L154977</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154977">L154977</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154978">L154978</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154980">L154980</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154980">L154980</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154981">L154981</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154982">L154982</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Haa</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154984">L154984</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154984">L154984</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154985">L154985</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154987">L154987</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154988">L154988</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154990">L154990</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154991">L154991</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154992">L154992</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154994">L154994</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="154995">L154995</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="154995">L154995</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="154997">L154997</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154997">L154997</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="154999">L154999</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155000">L155000</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155001">L155001</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155002">L155002</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155003">L155003</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HclU_a_sub_U_b</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155005">L155005</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155005">L155005</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155006">L155006</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155008">L155008</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155008">L155008</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155008">L155008</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnltba</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155009">L155009</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155011">L155011</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155011">L155011</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155013">L155013</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155013">L155013</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hbq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155013">L155013</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155015">L155015</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155015">L155015</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155016">L155016</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155018">L155018</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from right to left) at position 2.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155018">L155018</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hbq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155018">L155018</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155019">L155019</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_extend_nested_open_family_by_point" class="anamelink">normal_extend_nested_open_family_by_point</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">F</span></span> <span class="ltree">HFfin</span></span> <span class="ltree">HFsubR</span></span> <span class="ltree">Uof</span></span> <span class="ltree">HUof</span></span> <span class="ltree">Hnest</span></span> <span class="ltree">r</span></span> <span class="ltree">HrR</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155020">L155020</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">Ur</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155021">L155021</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155024">L155024</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">Ur</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155025">L155025</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUr12</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155027">L155027</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155029">L155029</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155031">L155031</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span>)</span></span> <span class="ltree">HUr12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155033">L155033</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleft</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155035">L155035</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span>)</span></span> <span class="ltree">HUr12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155037">L155037</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hright</span>: <span class="ltree"><span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155039">L155039</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">r</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">Ur</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Ur</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155041">L155041</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155043">L155043</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155044">L155044</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155046">L155046</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155047">L155047</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155048">L155048</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155050">L155050</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155051">L155051</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155051">L155051</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155053">L155053</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155053">L155053</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155055">L155055</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155056">L155056</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155057">L155057</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155059">L155059</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155060">L155060</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUrTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155061">L155061</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofa</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155061">L155061</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hleft</span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI1" class="anamelink">UPairI1</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">Har</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155063">L155063</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUofb</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155063">L155063</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hright</span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI2" class="anamelink">UPairI2</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">Hrb</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155065">L155065</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">P0</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span> <a href="#notation_19">∩</a> <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155067">L155067</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">P</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree">P0</span> <a href="#notation_14">∪</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1: choose a countable dense index set inside [a,b]. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155068">L155068</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP_count</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155070">L155070</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQcount</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** P0 is countable as a subset of Q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155072">L155072</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><a href="#rational_numbers_countable" class="anamelink">rational_numbers_countable</a></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155072">L155072</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP0count</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155074">L155074</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersect_countable_left" class="anamelink">binintersect_countable_left</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">HQcount</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155074">L155074</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HabFin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** add endpoints a,b (finite hence countable) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155077">L155077</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_UPair" class="anamelink">finite_UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155077">L155077</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HabCount</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#countable" class="anamelink">countable</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155079">L155079</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_countable" class="anamelink">finite_countable</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">HabFin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155079">L155079</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunion_countable" class="anamelink">binunion_countable</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">HP0count</span></span> <span class="ltree">HabCount</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155080">L155080</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP_sub_R</span>: <span class="ltree"><span class="ltree"><span class="ltree">P</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155082">L155082</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155082">L155082</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrP</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155082">L155082</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">HrP</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155084">L155084</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155084">L155084</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155086">L155086</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectE1" class="anamelink">binintersectE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">r</span></span> <span class="ltree">HrP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155086">L155086</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">r</span></span> <span class="ltree">HrQ</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155088">L155088</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrAB</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155088">L155088</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155090">L155090</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HrAB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155090">L155090</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HrEq</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155092">L155092</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hra</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155092">L155092</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hra</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155093">L155093</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155095">L155095</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hrb</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155095">L155095</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hrb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155096">L155096</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155097">L155097</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HP_count</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155099">L155099</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">code</span> of type <span class="ltree"><span class="ltree"><span class="ltree">set</span> → <span class="ltree">set</span></span></span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1: use countability of P to obtain an injection code:P→ω (used to define finite prefixes). ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155100">L155100</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcode_inj</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#inj" class="anamelink">inj</a></span> <span class="ltree">P</span></span> <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span> <span class="ltree">code</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155101">L155101</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcode_in_omega</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155103">L155103</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcode_inj</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155103">L155103</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcode_in Hcode_inj0</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155104">L155104</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155105">L155105</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155105">L155105</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155106">L155106</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ppref</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree">P</span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155108">L155108</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpref_finite</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Ppref</span> <span class="ltree">n</span></span>)</span></span></span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Finite prefixes of P via the injection code ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155110">L155110</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155110">L155110</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155110">L155110</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#inj_omega_preimage_ordsucc_finite" class="anamelink">inj_omega_preimage_ordsucc_finite</a></span> <span class="ltree">P</span></span> <span class="ltree">n</span></span> <span class="ltree">code</span></span> <span class="ltree">Hnat</span></span> <span class="ltree">Hcode_inj</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155111">L155111</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">P_eq</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree">P</span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155113">L155113</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">pnew</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#Eps_i" class="anamelink">Eps_i</a></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (work-in-progress): pick the (unique) element of P with a given code value. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155114">L155114</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpnew_spec</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155117">L155117</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155117">L155117</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155117">L155117</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ppred</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155118">L155118</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewPpred</span>: <span class="ltree"><span class="ltree"><span class="ltree">Ppred</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155120">L155120</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Eps_i_ex" class="anamelink">Eps_i_ex</a></span> <span class="ltree">Ppred</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155120">L155120</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewPpred</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155121">L155121</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">BaseF</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155123">L155123</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">BaseG</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (planned): a nat_primrec state carrying a finite domain and a function-graph on it. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155124">L155124</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">BaseState</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">BaseF</span>,<span class="ltree">BaseG</span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155125">L155125</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Ur_of</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn st : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#Eps_i" class="anamelink">Eps_i</a></span> <span class="ltree">(<span class="ltree">λU : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155133">L155133</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Gext</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn st : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 1 helper: extend the stage-graph by rebuilding it as a graph over the enlarged domain. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155137">L155137</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">StepState</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn st : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155144">L155144</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">State</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155145">L155145</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Fof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155146">L155146</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Gof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λn : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155147">L155147</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Inv</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λst : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 invariant for the finite-stage construction. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155154">L155154</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseFfin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Basic facts about the base state. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155157">L155157</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite_UPair" class="anamelink">finite_UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155157">L155157</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseGa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155159">L155159</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaBaseF</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155160">L155160</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI1" class="anamelink">UPairI1</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155160">L155160</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155162">L155162</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaBaseF</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155163">L155163</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155165">L155165</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseGb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155167">L155167</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbBaseF</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155168">L155168</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI2" class="anamelink">UPairI2</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155168">L155168</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">HbBaseF</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155169">L155169</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155171">L155171</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155171">L155171</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155173">L155173</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155173">L155173</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155175">L155175</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvBase</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Base state satisfies Inv. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155178">L155178</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseStateDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree">BaseF</span>,<span class="ltree">BaseG</span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** destruct the left-associated conjunction defining Inv ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155180">L155180</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseState0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155182">L155182</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseStateDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155182">L155182</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155183">L155183</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HBaseState1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseG</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155185">L155185</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseStateDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155185">L155185</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155186">L155186</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvUnfold</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">BaseState</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155194">L155194</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HInvUnfold</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155195">L155195</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155197">L155197</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155199">L155199</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155201">L155201</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155202">L155202</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155204">L155204</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155205">L155205</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155207">L155207</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155207">L155207</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155209">L155209</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155210">L155210</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HBaseFfin</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** finite (BaseState 0) ***)</div>

</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155212">L155212</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155213">L155213</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** (BaseState 0) c= R ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155214">L155214</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtF</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155214">L155214</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">t</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HtF</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155216">L155216</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hta</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155216">L155216</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155216">L155216</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaR</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155217">L155217</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Htb</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155217">L155217</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Htb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155217">L155217</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbR</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155218">L155218</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155219">L155219</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right).</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** total_function_on (BaseState 1) (BaseState 0) Tx ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155220">L155220</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_graph" class="anamelink">total_function_on_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155221">L155221</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155222">L155222</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtF</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155222">L155222</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ht_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155224">L155224</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">t</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HtF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155224">L155224</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Ht_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155226">L155226</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155226">L155226</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155228">L155228</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right) at position 1.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155229">L155229</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haa</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155231">L155231</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155233">L155233</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155234">L155234</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Haa</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155236">L155236</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155237">L155237</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_aTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155239">L155239</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ht</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155239">L155239</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbna</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155241">L155241</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155241">L155241</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HabNe</span></span> to the current goal.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155243">L155243</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hba</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155243">L155243</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_b</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155245">L155245</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Ht</span></span> (from left to right) at position 1.</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155246">L155246</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">u</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155248">L155248</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155249">L155249</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span>)</span></span> <span class="ltree">U_a</span></span> <span class="ltree">U_b</span></span> <span class="ltree">Hbna</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155251">L155251</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155252">L155252</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HU_bTx</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155254">L155254</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155255">L155255</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph_graph" class="anamelink">functional_graph_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** functional_graph (BaseState 1) ***)</div>

</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155257">L155257</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155258">L155258</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from left to right) at position 1.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** graph_domain_subset (BaseState 1) (BaseState 0) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155259">L155259</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset_graph" class="anamelink">graph_domain_subset_graph</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">U_a</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">U_b</span></span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155261">L155261</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155262">L155262</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** nesting invariant for the base family ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155263">L155263</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155264">L155264</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155265">L155265</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">BaseState</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155266">L155266</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155268">L155268</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155268">L155268</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155269">L155269</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155271">L155271</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState0</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155271">L155271</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155272">L155272</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseState1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155273">L155273</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HpF0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155275">L155275</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155275">L155275</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155277">L155277</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155277">L155277</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155278">L155278</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpqaa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155280">L155280</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155280">L155280</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155281">L155281</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155282">L155282</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span>)</span> <span class="ltree">Hpqaa</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155284">L155284</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155284">L155284</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155285">L155285</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155286">L155286</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseGa</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155287">L155287</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HBaseGb</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155288">L155288</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HclU_a_sub_U_b</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155290">L155290</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155290">L155290</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairE" class="anamelink">UPairE</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">HqF0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">BaseG</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155292">L155292</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155292">L155292</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155293">L155293</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpqba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155295">L155295</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155295">L155295</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155296">L155296</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155297">L155297</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnltba</span> <span class="ltree">Hpqba</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155299">L155299</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqb</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155299">L155299</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155300">L155300</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpqbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155302">L155302</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155302">L155302</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155303">L155303</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155304">L155304</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span> <span class="ltree">Hpqbb</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155306">L155306</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcode_inj_eq</span>: <span class="ltree"><span class="ltree">∀x z : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">z</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">z</span></span></span> → <span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree">z</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** code-fiber selector agrees with any given witness (by injectivity). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155309">L155309</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hinj0</span>: <span class="ltree"><span class="ltree">∀x z<a href="#In_notation"> ∈ </a><span class="ltree">P</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">z</span></span></span> → <span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree">z</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155310">L155310</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcode_inj</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155310">L155310</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">_ Hinj0'</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155311">L155311</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hinj0'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155312">L155312</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155313">L155313</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">z</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155313">L155313</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxP</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155314">L155314</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HzP</span>: <span class="ltree"><span class="ltree"><span class="ltree">z</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155315">L155315</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">z</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155316">L155316</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hinj0</span> <span class="ltree">x</span></span> <span class="ltree">HxP</span></span> <span class="ltree">z</span></span> <span class="ltree">HzP</span></span> <span class="ltree">Heq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155317">L155317</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpnew_eq_of_code</span>: <span class="ltree"><span class="ltree">∀n p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155320">L155320</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155320">L155320</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155320">L155320</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcodep</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155321">L155321</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155322">L155322</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpnewpair</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155324">L155324</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hpnew_spec</span> <span class="ltree">n</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155324">L155324</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewP</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155326">L155326</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hpnewpair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155326">L155326</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcodenew</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155328">L155328</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hpnewpair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155328">L155328</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hcode_inj_eq</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpnewP</span></span> <span class="ltree">HpP</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155329">L155329</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcodeeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155331">L155331</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hcodenew</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155331">L155331</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hcodep</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155333">L155333</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hcodeeq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155334">L155334</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStep</span>: <span class="ltree"><span class="ltree">∀n st : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">st</span></span> → <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** TeX §33 Step 1 (in progress): stage invariants for the nat_primrec construction. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155337">L155337</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n and st</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155337">L155337</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HInvst</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">st</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155338">L155338</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155340">L155340</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155340">L155340</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155342">L155342</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155342">L155342</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155347">L155347</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155350">L155350</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155350">L155350</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155353">L155353</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">st</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155355">L155355</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155355">L155355</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155356">L155356</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155357">L155357</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvst</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155359">L155359</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155359">L155359</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Main Step 1 extension case: insert pnew n between lower/upper members via Ur_of and rebuild the graph on the enlarged domain. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155365">L155365</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155368">L155368</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155368">L155368</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155371">L155371</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155373">L155373</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155373">L155373</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155374">L155374</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155375">L155375</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvUnfold2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** unpack Inv st (as a left-associated conjunction) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155384">L155384</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStExp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155391">L155391</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HInvUnfold2</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155391">L155391</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvst</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155392">L155392</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead12345</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** HInvStExp parses left-associatively:<br>                       (((((finite /\ subR) /\ tot) /\ fun) /\ dom) /\ nest) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155398">L155398</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStExp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155403">L155403</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155407">L155407</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStExp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155412">L155412</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead1234</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155415">L155415</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead12345</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155418">L155418</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hdom</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155420">L155420</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead12345</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155423">L155423</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead123</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155426">L155426</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead1234</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155429">L155429</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155431">L155431</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">Hhead1234</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155434">L155434</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hhead12</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155436">L155436</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">Hhead123</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155439">L155439</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htot</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155441">L155441</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">Hhead123</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155444">L155444</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfinF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155446">L155446</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">Hhead12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155446">L155446</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFsubR0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155448">L155448</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">Hhead12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155448">L155448</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">F</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155450">L155450</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Uof</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** obtain Ur_of from normal_extend_nested_open_family_by_point ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155451">L155451</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUofTx</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155453">L155453</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfunon</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">F</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155454">L155454</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">F</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree">∃y<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">(<span class="ltree">x</span>,<span class="ltree">y</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">Htot</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155456">L155456</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155457">L155457</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155457">L155457</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfunon</span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155458">L155458</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnestU</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155460">L155460</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155460">L155460</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155460">L155460</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155461">L155461</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155462">L155462</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HpF</span></span> <span class="ltree">HqF</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155463">L155463</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrP</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155465">L155465</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hpnew_spec</span> <span class="ltree">n</span></span> <span class="ltree">Hex</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155465">L155465</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155467">L155467</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HP_sub_R</span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">HrP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155467">L155467</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexU</span>: <span class="ltree"><span class="ltree">∃U<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155472">L155472</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#normal_extend_nested_open_family_by_point" class="anamelink">normal_extend_nested_open_family_by_point</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Hnorm</span></span> <span class="ltree">F</span></span> <span class="ltree">HfinF</span></span> <span class="ltree">HFsubR0</span></span> <span class="ltree">Uof</span></span> <span class="ltree">HUofTx</span></span> <span class="ltree">HnestU</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">HrR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155472">L155472</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUr_of</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155477">L155477</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Pred</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λU : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U</span></span></span></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155480">L155480</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HexPred</span>: <span class="ltree"><span class="ltree">∃U<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">Pred</span> <span class="ltree">U</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155482">L155482</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HexU</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155482">L155482</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Eps_i_ex" class="anamelink">Eps_i_ex</a></span> <span class="ltree">Pred</span></span> <span class="ltree">HexPred</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155483">L155483</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUr_head</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** destruct HUr_of (left-associative conjunction) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155488">L155488</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr_of</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155492">L155492</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrTx</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155494">L155494</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HUr_head</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155497">L155497</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrLower</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155500">L155500</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HUr_head</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155503">L155503</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUrUpper</span>: <span class="ltree"><span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155506">L155506</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Uof</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Uof</span> <span class="ltree">q0</span></span></span></span></span></span>)</span></span> <span class="ltree">HUr_of</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155510">L155510</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvUnfoldNew</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** prove Inv for the new tuple up to the nesting clause ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155523">L155523</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HInvUnfoldNew</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155524">L155524</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htmp0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155526">L155526</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155526">L155526</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htmp1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155528">L155528</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155528">L155528</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFdef</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155530">L155530</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Htmp0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155531">L155531</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Htmp1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155532">L155532</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155533">L155533</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGextDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155538">L155538</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155540">L155540</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>)</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155543">L155543</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155545">L155545</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span></span>)</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155547">L155547</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155549">L155549</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>)</span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>)</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155550">L155550</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155552">L155552</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155552">L155552</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155554">L155554</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunion_finite" class="anamelink">binunion_finite</a></span> <span class="ltree">F</span></span> <span class="ltree">HfinF</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Sing_finite" class="anamelink">Sing_finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155555">L155555</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155555">L155555</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155555">L155555</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hx_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155557">L155557</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155557">L155557</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hx_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155559">L155559</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxF</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155559">L155559</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HFsubR0</span> <span class="ltree">x</span></span> <span class="ltree">HxF</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155561">L155561</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hxr</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155561">L155561</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155563">L155563</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hxr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155563">L155563</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hxeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155564">L155564</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HrR</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155566">L155566</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155567">L155567</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_graph" class="anamelink">total_function_on_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** total_function_on for the extended graph ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155569">L155569</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155570">L155570</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155570">L155570</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta_if</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155574">L155574</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta_if</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155575">L155575</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155577">L155577</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">Hp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155577">L155577</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hp_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155579">L155579</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155579">L155579</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155581">L155581</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155581">L155581</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155582">L155582</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155584">L155584</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HIfEq1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155587">L155587</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155587">L155587</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HIfEq1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155588">L155588</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUrTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155590">L155590</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155590">L155590</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HIfEq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155593">L155593</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155593">L155593</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HIfEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155594">L155594</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HUofTx</span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155596">L155596</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpr</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155596">L155596</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155598">L155598</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">Hpr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155598">L155598</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155599">L155599</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155601">L155601</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HIfEq1b</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155604">L155604</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155604">L155604</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HIfEq1b</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155605">L155605</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HUrTx</span></span>.</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155607">L155607</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155608">L155608</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#functional_graph_graph" class="anamelink">functional_graph_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** functional_graph for the extended graph ***)</div>

</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155611">L155611</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155612">L155612</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset_graph" class="anamelink">graph_domain_subset_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** graph_domain_subset for the extended graph ***)</div>

</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155615">L155615</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155615">L155615</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155616">L155616</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155617">L155617</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155618">L155618</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155620">L155620</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hap_p</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** rewrite apply_fun of the graph-defined extension ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155625">L155625</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">Hp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155626">L155626</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hap_q</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155631">L155631</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">F</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p0</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155632">L155632</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hap_p</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155633">L155633</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hap_q</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155634">L155634</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155636">L155636</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">Hp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155636">L155636</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq_cases</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155638">L155638</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" class="anamelink">binunionE</a></span> <span class="ltree">F</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">q</span></span> <span class="ltree">Hq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155638">L155638</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hp_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155640">L155640</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155640">L155640</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hq_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155642">L155642</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155642">L155642</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** both p and q are from the old domain ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155645">L155645</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155645">L155645</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155646">L155646</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155648">L155648</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155649">L155649</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155649">L155649</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155650">L155650</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155651">L155651</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155652">L155652</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155654">L155654</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155654">L155654</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155655">L155655</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155657">L155657</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155658">L155658</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155658">L155658</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155659">L155659</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155660">L155660</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155661">L155661</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifp</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155664">L155664</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hpneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155664">L155664</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155667">L155667</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hqneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155667">L155667</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifp</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155668">L155668</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155669">L155669</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HpF</span></span> <span class="ltree">HqF</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155671">L155671</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqr</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155671">L155671</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155673">L155673</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hqr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155673">L155673</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155674">L155674</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155676">L155676</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155679">L155679</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155679">L155679</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155680">L155680</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155682">L155682</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155682">L155682</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155683">L155683</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155685">L155685</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155686">L155686</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155686">L155686</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155687">L155687</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155688">L155688</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155689">L155689</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifp</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155692">L155692</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hpneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155692">L155692</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifp</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155693">L155693</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155695">L155695</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqeq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155695">L155695</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155696">L155696</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HUrLower</span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span> <span class="ltree">Hpq'</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155698">L155698</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpr</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155698">L155698</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155700">L155700</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">Hpr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155700">L155700</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155701">L155701</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hq_cases</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155703">L155703</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155703">L155703</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrfl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155705">L155705</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifp</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155708">L155708</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hrfl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155708">L155708</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifp</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155709">L155709</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqneq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155711">L155711</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155711">L155711</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155712">L155712</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewInF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155714">L155714</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="155715">L155715</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155715">L155715</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq'</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155716">L155716</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155717">L155717</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewInF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155718">L155718</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hifq</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155721">L155721</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hqneq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155721">L155721</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hifq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155722">L155722</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155724">L155724</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155724">L155724</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155725">L155725</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HUrUpper</span> <span class="ltree">q</span></span> <span class="ltree">HqF</span></span> <span class="ltree">Hpq'</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155727">L155727</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqr</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155727">L155727</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155729">L155729</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hqr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155729">L155729</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155730">L155730</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbad</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155732">L155732</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hqeq</span></span> (from right to left) at position 2.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155732">L155732</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpeq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155733">L155733</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155734">L155734</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">HrR</span></span> <span class="ltree">Hbad</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155736">L155736</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnone</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155736">L155736</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">st</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155741">L155741</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span> <a href="#notation_5">=</a> <span class="ltree">st</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155743">L155743</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155743">L155743</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree">∃p<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">st</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">st</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">st</span></span>)</span></span>)</span></span> <span class="ltree">st</span></span> <span class="ltree">Hnone</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155746">L155746</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155747">L155747</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvst</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155748">L155748</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvAll</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155750">L155750</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155750">L155750</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155750">L155750</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbase</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155752">L155752</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">H0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155753">L155753</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_0" class="anamelink">nat_primrec_0</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155753">L155753</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">H0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155754">L155754</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HInvBase</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155755">L155755</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span> → <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">k</span></span>)</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155757">L155757</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155757">L155757</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155757">L155757</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HInvk</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155758">L155758</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">k</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">k</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155760">L155760</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">k</span></span> <span class="ltree">HkNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155760">L155760</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155761">L155761</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HInvStep</span> <span class="ltree">k</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">HInvk</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155762">L155762</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">k</span></span>)</span></span></span>)</span></span> <span class="ltree">Hbase</span></span> <span class="ltree">Hstep</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155763">L155763</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">U_Q</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λp : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>)</span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 2–4 (TeX): extend U_p to all rationals, define f(x)=inf Q(x), prove endpoints and continuity. ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 2: define U_Q on all rationals by empty below a and X above b. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155767">L155767</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Qx</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155769">L155769</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">LB</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_17">{</a>l<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_17">|</a><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span><a href="#notation_17">}</a></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Step 3: Q(x) := {p ∈ Q | x ∈ U_p}. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155771">L155771</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">fx</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#Eps_i" class="anamelink">Eps_i</a></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">r</span></span></span>)</span></span></span>)</span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Lower bounds of Qx(x), used to define inf as a least upper bound. ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155773">L155773</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">f</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span>)</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** For each x, define f(x) as the lub of LB(x). ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="155774">L155774</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp_in_dom_succ_code</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> → <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Basic helper: any p ∈ P appears in the domain at stage ordsucc(code p). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155778">L155778</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155778">L155778</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155778">L155778</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">n</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155779">L155779</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnO</span>: <span class="ltree"><span class="ltree"><span class="ltree">n</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155781">L155781</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155781">L155781</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155783">L155783</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">n</span></span> <span class="ltree">HnO</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155783">L155783</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155785">L155785</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155785">L155785</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155787">L155787</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">p</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155787">L155787</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155789">L155789</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpP</span></span>.</div>
</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155790">L155790</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcodep</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155792">L155792</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155794">L155794</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hpnew_eq_of_code</span> <span class="ltree">n</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span> <span class="ltree">Hcodep</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155794">L155794</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show pnew n ∈ (StepState n (State n)) 0, then rewrite ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155797">L155797</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155797">L155797</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155802">L155802</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155805">L155805</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155805">L155805</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155809">L155809</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155811">L155811</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155811">L155811</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155812">L155812</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155814">L155814</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155815">L155815</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155816">L155816</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155817">L155817</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpnewEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155818">L155818</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hin</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155820">L155820</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155820">L155820</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155825">L155825</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155828">L155828</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155828">L155828</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155832">L155832</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155834">L155834</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155834">L155834</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155835">L155835</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155837">L155837</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155838">L155838</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155839">L155839</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155840">L155840</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpInSing</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** domain is ((State n)0 :\/: {pnew n}) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155843">L155843</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpnewEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155843">L155843</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#SingI" class="anamelink">SingI</a></span> <span class="ltree">p</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155844">L155844</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdomEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155846">L155846</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155846">L155846</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HdomEq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155847">L155847</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI2" class="anamelink">binunionI2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">HpInSing</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155849">L155849</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Gof_preserve_old</span>: <span class="ltree"><span class="ltree">∀n p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** One-step preservation: once p is in the domain, its value does not change at the next stage. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155854">L155854</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155854">L155854</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155855">L155855</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155856">L155856</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155858">L155858</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155858">L155858</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** case split on whether StepState extends or not ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155861">L155861</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155861">L155861</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155863">L155863</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155863">L155863</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155868">L155868</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155871">L155871</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155871">L155871</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155875">L155875</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155877">L155877</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155877">L155877</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155878">L155878</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155880">L155880</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155882">L155882</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155884">L155884</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155884">L155884</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155886">L155886</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155886">L155886</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155887">L155887</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofN</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155888">L155888</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155889">L155889</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right) at position 1.</div>
</div>
<div>Use reflexivity.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155892">L155892</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155892">L155892</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155897">L155897</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155900">L155900</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155900">L155900</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155904">L155904</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155906">L155906</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155906">L155906</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155907">L155907</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155909">L155909</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155911">L155911</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155913">L155913</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155913">L155913</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155915">L155915</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155915">L155915</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155916">L155916</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155917">L155917</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofN</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155918">L155918</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155919">L155919</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155920">L155920</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom'</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** p is an old domain element, so p ≠ pnew n here ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155923">L155923</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155923">L155923</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpNe</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155925">L155925</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpEq</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155925">L155925</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewF</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155927">L155927</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpEq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155927">L155927</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155928">L155928</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155930">L155930</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpnewDom</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155932">L155932</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155932">L155932</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155933">L155933</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hnotin</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155934">L155934</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpnewDom</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155935">L155935</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGextDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155940">L155940</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGextDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155941">L155941</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">gextfun</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">q</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155942">L155942</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Happ</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">gextfun</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">gextfun</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155944">L155944</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">gextfun</span></span> <span class="ltree">p</span></span> <span class="ltree">HpDom'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155944">L155944</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Happ</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155945">L155945</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hgextfunp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">gextfun</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155948">L155948</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hgextfunp</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155949">L155949</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155952">L155952</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Ur_of</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HpNe</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155952">L155952</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155955">L155955</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnone</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155955">L155955</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155960">L155960</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155962">L155962</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155962">L155962</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hnone</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155966">L155966</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155968">L155968</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155970">L155970</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155972">L155972</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155972">L155972</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155974">L155974</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155974">L155974</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155975">L155975</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofN</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155976">L155976</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS1</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155977">L155977</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq1</span></span> (from left to right) at position 1.</div>
</div>
<div>Use reflexivity.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155979">L155979</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Fof_mono_succ</span>: <span class="ltree"><span class="ltree">∀n : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Domain monotonicity for the finite-stage construction. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="155983">L155983</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155983">L155983</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155983">L155983</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155984">L155984</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155984">L155984</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155985">L155985</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155987">L155987</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155988">L155988</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HStS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155990">L155990</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="155990">L155990</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HStS</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155991">L155991</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155993">L155993</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hex</span>: <span class="ltree"><span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155993">L155993</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="155995">L155995</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hin</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="155995">L155995</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156000">L156000</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156003">L156003</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156003">L156003</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156007">L156007</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156009">L156009</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156009">L156009</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156010">L156010</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156011">L156011</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156013">L156013</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156014">L156014</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156016">L156016</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnotin</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156016">L156016</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156021">L156021</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Houter</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156024">L156024</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156024">L156024</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hex</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156028">L156028</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156030">L156030</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Houter</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156030">L156030</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span> <span class="ltree">Hnotin</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156031">L156031</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156032">L156032</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HdomEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156034">L156034</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156034">L156034</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HdomEq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156035">L156035</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156037">L156037</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156039">L156039</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156039">L156039</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156040">L156040</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span> <span class="ltree">p</span></span> <span class="ltree">HpDom</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156042">L156042</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnone</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156042">L156042</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156047">L156047</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">StepState</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156049">L156049</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156049">L156049</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree">∃p0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree">pnew</span> <span class="ltree">n</span></span><a href="#notation_15">}</a></span></span>,<span class="ltree"><span class="ltree"><span class="ltree">Gext</span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">Hnone</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156053">L156053</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156054">L156054</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156056">L156056</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156057">L156057</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156058">L156058</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Fof_increase_by_add</span>: <span class="ltree"><span class="ltree">∀n k p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">k</span></span>)</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Lift domain membership along addition. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156062">L156062</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n, k and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156062">L156062</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156063">L156063</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156064">L156064</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156065">L156065</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbase</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156067">L156067</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156068">L156068</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#add_nat_0R" class="anamelink">add_nat_0R</a></span> <span class="ltree">n</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156068">L156068</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156069">L156069</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156070">L156070</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree">∀t : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span>)</span> → <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156072">L156072</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156072">L156072</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156072">L156072</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtIH</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156073">L156073</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaddS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156075">L156075</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_SR" class="anamelink">add_nat_SR</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156075">L156075</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HntNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156077">L156077</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_p" class="anamelink">add_nat_p</a></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156077">L156077</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HaddS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156078">L156078</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_mono_succ</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">HntNat</span></span> <span class="ltree">p</span></span> <span class="ltree">HtIH</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156079">L156079</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>)</span></span> <span class="ltree">Hbase</span></span> <span class="ltree">Hstep</span></span> <span class="ltree">k</span></span> <span class="ltree">HkNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156080">L156080</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Gof_preserve_add</span>: <span class="ltree"><span class="ltree">∀n k p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">k</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Lift graph values along addition (values are preserved for old domain elements). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156085">L156085</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n, k and p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156085">L156085</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156086">L156086</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156087">L156087</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156088">L156088</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbase</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156090">L156090</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156091">L156091</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#add_nat_0R" class="anamelink">add_nat_0R</a></span> <span class="ltree">n</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156091">L156091</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156093">L156093</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree">∀t : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> → <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156097">L156097</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156097">L156097</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156097">L156097</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtIH</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156098">L156098</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaddS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156100">L156100</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_SR" class="anamelink">add_nat_SR</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156100">L156100</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HntNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156102">L156102</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_p" class="anamelink">add_nat_p</a></span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156102">L156102</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpFnt</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156104">L156104</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree">n</span></span> <span class="ltree">t</span></span> <span class="ltree">p</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">HtNat</span></span> <span class="ltree">HpF</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156104">L156104</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HaddS</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156105">L156105</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpres</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156107">L156107</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_old</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HntNat</span></span> <span class="ltree">HpFnt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156107">L156107</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpres</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156108">L156108</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HtIH</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156109">L156109</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">(<span class="ltree">λt : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">n</span></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span></span> <span class="ltree">Hbase</span></span> <span class="ltree">Hstep</span></span> <span class="ltree">k</span></span> <span class="ltree">HkNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156110">L156110</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Inv_nesting_at</span>: <span class="ltree"><span class="ltree">∀n p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** The nesting property extracted from Inv at a given stage. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156115">L156115</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">n, p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156115">L156115</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156116">L156116</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpF</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156117">L156117</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqF</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156118">L156118</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156119">L156119</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStage</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156121">L156121</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HInvAll</span> <span class="ltree">n</span></span> <span class="ltree">HnNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156121">L156121</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#and6E" class="anamelink">and6E</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStage</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156130">L156130</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfin Hsub Htot Hfg Hgd Hnest</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156131">L156131</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156133">L156133</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156135">L156135</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156137">L156137</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156137">L156137</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156138">L156138</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">n</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156140">L156140</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156140">L156140</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqF</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156141">L156141</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156142">L156142</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156143">L156143</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HpDom</span></span> <span class="ltree">HqDom</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156144">L156144</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">U_Q_closure_mono_I</span>: <span class="ltree"><span class="ltree">∀p q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Closure nesting for U_Q on rationals inside the closed interval. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156151">L156151</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p and q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156151">L156151</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156152">L156152</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156153">L156153</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpI</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156154">L156154</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156155">L156155</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156156">L156156</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156158">L156158</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156158">L156158</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156160">L156160</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156160">L156160</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156162">L156162</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156162">L156162</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156164">L156164</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HqI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156164">L156164</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156166">L156166</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156166">L156166</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156168">L156168</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156168">L156168</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">np</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156170">L156170</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">nq</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156171">L156171</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodepO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156173">L156173</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156173">L156173</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodeqO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156175">L156175</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156175">L156175</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnpNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">np</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156177">L156177</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">np</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HcodepO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156177">L156177</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnqNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156179">L156179</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">nq</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HcodeqO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156179">L156179</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">n</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156180">L156180</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">n</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156182">L156182</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_p" class="anamelink">add_nat_p</a></span> <span class="ltree">np</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">nq</span></span> <span class="ltree">HnqNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156182">L156182</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDomNp</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156185">L156185</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156185">L156185</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDomNq</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">nq</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156187">L156187</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156187">L156187</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDomN</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156189">L156189</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span> <span class="ltree">p</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HpDomNp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156189">L156189</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnCom</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156191">L156191</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_com" class="anamelink">add_nat_com</a></span> <span class="ltree">np</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">nq</span></span> <span class="ltree">HnqNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156191">L156191</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDomN'</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156193">L156193</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span> <span class="ltree">q</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HqDomNq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156193">L156193</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDomN</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">n</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156195">L156195</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HnCom</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156195">L156195</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqDomN'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156196">L156196</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpi</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** relate U_Q p and U_Q q to stage-n values ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156200">L156200</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156200">L156200</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156202">L156202</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">Hpi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156202">L156202</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156204">L156204</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">Hpi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156204">L156204</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqi</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156206">L156206</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156206">L156206</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156208">L156208</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hqi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156208">L156208</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156210">L156210</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hqi</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156210">L156210</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156213">L156213</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156215">L156215</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156216">L156216</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156220">L156220</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156220">L156220</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156221">L156221</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156224">L156224</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hnbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156224">L156224</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156226">L156226</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156228">L156228</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156230">L156230</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156231">L156231</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156235">L156235</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156235">L156235</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156236">L156236</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156239">L156239</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hnbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156239">L156239</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156241">L156241</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156244">L156244</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree">np</span></span> <span class="ltree">nq</span></span> <span class="ltree">p</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HpDomNp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156244">L156244</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqn'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156246">L156246</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree">nq</span></span> <span class="ltree">np</span></span> <span class="ltree">q</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HqDomNq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156246">L156246</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156248">L156248</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HnCom</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156248">L156248</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hqn'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156249">L156249</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** apply Inv nesting at stage n and rewrite back to U_Q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156253">L156253</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv_nesting_at</span> <span class="ltree">n</span></span> <span class="ltree">p</span></span> <span class="ltree">q</span></span> <span class="ltree">HnNat</span></span> <span class="ltree">HpDomN</span></span> <span class="ltree">HqDomN</span></span> <span class="ltree">Hpq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156253">L156253</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156254">L156254</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156254">L156254</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156255">L156255</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQpN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156257">L156257</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQp</span></span> (from left to right).</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156258">L156258</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hpn</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156258">L156258</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQqN</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156260">L156260</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQq</span></span> (from left to right).</div>
</div>
<div>Use symmetry.</div>
<div class="pftacwrap"><span class="srcline" data-line="156261">L156261</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hqn</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156261">L156261</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hx'</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156263">L156263</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQpN</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156263">L156263</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156264">L156264</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">n</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156266">L156266</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">x</span></span> <span class="ltree">Hx'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156266">L156266</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQqN</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156267">L156267</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxIn</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156268">L156268</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_Q_open</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Key: U_Q p is open for each rational p. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156272">L156272</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156272">L156272</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156272">L156272</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156274">L156274</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156274">L156274</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156276">L156276</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156276">L156276</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156279">L156279</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156281">L156281</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156281">L156281</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156282">L156282</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HU</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156283">L156283</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_has_empty" class="anamelink">topology_has_empty</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156285">L156285</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156285">L156285</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156287">L156287</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156287">L156287</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156290">L156290</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156292">L156292</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156292">L156292</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156296">L156296</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156296">L156296</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156297">L156297</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156298">L156298</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HU</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156299">L156299</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_has_X" class="anamelink">topology_has_X</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156301">L156301</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156301">L156301</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpI</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** p is a rational in the closed interval [a,b], hence in P. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156304">L156304</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">Hnpa</span></span> <span class="ltree">Hnbp</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156305">L156305</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156307">L156307</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156307">L156307</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156309">L156309</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156309">L156309</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156311">L156311</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156311">L156311</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodepO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156313">L156313</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156313">L156313</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HstageNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156315">L156315</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HcodepO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156315">L156315</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HInvStage</span>: <span class="ltree"><span class="ltree"><span class="ltree">Inv</span> <span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156317">L156317</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HInvAll</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">HstageNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156317">L156317</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtotState</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** extract total_function_on from Inv (State stage) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156320">L156320</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#and6E" class="anamelink">and6E</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#finite" class="anamelink">finite</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀p0 q0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span></span>)</span></span> <span class="ltree">HInvStage</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156328">L156328</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfin Hsub Htot Hfg Hgd Hnest</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156329">L156329</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Htot</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156330">L156330</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Htot</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156332">L156332</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156333">L156333</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFofDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156335">L156335</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156336">L156336</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFofDef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156337">L156337</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HtotState</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156338">L156338</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** use total_function_on to get U_Q p ∈ Tx, then rewrite the if-branches ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156342">L156342</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156343">L156343</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156346">L156346</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156346">L156346</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156347">L156347</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hif2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156350">L156350</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hnbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156350">L156350</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hif2</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156351">L156351</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_apply_fun_in_Y" class="anamelink">total_function_on_apply_fun_in_Y</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">Tx</span></span> <span class="ltree">p</span></span> <span class="ltree">Htot</span></span> <span class="ltree">HpDom</span></span>)</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156352">L156352</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxRlub</span>: <span class="ltree"><span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Each fx x is indeed a real number (lub in R). ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156356">L156356</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156356">L156356</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156356">L156356</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_nonempty</span>: <span class="ltree"><span class="ltree">∃l0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree">l0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show LB x satisfies R_lub_exists prerequisites ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156359">L156359</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">a</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156359">L156359</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLBdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>l<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_17">|</a><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156361">L156361</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HLBdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156362">L156362</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156364">L156364</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156364">L156364</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156364">L156364</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156365">L156365</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156367">L156367</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQx'</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156369">L156369</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156369">L156369</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpQx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156370">L156370</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156372">L156372</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQx'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156372">L156372</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156374">L156374</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156374">L156374</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156377">L156377</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156379">L156379</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156379">L156379</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156380">L156380</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156382">L156382</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156382">L156382</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156383">L156383</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxEmpty</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156385">L156385</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156385">L156385</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HpR</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156386">L156386</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Hprop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156387">L156387</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_in_R</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156389">L156389</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156389">L156389</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hl</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156389">L156389</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">Hl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156390">L156390</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#SNo" class="anamelink">SNo</a></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** build a rational q0 with b &lt; q0, so q0 ∈ Qx x and bounds LB x above ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156393">L156393</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_SNo" class="anamelink">real_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156393">L156393</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">bp1</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156394">L156394</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbp1R</span>: <span class="ltree"><span class="ltree"><span class="ltree">bp1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156396">L156396</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_add_SNo" class="anamelink">real_add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span> <span class="ltree"><a href="#real_1" class="anamelink">real_1</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156396">L156396</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbinpm</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_interval" class="anamelink">open_interval</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156398">L156398</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#real_in_open_interval_minus1_plus1" class="anamelink">real_in_open_interval_minus1_plus1</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156398">L156398</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbinpmProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156400">L156400</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λz : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">z</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">z</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbinpm</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156400">L156400</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hb_lt_bp1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156402">L156402</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#minus_SNo" class="anamelink">minus_SNo</a></span> <span class="ltree"><a href="#notation_21">1</a></span></span>)</span></span>)</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span>)</span></span> <span class="ltree">HbinpmProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156402">L156402</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">bp1</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbp1R</span></span> <span class="ltree">Hb_lt_bp1</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156403">L156403</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156404">L156404</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156404">L156404</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hq0pair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156404">L156404</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq0Q</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156405">L156405</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hq0Prop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">bp1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156406">L156406</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156408">L156408</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q0</span></span> <span class="ltree">Hq0Q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156408">L156408</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156410">L156410</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">bp1</span></span>)</span></span> <span class="ltree">Hq0Prop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156410">L156410</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq0InQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156412">L156412</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156413">L156413</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hq0Sep</span>: <span class="ltree"><span class="ltree"><span class="ltree">q0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>p<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156415">L156415</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156416">L156416</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** U_Q q0 = X since b&lt;q0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156419">L156419</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156420">L156420</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156422">L156422</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156422">L156422</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HifEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156425">L156425</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156425">L156425</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HifEmpty</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156426">L156426</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156428">L156428</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span> <span class="ltree">Hbq0</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156428">L156428</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span> <span class="ltree">Hba</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156430">L156430</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156430">L156430</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HifStep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156434">L156434</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156434">L156434</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HifStep</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156435">L156435</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HifX</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156438">L156438</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q0</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q0</span></span>)</span></span> <span class="ltree">Hbq0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156438">L156438</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HifX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156439">L156439</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156440">L156440</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q0</span></span> <span class="ltree">Hq0Q</span></span> <span class="ltree">HxU</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156441">L156441</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156442">L156442</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hq0Sep</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156443">L156443</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_upper</span>: <span class="ltree"><span class="ltree">∃u<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156445">L156445</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">q0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156445">L156445</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156447">L156447</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hq0R</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156448">L156448</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156448">L156448</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156448">L156448</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156448">L156448</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156450">L156450</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156450">L156450</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hlprop</span> <span class="ltree">q0</span></span> <span class="ltree">Hq0InQx</span></span> <span class="ltree">Hq0R</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156451">L156451</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexlub</span>: <span class="ltree"><span class="ltree">∃r<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">r</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** choose lub using R_lub_exists and define fx x using Eps_i ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156454">L156454</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub_exists" class="anamelink">R_lub_exists</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HLB_nonempty</span></span> <span class="ltree">HLB_in_R</span></span> <span class="ltree">HLB_upper</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156454">L156454</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Eps_i_ex" class="anamelink">Eps_i_ex</a></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">r</span></span></span>)</span></span> <span class="ltree">Hexlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156455">L156455</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfx_in_R</span>: <span class="ltree"><span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156458">L156458</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156458">L156458</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156458">L156458</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub_in_R" class="anamelink">R_lub_in_R</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156459">L156459</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfunXR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">f</span></span> <span class="ltree">X</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** f is a function X -&gt; R, and continuous into R_standard_topology via open rays subbasis. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156463">L156463</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156463">L156463</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156463">L156463</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156464">L156464</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156465">L156465</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcontR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span> <span class="ltree">f</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156468">L156468</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">S</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_rays_subbasis" class="anamelink">open_rays_subbasis</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156468">L156468</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subbasis_on" class="anamelink">subbasis_on</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">S</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156470">L156470</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#open_rays_subbasis_is_subbasis" class="anamelink">open_rays_subbasis_is_subbasis</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156470">L156470</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hgen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#generated_topology_from_subbasis" class="anamelink">generated_topology_from_subbasis</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">S</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156472">L156472</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><a href="#open_rays_subbasis_for_order_topology_R" class="anamelink">open_rays_subbasis_for_order_topology_R</a></span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156472">L156472</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree"><a href="#standard_topology_is_order_topology" class="anamelink">standard_topology_is_order_topology</a></span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156474">L156474</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hgen</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156475">L156475</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map_from_subbasis" class="anamelink">continuous_map_from_subbasis</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">S</span></span> <span class="ltree">f</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HfunXR</span></span> <span class="ltree">HS</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156476">L156476</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">s</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156477">L156477</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HsS</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree">S</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156477">L156477</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" ' class="anamelink">binunionE'</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span>)</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_15">}</a></span></span> <span class="ltree">s</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">s</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** split s in the open rays subbasis ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156485">L156485</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hs0</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span> <a href="#notation_14">∪</a> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156487">L156487</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionE" ' class="anamelink">binunionE'</a></span> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span></span> <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span> <span class="ltree">s</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">s</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156492">L156492</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hsup</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156492">L156492</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexa0</span>: <span class="ltree"><span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** s = (a0,∞) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156495">L156495</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λI : <span class="ltree">set</span> ⇒  <span class="ltree">∃a0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span></span>)</span></span> <span class="ltree">s</span></span> <span class="ltree">Hsup</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156495">L156495</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hexa0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156496">L156496</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">a0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156497">L156497</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Ha0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156497">L156497</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">a0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156499">L156499</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span>)</span></span> <span class="ltree">Ha0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156499">L156499</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hseq</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156501">L156501</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">a0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span>)</span></span> <span class="ltree">Ha0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156501">L156501</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hseq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156502">L156502</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Qgt</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_17">{</a>q<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span><a href="#notation_17">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156504">L156504</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Fam</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_9">{</a><span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span><a href="#notation_9">|</a>q<a href="#notation_9"> ∈ </a><span class="ltree">Qgt</span><a href="#notation_9">}</a></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show preimage is a union of complements of closures: ⋃_{q&gt;a0} (X\\cl(U_q)) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156505">L156505</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFamPow</span>: <span class="ltree"><span class="ltree"><span class="ltree">Fam</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree">Tx</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156507">L156507</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#PowerI" class="anamelink">PowerI</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156507">L156507</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156508">L156508</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156508">L156508</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qgt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HU</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156509">L156509</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156510">L156510</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQgt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qgt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156510">L156510</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156511">L156511</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156512">L156512</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156514">L156514</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQgt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156514">L156514</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156516">L156516</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156516">L156516</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156518">L156518</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156518">L156518</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclClosed</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closed_in" class="anamelink">closed_in</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156520">L156520</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_is_closed" class="anamelink">closure_is_closed</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUsubX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156520">L156520</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_in_elem" class="anamelink">open_in_elem</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_of_closed_complement" class="anamelink">open_of_closed_complement</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">HclClosed</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156522">L156522</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpreEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156524">L156524</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#set_ext" class="anamelink">set_ext</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156525">L156525</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156525">L156525</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156525">L156525</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156526">L156526</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156528">L156528</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156528">L156528</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156530">L156530</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156530">L156530</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156532">L156532</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156532">L156532</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltRel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156534">L156534</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HfxIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156534">L156534</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156536">L156536</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel_R_implies_Rlt" class="anamelink">order_rel_R_implies_Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HltRel</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156536">L156536</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Ha0R</span></span> <span class="ltree">HfxR</span></span> <span class="ltree">Hlt</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156538">L156538</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** choose rational q with a0 &lt; q &lt; f(x) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156539">L156539</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqpair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156539">L156539</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hqpair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156539">L156539</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156540">L156540</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156541">L156541</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0q</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156543">L156543</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156543">L156543</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltfx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156545">L156545</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156545">L156545</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInQgt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qgt</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156547">L156547</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Ha0q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156547">L156547</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclNot</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156549">L156549</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnotcl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156550">L156550</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hxcl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156550">L156550</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** from x∈cl(U_q) we would get f(x) ≤ q, contradicting q &lt; f(x) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156553">L156553</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156553">L156553</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156555">L156555</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156556">L156556</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156557">L156557</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156558">L156558</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltfx_fx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156560">L156560</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156560">L156560</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hqltfx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156561">L156561</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show fx x &lt;= q from x∈cl(U_Q q) by a standard lower-bound argument ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156564">L156564</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156566">L156566</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156568">L156568</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156568">L156568</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156570">L156570</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156572">L156572</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156574">L156574</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156574">L156574</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_b</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** any l ∈ LB x satisfies l ≤ b, since Qx x contains rationals arbitrarily close above b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156578">L156578</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156578">L156578</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156578">L156578</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156578">L156578</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156580">L156580</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156580">L156580</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hbl</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156581">L156581</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156582">L156582</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156582">L156582</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HpPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156582">L156582</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156583">L156583</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156584">L156584</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156586">L156586</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156586">L156586</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156588">L156588</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156588">L156588</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156590">L156590</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156590">L156590</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156592">L156592</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156592">L156592</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156594">L156594</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hpa</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156594">L156594</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156596">L156596</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbp</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156596">L156596</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156597">L156597</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156600">L156600</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156603">L156603</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156603">L156603</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156605">L156605</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156605">L156605</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156606">L156606</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156607">L156607</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156609">L156609</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156609">L156609</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156610">L156610</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156612">L156612</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HxUp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156612">L156612</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156614">L156614</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156614">L156614</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlelp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156616">L156616</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span> <span class="ltree">HpR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156616">L156616</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156618">L156618</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span> <span class="ltree">Hlelp</span></span>)</span> <span class="ltree">Hpl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156618">L156618</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156620">L156620</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbl</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156620">L156620</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hnbl</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156621">L156621</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156624">L156624</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HLB_le_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156624">L156624</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q &lt; fx x ≤ b, so q &lt; b and hence q ∈ I once we also have q ≥ a ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156628">L156628</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hqltfx_fx</span></span> <span class="ltree">Hfxleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156628">L156628</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156630">L156630</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156630">L156630</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156632">L156632</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbq'</span></span> <span class="ltree">Hqltb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156632">L156632</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156633">L156633</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156635">L156635</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156636">L156636</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156636">L156636</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156639">L156639</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156641">L156641</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156641">L156641</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156642">L156642</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hclq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156644">L156644</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156644">L156644</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of_empty" class="anamelink">closure_of_empty</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156645">L156645</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156647">L156647</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hclq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156647">L156647</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hxcl</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156648">L156648</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156650">L156650</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnqa'</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156650">L156650</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hnqa'</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156651">L156651</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156654">L156654</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156655">L156655</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hub_q</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show q is an upper bound of LB x ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156659">L156659</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156659">L156659</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156659">L156659</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156659">L156659</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156661">L156661</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hql</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156661">L156661</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156663">L156663</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HLB_le_b</span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span> <span class="ltree">HlR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156663">L156663</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span> <span class="ltree">HqR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hql</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156664">L156664</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">r</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156665">L156665</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156665">L156665</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HrPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156665">L156665</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156666">L156666</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HrProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156667">L156667</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156669">L156669</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HrProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156669">L156669</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156671">L156671</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HrProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156671">L156671</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrR</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156673">L156673</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">r</span></span> <span class="ltree">HrQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156673">L156673</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrlb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156675">L156675</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">r</span></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">Hrl</span></span> <span class="ltree">Hleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156675">L156675</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbr</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156677">L156677</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156677">L156677</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156679">L156679</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbr</span></span> <span class="ltree">Hrlb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156679">L156679</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156680">L156680</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnra</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156682">L156682</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hra</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156682">L156682</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156684">L156684</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">q</span></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span> <span class="ltree">Hqr</span></span> <span class="ltree">Hra</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156684">L156684</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnqa</span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156685">L156685</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrI</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156687">L156687</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">HrR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span>)</span></span> <span class="ltree">Hnra</span></span> <span class="ltree">Hnbr</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156688">L156688</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">r</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156690">L156690</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q_closure_mono_I</span> <span class="ltree">q</span></span> <span class="ltree">r</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HrQ</span></span> <span class="ltree">HqI</span></span> <span class="ltree">HrI</span></span> <span class="ltree">Hqr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156690">L156690</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUr</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">r</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156692">L156692</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxcl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156692">L156692</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HrQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">r</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156694">L156694</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">r</span></span> <span class="ltree">HrQ</span></span> <span class="ltree">HxUr</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156694">L156694</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156696">L156696</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156696">L156696</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlelr</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">r</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156698">L156698</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">r</span></span> <span class="ltree">HrQx</span></span> <span class="ltree">HrR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156698">L156698</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156700">L156700</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">r</span></span> <span class="ltree">Hlelr</span></span>)</span> <span class="ltree">Hrl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156700">L156700</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156702">L156702</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnql</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156702">L156702</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hnql</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156703">L156703</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156706">L156706</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hub_q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156706">L156706</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">Hfxleq</span></span>)</span> <span class="ltree">Hqltfx_fx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156707">L156707</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">Hnotcl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156708">L156708</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFam</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156710">L156710</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">Qgt</span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInQgt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156710">L156710</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionI" class="anamelink">UnionI</a></span> <span class="ltree">Fam</span></span> <span class="ltree">x</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span>)</span></span> <span class="ltree">HclNot</span></span> <span class="ltree">HFam</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156712">L156712</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156712">L156712</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156712">L156712</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156713">L156713</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionE_impred" class="anamelink">UnionE_impred</a></span> <span class="ltree">Fam</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156714">L156714</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156715">L156715</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156715">L156715</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUin</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156715">L156715</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qgt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HUin</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span>)</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156716">L156716</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156717">L156717</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qgt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156717">L156717</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156718">L156718</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUdiff</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">X</span> <a href="#notation_20">∖</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156720">L156720</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156720">L156720</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxU</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156721">L156721</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156723">L156723</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUdiff</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156723">L156723</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotCl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156725">L156725</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE2" class="anamelink">setminusE2</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUdiff</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156725">L156725</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** since x ∉ U_q, we have f(x) ≥ q, so in particular a0 &lt; f(x) because a0 &lt; q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156728">L156728</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156728">L156728</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0q</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156730">L156730</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156730">L156730</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156732">L156732</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156732">L156732</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156734">L156734</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156735">L156735</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156736">L156736</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156737">L156737</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156739">L156739</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156739">L156739</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQx_no_small</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** from x ∉ U_Q q we show Rle q (fx x) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156742">L156742</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156742">L156742</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0Qx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156742">L156742</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156742">L156742</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** if p0&lt;q then x∈U_p0 ⊆ U_q ⊆ cl(U_q), contradict x∉cl(U_q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156745">L156745</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0lt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156745">L156745</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156746">L156746</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0Q</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show x :e closure_of X Tx (U_Q q), contradicting HxNotCl ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156749">L156749</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156749">L156749</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156751">L156751</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156751">L156751</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ'</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** first show q ∈ I using p0&lt;q and x∉cl(U_Q q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156754">L156754</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HqQ</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156754">L156754</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR'</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156756">L156756</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156756">L156756</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156758">L156758</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156758">L156758</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156760">L156760</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hp0lt</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156760">L156760</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156763">L156763</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156765">L156765</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156765">L156765</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156766">L156766</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156768">L156768</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156768">L156768</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156769">L156769</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156770">L156770</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156772">L156772</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156772">L156772</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156775">L156775</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnq1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156778">L156778</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156778">L156778</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156780">L156780</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156780">L156780</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hnq1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156781">L156781</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156782">L156782</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hclq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156784">L156784</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156784">L156784</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of_space" class="anamelink">closure_of_space</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156785">L156785</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxcl</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156787">L156787</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hclq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156787">L156787</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156788">L156788</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HxNotCl</span> <span class="ltree">Hxcl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156789">L156789</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156791">L156791</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR'</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156792">L156792</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0R'</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** now p0 ∈ I as well ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156795">L156795</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hp0R</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156795">L156795</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnp0a</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156797">L156797</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156797">L156797</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156800">L156800</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156802">L156802</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156802">L156802</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156803">L156803</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156805">L156805</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156805">L156805</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156806">L156806</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156807">L156807</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp0</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156809">L156809</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbp0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156809">L156809</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156811">L156811</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hbp0</span></span> <span class="ltree">Hp0lt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156811">L156811</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnbq</span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156812">L156812</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0I</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156814">L156814</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0R'</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span>)</span></span> <span class="ltree">Hnp0a</span></span> <span class="ltree">Hnbp0</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156815">L156815</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** closure nesting: cl(U_p0) ⊆ U_q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156818">L156818</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q_closure_mono_I</span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hp0Q</span></span> <span class="ltree">HqQ'</span></span> <span class="ltree">Hp0I</span></span> <span class="ltree">HqI</span></span> <span class="ltree">Hp0lt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156818">L156818</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ U_p0 ⊆ cl(U_p0) ⊆ U_q ⊆ cl(U_q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156821">L156821</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156821">L156821</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156823">L156823</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156823">L156823</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsubcl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156825">L156825</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUsubX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156825">L156825</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156827">L156827</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hsubcl</span> <span class="ltree">x</span></span> <span class="ltree">HxUp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156827">L156827</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156829">L156829</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxclp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156829">L156829</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUqOpen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156831">L156831</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156831">L156831</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUqSubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156833">L156833</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUqOpen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156833">L156833</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156835">L156835</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUqSubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156835">L156835</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HxNotCl</span> <span class="ltree">Hxclq</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156837">L156837</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnlt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156837">L156837</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hp0R</span></span> <span class="ltree">Hnlt</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156838">L156838</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156840">L156840</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">HQx_no_small</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156840">L156840</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156842">L156842</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀a1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀a1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀a1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">a1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a1</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInLB</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156846">L156846</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0fx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156848">L156848</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">a0</span></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Ha0q</span></span> <span class="ltree">Hub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156848">L156848</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Ha0fxrel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156850">L156850</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156850">L156850</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_implies_order_rel_R" class="anamelink">Rlt_implies_order_rel_R</a></span> <span class="ltree">a0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Ha0fx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156851">L156851</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156853">L156853</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> <span class="ltree">Ha0fxrel</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156853">L156853</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_upper" class="anamelink">open_ray_upper</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">a0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HfxIn</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156854">L156854</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpreEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156855">L156855</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_union_closed_pow" class="anamelink">topology_union_closed_pow</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">Fam</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HFamPow</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156857">L156857</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hslo</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>I<a href="#notation_17"> ∈ </a><span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span><a href="#notation_17">|</a><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156857">L156857</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexb0</span>: <span class="ltree"><span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** s = (-∞,b0) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156860">L156860</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">λI : <span class="ltree">set</span> ⇒  <span class="ltree">∃b0<a href="#notation_8"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span>,  <span class="ltree"><span class="ltree">I</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span></span>)</span></span> <span class="ltree">s</span></span> <span class="ltree">Hslo</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156860">L156860</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hexb0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156861">L156861</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">b0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156862">L156862</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hb0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156862">L156862</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hb0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">b0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156864">L156864</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">Hb0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156864">L156864</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hseq</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156866">L156866</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">b0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">Hb0pair</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156866">L156866</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hseq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156867">L156867</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Qlt</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_17">{</a>q<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span><a href="#notation_17">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156869">L156869</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">FamL</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_9">{</a><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span><a href="#notation_9">|</a>q<a href="#notation_9"> ∈ </a><span class="ltree">Qlt</span><a href="#notation_9">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156870">L156870</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFamPow</span>: <span class="ltree"><span class="ltree"><span class="ltree">FamL</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Power" class="anamelink">𝒫</a></span> <span class="ltree">Tx</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156872">L156872</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#PowerI" class="anamelink">PowerI</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156872">L156872</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156873">L156873</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156873">L156873</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HU</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156874">L156874</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156875">L156875</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156875">L156875</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156876">L156876</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156877">L156877</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156879">L156879</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156879">L156879</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156880">L156880</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpreEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156883">L156883</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#set_ext" class="anamelink">set_ext</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156884">L156884</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156884">L156884</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156884">L156884</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156885">L156885</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156887">L156887</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156887">L156887</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156889">L156889</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156889">L156889</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156891">L156891</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156891">L156891</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HltRel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156893">L156893</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">y</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HfxIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156893">L156893</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156895">L156895</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel_R_implies_Rlt" class="anamelink">order_rel_R_implies_Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span> <span class="ltree">HltRel</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156895">L156895</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span> <span class="ltree">HfxR</span></span> <span class="ltree">Hb0R</span></span> <span class="ltree">Hlt</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156897">L156897</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** pick rational q with f(x) &lt; q &lt; b0 ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="156898">L156898</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqpair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156898">L156898</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hqpair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156898">L156898</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156899">L156899</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156900">L156900</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxltq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156902">L156902</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156902">L156902</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156904">L156904</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156904">L156904</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show x :e U_Q q by finding some p0 ∈ Qx x with p0 &lt; q and using nesting ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156908">L156908</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156909">L156909</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156910">L156910</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156911">L156911</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156913">L156913</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156913">L156913</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156915">L156915</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156917">L156917</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156919">L156919</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156919">L156919</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HubLB</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156921">L156921</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156921">L156921</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156923">L156923</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156925">L156925</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltfx</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156927">L156927</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156927">L156927</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hfxltq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156928">L156928</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q is not a lower bound, so obtain p0 ∈ Qx x with p0 &lt; q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156931">L156931</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156931">L156931</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnotLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span> <a href="#notation_10">∉</a> <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156933">L156933</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156933">L156933</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156935">L156935</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HubLB</span> <span class="ltree">q</span></span> <span class="ltree">HqLB</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156935">L156935</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">q</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Hle</span></span>)</span> <span class="ltree">Hqltfx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156936">L156936</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnotForall</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156938">L156938</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hall</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156938">L156938</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156940">L156940</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hall</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156940">L156940</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HnotLB</span> <span class="ltree">HqLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156941">L156941</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_all_ex_demorgan_i" class="anamelink">not_all_ex_demorgan_i</a></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span></span>)</span></span> <span class="ltree">HnotForall</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156942">L156942</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156943">L156943</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnp0</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156943">L156943</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnp0imp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156945">L156945</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hnp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156945">L156945</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_imp" class="anamelink">not_imp</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hnp0imp</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156946">L156946</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0Qx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156947">L156947</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnimp2</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156948">L156948</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_imp" class="anamelink">not_imp</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">Hnimp2</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156949">L156949</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0R</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156950">L156950</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnle</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156951">L156951</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show p0 &lt; q by contradiction with totality ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156954">L156954</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0ltq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156954">L156954</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0Q</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** now show x ∈ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156957">L156957</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156957">L156957</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156959">L156959</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp1 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p1</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Qx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156959">L156959</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156961">L156961</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156961">L156961</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** U_Q q = X since b &lt; q, and q &lt; a would contradict a &lt; b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156964">L156964</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156964">L156964</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156966">L156966</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hbq</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156966">L156966</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span> <span class="ltree">Hba</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156967">L156967</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156970">L156970</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUqX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156972">L156972</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156972">L156972</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156977">L156977</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156977">L156977</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156978">L156978</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156979">L156979</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156981">L156981</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUqX</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156981">L156981</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156982">L156982</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInQlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156984">L156984</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Hqltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156984">L156984</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqFam</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156986">L156986</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInQlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156986">L156986</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionI" class="anamelink">UnionI</a></span> <span class="ltree">FamL</span></span> <span class="ltree">x</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HxUq</span></span> <span class="ltree">HqFam</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156988">L156988</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156988">L156988</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** now q,p0 ∈ I and closure nesting gives U_Q p0 ⊆ cl(U_Q p0) ⊆ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="156991">L156991</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156991">L156991</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156993">L156993</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hp0ltq</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156993">L156993</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156996">L156996</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="156998">L156998</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="156998">L156998</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="156999">L156999</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157001">L157001</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157001">L157001</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157002">L157002</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157003">L157003</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157005">L157005</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157006">L157006</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hp0I</span>: <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157008">L157008</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnp0a</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157009">L157009</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hp0a</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157009">L157009</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157012">L157012</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157014">L157014</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157014">L157014</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p0</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p0</span></span></span>)</span></span> <span class="ltree">Hp0a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157015">L157015</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157017">L157017</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157017">L157017</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157018">L157018</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157019">L157019</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp0</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157021">L157021</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbp0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157021">L157021</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157023">L157023</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hbp0</span></span> <span class="ltree">Hp0ltq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157023">L157023</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnbq</span> <span class="ltree">Hbq'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157024">L157024</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">x0</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">x0</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p0</span></span> <span class="ltree">Hp0R</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p0</span></span>)</span></span>)</span></span> <span class="ltree">Hnp0a</span></span> <span class="ltree">Hnbp0</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157026">L157026</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157028">L157028</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q_closure_mono_I</span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span> <span class="ltree">Hp0Q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Hp0I</span></span> <span class="ltree">HqI</span></span> <span class="ltree">Hp0ltq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157028">L157028</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157030">L157030</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">p0</span></span> <span class="ltree">Hp0Q</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157030">L157030</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUsubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157032">L157032</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157032">L157032</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclp0</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157034">L157034</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUsubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157034">L157034</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157036">L157036</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxclp0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157036">L157036</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqInQlt</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157038">L157038</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Hqltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157038">L157038</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqFam</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157040">L157040</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplI" class="anamelink">ReplI</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqInQlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157040">L157040</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionI" class="anamelink">UnionI</a></span> <span class="ltree">FamL</span></span> <span class="ltree">x</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HxUq</span></span> <span class="ltree">HqFam</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157042">L157042</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnlt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p0</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157042">L157042</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157044">L157044</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">q</span></span> <span class="ltree">p0</span></span> <span class="ltree">HqR</span></span> <span class="ltree">Hp0R</span></span> <span class="ltree">Hnlt</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157044">L157044</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Hnle</span> <span class="ltree">Hle</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157046">L157046</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157046">L157046</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">FamL</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157046">L157046</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157047">L157047</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionE_impred" class="anamelink">UnionE_impred</a></span> <span class="ltree">FamL</span></span> <span class="ltree">x</span></span> <span class="ltree">Hx</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157048">L157048</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157049">L157049</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157049">L157049</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUin</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">FamL</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157049">L157049</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree">Qlt</span></span> <span class="ltree">(<span class="ltree">λq : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">U</span></span> <span class="ltree">HUin</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span>)</span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157050">L157050</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157051">L157051</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">Qlt</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157051">L157051</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157052">L157052</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157054">L157054</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157054">L157054</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hqltb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157056">L157056</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λq0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q0</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157056">L157056</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157058">L157058</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157058">L157058</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157060">L157060</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157060">L157060</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxU</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157061">L157061</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157063">L157063</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157064">L157064</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157064">L157064</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157065">L157065</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157067">L157067</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157068">L157068</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157069">L157069</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157070">L157070</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157072">L157072</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157072">L157072</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157074">L157074</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157076">L157076</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqUpper</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157078">L157078</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157078">L157078</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157078">L157078</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157078">L157078</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157080">L157080</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157080">L157080</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q ∈ Qx x since x ∈ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157083">L157083</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157083">L157083</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">q</span></span> <span class="ltree">HqQx</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157084">L157084</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157086">L157086</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">HqUpper</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157086">L157086</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxltb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157088">L157088</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157088">L157088</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle_Rlt_tra" class="anamelink">Rle_Rlt_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">b0</span></span> <span class="ltree">Hfxleq</span></span> <span class="ltree">Hqltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157089">L157089</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxRel</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157091">L157091</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_implies_order_rel_R" class="anamelink">Rlt_implies_order_rel_R</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b0</span></span> <span class="ltree">Hfxltb0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157091">L157091</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λu : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">u</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#open_ray_lower" class="anamelink">open_ray_lower</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">b0</span></span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λy : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#order_rel" class="anamelink">order_rel</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">y</span></span> <span class="ltree">b0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfunXR</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> <span class="ltree">HfxRel</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157093">L157093</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpreEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157094">L157094</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_union_closed_pow" class="anamelink">topology_union_closed_pow</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">FamL</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HFamPow</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157096">L157096</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hs0</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157097">L157097</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HsR</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157097">L157097</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hseq</span>: <span class="ltree"><span class="ltree"><span class="ltree">s</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157099">L157099</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">s</span></span> <span class="ltree">HsR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157099">L157099</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hseq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157100">L157100</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpreWhole</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of" class="anamelink">preimage_of</a></span> <span class="ltree">X</span></span> <span class="ltree">f</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157102">L157102</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#preimage_of_whole" class="anamelink">preimage_of_whole</a></span> <span class="ltree">X</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">f</span></span> <span class="ltree">HfunXR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157102">L157102</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HpreWhole</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157103">L157103</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_has_X" class="anamelink">topology_has_X</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">HTx</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157105">L157105</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HsS</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157105">L157105</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HimgI</span>: <span class="ltree"><span class="ltree">∀x : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Now restrict the range to the closed interval I. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157109">L157109</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157109">L157109</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157109">L157109</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show a &lt;= f(x) &lt;= b using the inf construction ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157112">L157112</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157113">L157113</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157114">L157114</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157115">L157115</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157116">L157116</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157119">L157119</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157119">L157119</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcore</span>: <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157121">L157121</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157123">L157123</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HubLB</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157125">L157125</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157125">L157125</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157127">L157127</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157129">L157129</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** lower bound: a &lt;= fx x because a ∈ LB x ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157133">L157133</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157134">L157134</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157134">L157134</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157134">L157134</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157134">L157134</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p0<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157136">L157136</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpSep</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_17">{</a>p0<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157138">L157138</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157138">L157138</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HpQx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157139">L157139</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157141">L157141</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpSep</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157141">L157141</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157143">L157143</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157143">L157143</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157146">L157146</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157148">L157148</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157148">L157148</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157149">L157149</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxEmpty</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157151">L157151</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157151">L157151</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157152">L157152</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxEmpty</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157154">L157154</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157154">L157154</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">a</span></span> <span class="ltree">p</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HpR</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157155">L157155</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Hprop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157156">L157156</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hale</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157158">L157158</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HubLB</span> <span class="ltree">a</span></span> <span class="ltree">HaLB</span></span> <span class="ltree">HaR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157158">L157158</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_b</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** upper bound: fx x &lt;= b because any l&gt;b is not a lower bound (choose p with b&lt;p&lt;l) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157162">L157162</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157162">L157162</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157162">L157162</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157162">L157162</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157164">L157164</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157164">L157164</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hbl</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157166">L157166</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** pick rational p with b &lt; p &lt; l; since b&lt;p, U_Q p = X, so p ∈ Qx x, contradict l being a lower bound ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="157167">L157167</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157167">L157167</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HpPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157167">L157167</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157168">L157168</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157169">L157169</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157171">L157171</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157171">L157171</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157173">L157173</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HpProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157173">L157173</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157175">L157175</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157175">L157175</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157178">L157178</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnpa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157180">L157180</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157180">L157180</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157182">L157182</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_Rle_tra" class="anamelink">Rlt_Rle_tra</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hpa</span></span> <span class="ltree">Hab</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157182">L157182</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157184">L157184</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">Hbp</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157184">L157184</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_refl" class="anamelink">not_Rlt_refl</a></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157185">L157185</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157188">L157188</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hnpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157188">L157188</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157190">L157190</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157190">L157190</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157191">L157191</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157192">L157192</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157194">L157194</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157194">L157194</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157195">L157195</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HQxDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>p0<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span><a href="#notation_17">|</a><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157197">L157197</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157199">L157199</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HQxDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157199">L157199</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HxUp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157200">L157200</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157202">L157202</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157202">L157202</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hlelp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157204">L157204</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span> <span class="ltree">HpR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157204">L157204</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157206">L157206</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span> <span class="ltree">Hlelp</span></span>)</span> <span class="ltree">Hpl</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157206">L157206</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157208">L157208</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbl</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157208">L157208</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hnbl</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157209">L157209</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157211">L157211</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HLB_le_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157211">L157211</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnfxa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** package membership in [a,b] ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157215">L157215</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">Hale</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157215">L157215</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbfx</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157217">L157217</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157217">L157217</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">Hnfxa</span></span> <span class="ltree">Hnbfx</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157221">L157221</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcontI</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map" class="anamelink">continuous_map</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">I</span></span> <span class="ltree">Ti</span></span> <span class="ltree">f</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157223">L157223</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#continuous_map_range_restrict" class="anamelink">continuous_map_range_restrict</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree"><a href="#R_standard_topology" class="anamelink">R_standard_topology</a></span></span> <span class="ltree">f</span></span> <span class="ltree">I</span></span> <span class="ltree">HcontR</span></span> <span class="ltree">HISubR</span></span> <span class="ltree">HimgI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157223">L157223</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">f</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157225">L157225</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157227">L157227</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157228">L157228</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HcontI</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157229">L157229</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157229">L157229</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxA</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">A</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157229">L157229</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157231">L157231</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157231">L157231</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157233">L157233</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157234">L157234</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157235">L157235</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157236">L157236</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show fx x = a ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157239">L157239</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157239">L157239</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157241">L157241</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157241">L157241</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157243">L157243</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157245">L157245</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxI</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157247">L157247</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157247">L157247</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HimgI</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157248">L157248</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxIcore</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157250">L157250</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HfxI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157250">L157250</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnfxa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157252">L157252</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">HfxIcore</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157252">L157252</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hale</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157254">L157254</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">a</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HfxR</span></span> <span class="ltree">Hnfxa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157254">L157254</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxA_in_UQ_gt_a</span>: <span class="ltree"><span class="ltree">∀q : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> → <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** For x∈A, any rational q&gt;a satisfies x∈U_Q q. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157258">L157258</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157258">L157258</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157258">L157258</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Haq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157259">L157259</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157261">L157261</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157261">L157261</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157263">L157263</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_sym" class="anamelink">not_Rlt_sym</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> <span class="ltree">Haq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157263">L157263</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157265">L157265</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157265">L157265</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** U_Q q = X ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157269">L157269</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157272">L157272</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157272">L157272</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157274">L157274</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157274">L157274</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157275">L157275</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157276">L157276</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157277">L157277</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157279">L157279</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbq</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157279">L157279</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqI</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** q ∈ I, then use Inv nesting between a and q at stage ordsucc(code q) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157282">L157282</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span>)</span></span> <span class="ltree">Hnqa</span></span> <span class="ltree">Hnbq</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157283">L157283</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157285">L157285</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HqI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157285">L157285</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqP</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157287">L157287</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157287">L157287</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">nq</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157288">L157288</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodeqO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157290">L157290</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157290">L157290</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnqNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157292">L157292</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">nq</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">HcodeqO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157292">L157292</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">nq</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157294">L157294</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">q</span></span> <span class="ltree">HqP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157294">L157294</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HSt0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** a is in the base domain, hence in every later Fof ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157297">L157297</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_0" class="anamelink">nat_primrec_0</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157297">L157297</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157299">L157299</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157300">L157300</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157301">L157301</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157302">L157302</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157304">L157304</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157306">L157306</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157306">L157306</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI1" class="anamelink">UPairI1</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157307">L157307</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaFq'</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157309">L157309</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span> <span class="ltree">a</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HaF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157309">L157309</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span> <a href="#notation_5">=</a> <span class="ltree">nq</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157311">L157311</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_0L" class="anamelink">add_nat_0L</a></span> <span class="ltree">nq</span></span> <span class="ltree">HnqNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157311">L157311</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">a</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">nq</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157313">L157313</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157313">L157313</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HaFq'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157314">L157314</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">a</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157316">L157316</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv_nesting_at</span> <span class="ltree">nq</span></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HaDom</span></span> <span class="ltree">HqDom</span></span> <span class="ltree">Haq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157316">L157316</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseG</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** rewrite stage values: apply_fun(Gof nq) a = U_a and apply_fun(Gof nq) q = U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157320">L157320</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157321">L157321</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157322">L157322</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157323">L157323</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157325">L157325</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGa0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157327">L157327</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157327">L157327</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HBaseGa</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157328">L157328</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157330">L157330</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpres</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span>)</span></span>)</span></span> <span class="ltree">a</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157331">L157331</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">nq</span></span> <span class="ltree">a</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnqNat</span></span> <span class="ltree">HaF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157331">L157331</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157332">L157332</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpres</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157333">L157333</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HGa0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157334">L157334</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">nq</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157336">L157336</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157338">L157338</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157339">L157339</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157342">L157342</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157342">L157342</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157343">L157343</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157346">L157346</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hnbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157346">L157346</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157348">L157348</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_a12</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ A ⊆ U_a ⊆ cl(U_a) ⊆ U_Q q ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157352">L157352</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span>)</span></span> <span class="ltree">HU_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157352">L157352</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HAsubUa</span>: <span class="ltree"><span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157354">L157354</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span>)</span></span> <span class="ltree">HU_a12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157354">L157354</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUa</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157356">L157356</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HAsubUa</span> <span class="ltree">x</span></span> <span class="ltree">HxA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157356">L157356</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_aTx'</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157358">L157358</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_a</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">A</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_a</span></span>)</span></span> <span class="ltree">HU_a12</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157358">L157358</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HU_aSubX</span>: <span class="ltree"><span class="ltree"><span class="ltree">U_a</span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157360">L157360</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU_aTx'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157360">L157360</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxclUa</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157362">L157362</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HU_aSubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157362">L157362</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">U_a</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157364">L157364</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGa</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157364">L157364</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157365">L157365</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hnest</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157366">L157366</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">HxclUa</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157367">L157367</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_a</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">a</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** Any lower bound l of Qx(x) must satisfy l &lt;= a. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157371">L157371</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157371">L157371</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157371">L157371</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157371">L157371</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157373">L157373</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Halt</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157373">L157373</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Halt</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157374">L157374</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157375">L157375</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqpair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157375">L157375</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hqpair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157375">L157375</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157376">L157376</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157377">L157377</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Haq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157379">L157379</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157379">L157379</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hql</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157381">L157381</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157381">L157381</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157383">L157383</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157383">L157383</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157385">L157385</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HxA_in_UQ_gt_a</span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">Haq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157385">L157385</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157387">L157387</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157387">L157387</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157389">L157389</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157389">L157389</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157391">L157391</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">q</span></span> <span class="ltree">HqQx</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157391">L157391</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157393">L157393</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span> <span class="ltree">Hle</span></span>)</span> <span class="ltree">Hql</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157393">L157393</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157395">L157395</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnalt</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">a</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157395">L157395</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">a</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HaR</span></span> <span class="ltree">Hnalt</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157396">L157396</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlea</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157398">L157398</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">a</span></span> <span class="ltree">HaR</span></span> <span class="ltree">HLB_le_a</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157398">L157398</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEqA</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157400">L157400</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle_antisym" class="anamelink">Rle_antisym</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">a</span></span> <span class="ltree">Hfxlea</span></span> <span class="ltree">Hale</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157400">L157400</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157401">L157401</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEqA</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157404">L157404</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157404">L157404</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">B</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157404">L157404</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157406">L157406</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HBsubX</span> <span class="ltree">x</span></span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157406">L157406</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157408">L157408</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfDef</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157409">L157409</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157410">L157410</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree">λx0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">fx</span> <span class="ltree">x0</span></span></span>)</span></span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157411">L157411</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxR</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157413">L157413</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hfx_in_R</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157413">L157413</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxlub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#R_lub" class="anamelink">R_lub</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157415">L157415</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HfxRlub</span> <span class="ltree">x</span></span> <span class="ltree">HxX</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157415">L157415</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HubLB</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157417">L157417</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157420">L157420</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HminLB</span>: <span class="ltree"><span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157422">L157422</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀u : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">u</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">u</span></span></span></span></span>)</span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">u</span></span></span></span></span>)</span></span> <span class="ltree">Hfxlub</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157424">L157424</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** b is a lower bound of Qx(x) for x∈B ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157428">L157428</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLBDef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_17">{</a>l<a href="#notation_17"> ∈ </a><span class="ltree"><a href="#R" class="anamelink">R</a></span><a href="#notation_17">|</a><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span><a href="#notation_17">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157429">L157429</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HLBDef</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157430">L157430</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbprop</span>: <span class="ltree"><span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157432">L157432</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">p</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157432">L157432</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157432">L157432</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HpR</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157432">L157432</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157434">L157434</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE1" class="anamelink">SepE1</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157434">L157434</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157436">L157436</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQx</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157436">L157436</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157438">L157438</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157438">L157438</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnpA</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show contradiction: x ∈ B implies x ∉ U_b, but cl(U_Q p) ⊆ U_b when p&lt;b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157441">L157441</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hpa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157441">L157441</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157444">L157444</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUempty</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157446">L157446</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157446">L157446</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">Hpa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157447">L157447</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxE</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157449">L157449</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUempty</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157449">L157449</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxUp</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157450">L157450</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">x</span></span> <span class="ltree">HxE</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157451">L157451</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnbp</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157453">L157453</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#not_Rlt_sym" class="anamelink">not_Rlt_sym</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157453">L157453</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpI</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">I</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157455">L157455</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λr : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">r</span></span> <span class="ltree">a</span></span>)</span></span> <a href="#notation_2">∧</a> <span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">r</span></span>)</span></span></span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpR</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span> <span class="ltree">HnpA</span></span> <span class="ltree">Hnbp</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157456">L157456</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157458">L157458</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binintersectI" class="anamelink">binintersectI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">I</span></span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span> <span class="ltree">HpI</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157458">L157458</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpP</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree">P</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157460">L157460</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#binunionI1" class="anamelink">binunionI1</a></span> <span class="ltree">P0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPair" class="anamelink">UPair</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span> <span class="ltree">p</span></span> <span class="ltree">HpP0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157460">L157460</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">np</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157461">L157461</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HcodepO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157463">L157463</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hcode_in_omega</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157463">L157463</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnpNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">np</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157465">L157465</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">np</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HcodepO</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157465">L157465</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HpDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157467">L157467</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hp_in_dom_succ_code</span> <span class="ltree">p</span></span> <span class="ltree">HpP</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157467">L157467</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HSt0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseState</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** b is in the base domain, hence in every later Fof ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157470">L157470</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_0" class="anamelink">nat_primrec_0</a></span> <span class="ltree">BaseState</span></span> <span class="ltree">StepState</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157470">L157470</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseF</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157472">L157472</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HFdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157473">L157473</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157474">L157474</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157475">L157475</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_0_eq" class="anamelink">tuple_2_0_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157477">L157477</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157479">L157479</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HFof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157479">L157479</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#UPairI2" class="anamelink">UPairI2</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157480">L157480</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbFp'</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157482">L157482</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Fof_increase_by_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HbF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157482">L157482</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hadd0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span> <a href="#notation_5">=</a> <span class="ltree">np</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157484">L157484</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat_0L" class="anamelink">add_nat_0L</a></span> <span class="ltree">np</span></span> <span class="ltree">HnpNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157484">L157484</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">b</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Fof</span> <span class="ltree">np</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157486">L157486</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157486">L157486</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbFp'</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157487">L157487</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnest</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157489">L157489</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Inv_nesting_at</span> <span class="ltree">np</span></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HpDom</span></span> <span class="ltree">HbDom</span></span> <span class="ltree">Hpb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157489">L157489</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUQp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** rewrite stage values to U_Q p and U_b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157492">L157492</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbeta</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157494">L157494</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hbeta</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157495">L157495</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep1</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157498">L157498</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span></span> <span class="ltree">HnpA</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157498">L157498</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157499">L157499</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep2</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157502">L157502</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">p</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">Hnbp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157502">L157502</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep2</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157504">L157504</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGof0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree">BaseG</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157506">L157506</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">State</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span> <span class="ltree"><a href="#notation_21">1</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157507">L157507</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGdef</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157508">L157508</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HSt0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157509">L157509</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#tuple_2_1_eq" class="anamelink">tuple_2_1_eq</a></span> <span class="ltree">BaseF</span></span> <span class="ltree">BaseG</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157511">L157511</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGb0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157513">L157513</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGof0</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157513">L157513</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HBaseGb</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157514">L157514</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HGb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157516">L157516</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hpres</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_nat" class="anamelink">add_nat</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span>)</span></span>)</span></span> <span class="ltree">b</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157517">L157517</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Gof_preserve_add</span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">np</span></span> <span class="ltree">b</span></span> <span class="ltree"><a href="#nat_0" class="anamelink">nat_0</a></span></span> <span class="ltree">HnpNat</span></span> <span class="ltree">HbF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157517">L157517</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hadd0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157518">L157518</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hpres</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157519">L157519</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HGb0</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157520">L157520</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HclSub</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157522">L157522</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157522">L157522</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hy</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157522">L157522</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_b</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157523">L157523</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hy'</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157525">L157525</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUQp</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157525">L157525</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hy</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157526">L157526</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hyb</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">np</span></span>)</span></span> <span class="ltree">b</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157528">L157528</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hnest</span> <span class="ltree">y</span></span> <span class="ltree">Hy'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157528">L157528</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HGb</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157529">L157529</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hyb</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157530">L157530</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUopen</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ U_Q p ⊆ cl(U_Q p) ⊆ U_b, but x ∈ B so x ∉ U_b ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157533">L157533</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HU_Q_open</span> <span class="ltree">p</span></span> <span class="ltree">HpQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157533">L157533</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUpSubX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>  <a href="#Subq_notation">⊆</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157535">L157535</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_elem_subset" class="anamelink">topology_elem_subset</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUopen</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157535">L157535</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hxclp</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#closure_of" class="anamelink">closure_of</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157537">L157537</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subset_of_closure" class="anamelink">subset_of_closure</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p</span></span>)</span></span> <span class="ltree">HTx</span></span> <span class="ltree">HUpSubX</span></span>)</span> <span class="ltree">x</span></span> <span class="ltree">HxUp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157537">L157537</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUb</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157539">L157539</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HclSub</span> <span class="ltree">x</span></span> <span class="ltree">Hxclp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157539">L157539</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotUb</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157541">L157541</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxUb'</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U_b</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157541">L157541</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxNotB</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span> <a href="#notation_10">∉</a> <span class="ltree">B</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157543">L157543</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE2" class="anamelink">setminusE2</a></span> <span class="ltree">X</span></span> <span class="ltree">B</span></span> <span class="ltree">x</span></span> <span class="ltree">HxUb'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157543">L157543</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HxNotB</span> <span class="ltree">HxB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157544">L157544</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">HxNotUb</span> <span class="ltree">HxUb</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157546">L157546</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnpb</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">p</span></span> <span class="ltree">b</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157546">L157546</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">b</span></span> <span class="ltree">p</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HpR</span></span> <span class="ltree">Hnpb</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157547">L157547</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl : <span class="ltree">set</span> ⇒  <span class="ltree">∀p : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p</span></span></span></span></span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hbprop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157548">L157548</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">b</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157550">L157550</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HubLB</span> <span class="ltree">b</span></span> <span class="ltree">HbLB</span></span> <span class="ltree">HbR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157550">L157550</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HLB_le_b</span>: <span class="ltree"><span class="ltree">∀l : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** b is an upper bound of LB x: any l∈LB x must be &lt;= b (use q with b&lt;q&lt;l, and U_Q q = X) ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157553">L157553</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">l</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157553">L157553</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlLB</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">LB</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157553">L157553</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HlR</span>: <span class="ltree"><span class="ltree"><span class="ltree">l</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157553">L157553</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157555">L157555</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbl</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157555">L157555</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_dense_between_reals" class="anamelink">rational_dense_between_reals</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HlR</span></span> <span class="ltree">Hbl</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157556">L157556</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">q</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157557">L157557</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqPair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157557">L157557</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HqPair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157557">L157557</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqQ</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157558">L157558</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HqProp</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157559">L157559</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157561">L157561</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157561">L157561</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hql</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157563">L157563</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">l</span></span>)</span></span> <span class="ltree">HqProp</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157563">L157563</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqR</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157565">L157565</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#rational_numbers_in_R" class="anamelink">rational_numbers_in_R</a></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157565">L157565</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnqa</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** x ∈ U_Q q since U_Q q = X ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="157568">L157568</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hqa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157568">L157568</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hba'</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">a</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157570">L157570</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt_tra" class="anamelink">Rlt_tra</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span> <span class="ltree">Hbq</span></span> <span class="ltree">Hqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157570">L157570</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">a</span></span> <span class="ltree">b</span></span> <span class="ltree">Hab</span></span>)</span> <span class="ltree">Hba'</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157571">L157571</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUeq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157574">L157574</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hstep</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span></span>)</span> <a href="#notation_5">=</a> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157577">L157577</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">q</span></span> <span class="ltree">a</span></span>)</span></span> <span class="ltree"><a href="#Empty" class="anamelink">Empty</a></span></span> <span class="ltree">(<span class="ltree"><a href="#notation_11"><span class="keyword">if</span> </a><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span><a href="#notation_11"> <span class="keyword">then</span> </a><span class="ltree">X</span><a href="#notation_11"> <span class="keyword">else</span> </a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span></span>)</span></span> <span class="ltree">Hnqa</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157577">L157577</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HUX</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span> <a href="#notation_5">=</a> <span class="ltree">X</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157579">L157579</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUeq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157579">L157579</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hstep</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157580">L157580</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">Gof</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">code</span> <span class="ltree">q</span></span>)</span></span>)</span></span>)</span></span> <span class="ltree">q</span></span>)</span></span> <span class="ltree">Hbq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157581">L157581</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxUq</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">q</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157583">L157583</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HUX</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157583">L157583</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157584">L157584</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HqQx</span>: <span class="ltree"><span class="ltree"><span class="ltree">q</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157586">L157586</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepI" class="anamelink">SepI</a></span> <span class="ltree"><a href="#rational_numbers" class="anamelink">rational_numbers</a></span></span> <span class="ltree">(<span class="ltree">λp0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">U_Q</span> <span class="ltree">p0</span></span></span></span>)</span></span> <span class="ltree">q</span></span> <span class="ltree">HqQ</span></span> <span class="ltree">HxUq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157586">L157586</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlProp</span>: <span class="ltree"><span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">p0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157588">L157588</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SepE2" class="anamelink">SepE2</a></span> <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> <span class="ltree">(<span class="ltree">λl0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀p0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree">Qx</span> <span class="ltree">x</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree">p0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#R" class="anamelink">R</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l0</span></span> <span class="ltree">p0</span></span></span></span></span></span>)</span></span> <span class="ltree">l</span></span> <span class="ltree">HlLB</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157588">L157588</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hle</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157590">L157590</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HlProp</span> <span class="ltree">q</span></span> <span class="ltree">HqQx</span></span> <span class="ltree">HqR</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157590">L157590</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hcontra</span>: <span class="ltree"><span class="ltree"><a href="#False" class="anamelink">False</a></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157592">L157592</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleE_nlt" class="anamelink">RleE_nlt</a></span> <span class="ltree">l</span></span> <span class="ltree">q</span></span> <span class="ltree">Hle</span></span>)</span> <span class="ltree">Hql</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157592">L157592</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span> <span class="ltree">Hcontra</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157594">L157594</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hnbl</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rlt" class="anamelink">Rlt</a></span> <span class="ltree">b</span></span> <span class="ltree">l</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157594">L157594</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#RleI" class="anamelink">RleI</a></span> <span class="ltree">l</span></span> <span class="ltree">b</span></span> <span class="ltree">HlR</span></span> <span class="ltree">HbR</span></span> <span class="ltree">Hnbl</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157595">L157595</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hfxleb</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle" class="anamelink">Rle</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157597">L157597</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HminLB</span> <span class="ltree">b</span></span> <span class="ltree">HbR</span></span> <span class="ltree">HLB_le_b</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157597">L157597</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HfxEqB</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span> <a href="#notation_5">=</a> <span class="ltree">b</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="157599">L157599</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#Rle_antisym" class="anamelink">Rle_antisym</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fx</span> <span class="ltree">x</span></span>)</span></span> <span class="ltree">b</span></span> <span class="ltree">Hfxleb</span></span> <span class="ltree">Hleb</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="157599">L157599</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="157600">L157600</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HfxEqB</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
∎