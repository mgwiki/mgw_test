<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** helper: every point in the coherent union lies in some component ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: If x is in the union X then x lies in some X_i ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="295198">L295198</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">Xi and x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295199">L295199</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hx</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#coherent_union" class="anamelink">coherent_union</a></span> <span class="ltree">Xi</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295200">L295200</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Fam</span> to be the term <span class="ltree"><span class="ltree"><a href="#notation_9">{</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">Xi</span></span> <span class="ltree">j</span></span><a href="#notation_9">|</a>j<a href="#notation_9"> ∈ </a><span class="ltree"><a href="#omega" class="anamelink">ω</a></span><a href="#notation_9">}</a></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295201">L295201</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HXdef</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#coherent_union" class="anamelink">coherent_union</a></span> <span class="ltree">Xi</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="295203">L295203</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#Union" class="anamelink">⋃</a></span> <span class="ltree">Fam</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="295205">L295205</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HXdef</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295205">L295205</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hx</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="295206">L295206</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#UnionE_impred" class="anamelink">UnionE_impred</a></span> <span class="ltree">Fam</span></span> <span class="ltree">x</span></span> <span class="ltree">HxU</span></span> <span class="ltree">(<span class="ltree">∃i<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">i</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">Xi</span></span> <span class="ltree">i</span></span></span></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295207">L295207</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">G</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295208">L295208</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxG</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">G</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295208">L295208</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HG</span>: <span class="ltree"><span class="ltree"><span class="ltree">G</span>  <a href="#In_notation">∈</a>  <span class="ltree">Fam</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295208">L295208</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ReplE_impred" class="anamelink">ReplE_impred</a></span> <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span> <span class="ltree">(<span class="ltree">λj : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">Xi</span></span> <span class="ltree">j</span></span></span>)</span></span> <span class="ltree">G</span></span> <span class="ltree">HG</span></span>)</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295209">L295209</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">i</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295210">L295210</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HiO</span>: <span class="ltree"><span class="ltree"><span class="ltree">i</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295210">L295210</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">G</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">Xi</span></span> <span class="ltree">i</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295211">L295211</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">i</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295212">L295212</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="295214">L295214</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HiO</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="295215">L295215</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="295215">L295215</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxG</span></span>.</div>
</div>
</div>
∎