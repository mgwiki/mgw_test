<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** helper for §41: move a chosen enumerated element to the last index without changing the pointwise sum ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: Given a finite sum over a bijection enumeration and a chosen element of the finite set, we may reorder the enumeration so that the chosen element appears last, without changing the sum. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193553">L193553</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, m, F, e, flast and x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193554">L193554</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HmO</span>: <span class="ltree"><span class="ltree"><span class="ltree">m</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193555">L193555</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193556">L193556</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbij</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m</span></span>)</span></span> <span class="ltree">F</span></span> <span class="ltree">e</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193557">L193557</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HflF</span>: <span class="ltree"><span class="ltree"><span class="ltree">flast</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193558">L193558</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HvalUI</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193559">L193559</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HmNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">m</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193562">L193562</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">m</span></span> <span class="ltree">HmO</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193562">L193562</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">step</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λe0 : <span class="ltree">set</span> ⇒  <span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193564">L193564</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Pm</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λm0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀F0 e0 fl0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">m0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span>)</span> → <span class="ltree">∃e'<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e'</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e'</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e'</span></span> <span class="ltree">m0</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span></span></span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193575">L193575</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193578">L193578</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">F0, e0 and fl0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193578">L193578</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H0O</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_21">0</a></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193579">L193579</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbij0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193580">L193580</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfl0</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193581">L193581</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HvalUI0</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193582">L193582</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">e0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193583">L193583</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193585">L193585</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193586">L193586</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hbij0</span></span>.</div>
</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193588">L193588</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsurj</span>: <span class="ltree"><span class="ltree">∃k<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k</span></span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** only index is 0, so e0 0 = fl0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193591">L193591</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hbij0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193591">L193591</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">_ Huniq</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193592">L193592</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Huniq</span> <span class="ltree">fl0</span></span> <span class="ltree">Hfl0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193593">L193593</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hsurj</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193594">L193594</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193595">L193595</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkpack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193595">L193595</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkLeft</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193597">L193597</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k</span></span></span></span></span>)</span></span> <span class="ltree">Hkpack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193600">L193600</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193602">L193602</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">HkLeft</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193602">L193602</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193604">L193604</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">HkLeft</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193604">L193604</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkCase</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193606">L193606</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">k</span></span> <span class="ltree">HkIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193606">L193606</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193608">L193608</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HkCase</span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193609">L193609</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkIn0</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193609">L193609</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193610">L193610</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">k</span></span> <span class="ltree">HkIn0</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193612">L193612</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkEq0</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193612">L193612</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkEq0</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193613">L193613</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hk0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193614">L193614</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkEq</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193615">L193615</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HPS</span>: <span class="ltree"><span class="ltree">∀t : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree">Pm</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193618">L193618</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193618">L193618</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193619">L193619</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">IHt</span>: <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193620">L193620</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">Pm</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193621">L193621</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">F0, e0 and fl0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193622">L193622</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hm1O</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193623">L193623</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HbijS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193624">L193624</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfl0</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193625">L193625</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HvalUI0</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193626">L193626</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">m1</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193628">L193628</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1Def</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193630">L193630</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtO</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193632">L193632</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p_omega" class="anamelink">nat_p_omega</a></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193632">L193632</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1Nat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193634">L193634</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193634">L193634</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ordsucc" class="anamelink">nat_ordsucc</a></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193635">L193635</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1O2</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193637">L193637</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p_omega" class="anamelink">nat_p_omega</a></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1Nat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193637">L193637</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">lastval</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193639">L193639</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He0fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193641">L193641</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HbijS</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193646">L193646</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlastF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">lastval</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193648">L193648</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He0fun</span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193648">L193648</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193651">L193651</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HeqLast</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193651">L193651</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">e0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193652">L193652</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193654">L193654</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193655">L193655</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbijS</span></span>.</div>
</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193657">L193657</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HeqLast</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193659">L193659</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HneqLast</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193659">L193659</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HflNot</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span> <a href="#notation_10">∉</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193661">L193661</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hmem</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193661">L193661</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193663">L193663</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">lastval</span></span> <span class="ltree">fl0</span></span> <span class="ltree">Hmem</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193663">L193663</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HneqLast</span> <span class="ltree">Heq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193664">L193664</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HflInDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193666">L193666</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">fl0</span></span> <span class="ltree">Hfl0</span></span> <span class="ltree">HflNot</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193666">L193666</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbijDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">m1</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193669">L193669</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193669">L193669</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection_drop_last" class="anamelink">bijection_drop_last</a></span> <span class="ltree">m1</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span> <span class="ltree">Hm1O2</span></span> <span class="ltree">HbijS</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193670">L193670</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbijDrop2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193672">L193672</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlastEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193673">L193673</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HlastEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193674">L193674</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbijDrop</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193675">L193675</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HvalUIDrop</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193678">L193678</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">f</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193678">L193678</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hf</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193678">L193678</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HvalUI0</span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">f</span></span> <span class="ltree">Hf</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193679">L193679</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HmoveSmall</span>: <span class="ltree"><span class="ltree">∃e1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193686">L193686</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">IHt</span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e0</span></span> <span class="ltree">fl0</span></span> <span class="ltree">HtO</span></span> <span class="ltree">HbijDrop2</span></span> <span class="ltree">HflInDrop</span></span> <span class="ltree">HvalUIDrop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193686">L193686</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HmoveSmall</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193687">L193687</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">e1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193688">L193688</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">He1pack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193688">L193688</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1left</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193692">L193692</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">He1pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193696">L193696</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbij1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193698">L193698</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span>)</span></span> <span class="ltree">He1left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193701">L193701</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsumSmall</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193703">L193703</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span>)</span></span> <span class="ltree">He1left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193706">L193706</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1last</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193708">L193708</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">He1pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193712">L193712</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">e2</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span></span>)</span></span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** extend e1 to ordsucc m1 by putting lastval at m1 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193716">L193716</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2m1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193719">L193719</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span></span>)</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193719">L193719</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrefl</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193721">L193721</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">m1</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">Hrefl</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193723">L193723</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbij2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e2</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show e2 is a bijection ordsucc m1 -&gt; F0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193727">L193727</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e2</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀y : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree">∃k0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193730">L193730</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193732">L193732</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193733">L193733</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193733">L193733</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> (from left to right).</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** function_on ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="193734">L193734</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193736">L193736</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193736">L193736</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hkm1</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193737">L193737</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HlastF0</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193739">L193739</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hknm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193739">L193739</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hknm1</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193740">L193740</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** k in m1 so e1 k in F0\\{lastval} and hence in F0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193743">L193743</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193744">L193744</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193744">L193744</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193745">L193745</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193745">L193745</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193746">L193746</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hknm1</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193747">L193747</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193749">L193749</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hbij1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193753">L193753</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1kDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193755">L193755</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He1fun</span> <span class="ltree">k</span></span> <span class="ltree">HkInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193755">L193755</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">He1kDrop</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193757">L193757</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193758">L193758</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HyF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193758">L193758</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span>)</span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** surjectivity + uniqueness ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193760">L193760</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HyLast</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193760">L193760</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">m1</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193761">L193761</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193763">L193763</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193764">L193764</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193765">L193765</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HyLast</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193765">L193765</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He2m1</span></span>.</div>
</div>
</div></div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193767">L193767</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193767">L193767</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk'Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193767">L193767</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193768">L193768</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193770">L193770</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193770">L193770</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193771">L193771</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkn</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193771">L193771</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193773">L193773</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193774">L193774</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193774">L193774</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193775">L193775</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193775">L193775</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193776">L193776</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hkn</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193777">L193777</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193779">L193779</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hbij1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193783">L193783</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1kDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193785">L193785</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He1fun</span> <span class="ltree">k'</span></span> <span class="ltree">HkInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193785">L193785</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnot</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_10">∉</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193787">L193787</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE2" class="anamelink">setminusE2</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">He1kDrop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193787">L193787</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193789">L193789</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193789">L193789</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">Hkn</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193791">L193791</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1eqLast</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193793">L193793</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193793">L193793</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HyLast</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193794">L193794</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193795">L193795</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193796">L193796</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hmem</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193798">L193798</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He1eqLast</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193798">L193798</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#SingI" class="anamelink">SingI</a></span> <span class="ltree">lastval</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193799">L193799</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193800">L193800</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnot</span> <span class="ltree">Hmem</span></span>)</span></span>.</div>
</div>
</div></div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193802">L193802</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HyNLast</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193802">L193802</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HyDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193804">L193804</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">y</span></span> <span class="ltree">HyF0</span></span> <span class="ltree">(<span class="ltree">λHyS : <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> ⇒  <span class="ltree"><span class="ltree">HyNLast</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">lastval</span></span> <span class="ltree">y</span></span> <span class="ltree">HyS</span></span>)</span></span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193804">L193804</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsurj1</span>: <span class="ltree"><span class="ltree">∃k0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193807">L193807</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hbij1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193807">L193807</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">_ Huniq</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193808">L193808</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Huniq</span> <span class="ltree">y</span></span> <span class="ltree">HyDrop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193809">L193809</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hsurj1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193810">L193810</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193811">L193811</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk0pack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193811">L193811</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0left</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193813">L193813</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span> <span class="ltree">Hk0pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193816">L193816</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0In</span>: <span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193818">L193818</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span>)</span></span> <span class="ltree">Hk0left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193818">L193818</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0Eq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193820">L193820</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span>)</span></span> <span class="ltree">Hk0left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193820">L193820</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0uniq</span>: <span class="ltree"><span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193822">L193822</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span> <span class="ltree">Hk0pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193825">L193825</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">k0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193826">L193826</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193828">L193828</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193829">L193829</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">k0</span></span> <span class="ltree">Hk0In</span></span>)</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193830">L193830</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193831">L193831</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">k0</span></span> <span class="ltree">Hk0In</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193831">L193831</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span></span>)</span></span> <span class="ltree">k0</span></span> <span class="ltree">Hk0Dom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193832">L193832</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0nm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193834">L193834</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193834">L193834</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hmm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193836">L193836</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193836">L193836</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hk0In</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193837">L193837</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#In_irref" class="anamelink">In_irref</a></span> <span class="ltree">m1</span></span>)</span> <span class="ltree">Hmm1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193838">L193838</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span> <span class="ltree">Hk0nm1</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193839">L193839</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hk0Eq</span></span>.</div>
</div>
</div></div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193841">L193841</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193841">L193841</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk'Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193841">L193841</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193842">L193842</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193844">L193844</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193844">L193844</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193845">L193845</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2kLast</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193847">L193847</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193847">L193847</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hkm1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193848">L193848</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He2m1</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193849">L193849</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HyEqA</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193851">L193851</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193852">L193852</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HyEqLast</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193854">L193854</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#eq_i_tra" class="anamelink">eq_i_tra</a></span> <span class="ltree">y</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">HyEqA</span></span> <span class="ltree">He2kLast</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193854">L193854</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HyNLast</span> <span class="ltree">HyEqLast</span></span>)</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193856">L193856</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkn</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193856">L193856</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193858">L193858</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193859">L193859</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193859">L193859</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193860">L193860</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193860">L193860</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193861">L193861</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hkn</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193862">L193862</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193864">L193864</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193864">L193864</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">Hkn</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193866">L193866</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1eqY</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193868">L193868</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193868">L193868</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193869">L193869</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193870">L193870</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hk0uniq</span> <span class="ltree">k'</span></span> <span class="ltree">HkInM1</span></span> <span class="ltree">He1eqY</span></span>)</span></span>.</div>
</div>
</div></div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193872">L193872</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtermLastUI</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">lastval</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** compare full sums: replace prefix by HsumSmall and keep last term ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193876">L193876</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HvalUI0</span> <span class="ltree">lastval</span></span> <span class="ltree">HlastF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193876">L193876</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsumFull</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193880">L193880</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1Nat</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193880">L193880</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1Nat</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193881">L193881</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaccEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193883">L193883</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hacc1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193884">L193884</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193884">L193884</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HsumSmall</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193885">L193885</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hacc2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193887">L193887</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HeqE1E2</span>: <span class="ltree"><span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193888">L193888</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193888">L193888</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193888">L193888</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193890">L193890</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">k</span></span> <span class="ltree">HkM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193890">L193890</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hknm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193892">L193892</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193892">L193892</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hmm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193894">L193894</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193894">L193894</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193895">L193895</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#In_irref" class="anamelink">In_irref</a></span> <span class="ltree">m1</span></span>)</span> <span class="ltree">Hmm1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193896">L193896</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193898">L193898</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193898">L193898</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hknm1</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193900">L193900</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193901">L193901</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193903">L193903</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_sum_congr_on" class="anamelink">nat_primrec_sum_congr_on</a></span> <span class="ltree">X</span></span> <span class="ltree">m1</span></span> <span class="ltree">e1</span></span> <span class="ltree">e2</span></span> <span class="ltree">x</span></span> <span class="ltree">Hm1Nat</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HeqE1E2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193904">L193904</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#eq_i_tra" class="anamelink">eq_i_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">Hacc1</span></span> <span class="ltree">Hacc2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193909">L193909</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HaccEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193910">L193910</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2m1F</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193912">L193912</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He2m1</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193912">L193912</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2m1F</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193914">L193914</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">e'</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193917">L193917</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">e'</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** swap the last two indices so that fl0 is at m1 ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="193918">L193918</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193920">L193920</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193921">L193921</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193922">L193922</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193922">L193922</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HstIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193924">L193924</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193924">L193924</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193925">L193925</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection_swap_adjacent" class="anamelink">bijection_swap_adjacent</a></span> <span class="ltree">F0</span></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">HtIn</span></span> <span class="ltree">HstIn</span></span> <span class="ltree">Hbij2</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193927">L193927</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtermUI2</span>: <span class="ltree"><span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** sum invariant under adjacent swap at t ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193929">L193929</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193929">L193929</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193929">L193929</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193931">L193931</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193931">L193931</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hkm1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193932">L193932</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2m1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193933">L193933</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HtermLastUI</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193935">L193935</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hknm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193935">L193935</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193937">L193937</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193938">L193938</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193938">L193938</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193939">L193939</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193939">L193939</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193940">L193940</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hknm1</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193941">L193941</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193943">L193943</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hbij1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193947">L193947</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1kDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193949">L193949</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He1fun</span> <span class="ltree">k</span></span> <span class="ltree">HkInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193949">L193949</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193951">L193951</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193951">L193951</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hknm1</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193953">L193953</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193954">L193954</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HvalUI0</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">He1kDrop</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193955">L193955</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HswapEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193960">L193960</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193961">L193961</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1O2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193961">L193961</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193963">L193963</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193963">L193963</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193964">L193964</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193966">L193966</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">t</span></span> <span class="ltree">HtInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193966">L193966</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HstIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193968">L193968</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193968">L193968</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193969">L193969</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_sum_swap_adjacent_unit_interval" class="anamelink">nat_primrec_sum_swap_adjacent_unit_interval</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">x</span></span> <span class="ltree">HnO</span></span> <span class="ltree">HtIn</span></span> <span class="ltree">HstIn</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HtermUI2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193971">L193971</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HswapRev</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193976">L193976</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HswapEq</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193977">L193977</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#eq_i_tra" class="anamelink">eq_i_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">HsumFull</span></span> <span class="ltree">HswapRev</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193984">L193984</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HappLast</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e'</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** last value after swap is fl0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193986">L193986</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193987">L193987</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193987">L193987</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193988">L193988</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193990">L193990</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent_at_succ" class="anamelink">swap_adjacent_at_succ</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193990">L193990</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hsa</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193991">L193991</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HappLast</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193992">L193992</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** e2 t = e1 t = fl0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="193995">L193995</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193995">L193995</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtNeM1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193997">L193997</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193997">L193997</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1m1</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="193999">L193999</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="193999">L193999</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="193999">L193999</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#In_irref" class="anamelink">In_irref</a></span> <span class="ltree">m1</span></span>)</span> <span class="ltree">Hm1m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194000">L194000</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2t</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194002">L194002</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">t</span></span> <span class="ltree">HtDom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194002">L194002</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">HtNeM1</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194004">L194004</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2t</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194005">L194005</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He1last</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194007">L194007</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HPm</span>: <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree">m</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194010">L194010</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">Pm</span></span> <span class="ltree">HP0</span></span> <span class="ltree">HPS</span></span> <span class="ltree">m</span></span> <span class="ltree">HmNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194010">L194010</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HPm</span> <span class="ltree">F</span></span> <span class="ltree">e</span></span> <span class="ltree">flast</span></span> <span class="ltree">HmO</span></span> <span class="ltree">Hbij</span></span> <span class="ltree">HflF</span></span> <span class="ltree">HvalUI</span></span>)</span></span>.</div>
</div>
∎