<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** helper for §41: move a chosen enumerated element to the last index without changing the pointwise sum ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: Given a finite sum over a bijection enumeration and a chosen element of the finite set, we may reorder the enumeration so that the chosen element appears last, without changing the sum. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194375">L194375</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, m, F, e, flast and x</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194376">L194376</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HmO</span>: <span class="ltree"><span class="ltree"><span class="ltree">m</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194377">L194377</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxX</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194378">L194378</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbij</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m</span></span>)</span></span> <span class="ltree">F</span></span> <span class="ltree">e</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194379">L194379</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HflF</span>: <span class="ltree"><span class="ltree"><span class="ltree">flast</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194380">L194380</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HvalUI</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194381">L194381</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HmNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">m</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194384">L194384</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_nat_p" class="anamelink">omega_nat_p</a></span> <span class="ltree">m</span></span> <span class="ltree">HmO</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194384">L194384</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">step</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λe0 : <span class="ltree">set</span> ⇒  <span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194386">L194386</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">Pm</span> to be the term <span class="ltree"><span class="ltree">(<span class="ltree">λm0 : <span class="ltree">set</span> ⇒  <span class="ltree">∀F0 e0 fl0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">m0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span>)</span> → <span class="ltree">∃e'<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e'</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e'</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m0</span></span>)</span></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e'</span></span> <span class="ltree">m0</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span></span></span></span></span></span></span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194397">L194397</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HP0</span>: <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194400">L194400</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">F0, e0 and fl0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194400">L194400</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H0O</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#notation_21">0</a></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194401">L194401</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hbij0</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194402">L194402</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfl0</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194403">L194403</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HvalUI0</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194404">L194404</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">e0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194405">L194405</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194407">L194407</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194408">L194408</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hbij0</span></span>.</div>
</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194410">L194410</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsurj</span>: <span class="ltree"><span class="ltree">∃k<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k</span></span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** only index is 0, so e0 0 = fl0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194413">L194413</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hbij0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194413">L194413</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">_ Huniq</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194414">L194414</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Huniq</span> <span class="ltree">fl0</span></span> <span class="ltree">Hfl0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194415">L194415</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hsurj</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194416">L194416</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194417">L194417</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkpack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194417">L194417</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkLeft</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194419">L194419</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k</span></span></span></span></span>)</span></span> <span class="ltree">Hkpack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194422">L194422</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194424">L194424</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">HkLeft</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194424">L194424</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194426">L194426</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">HkLeft</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194426">L194426</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkCase</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_21">0</a></span></span> <a href="#notation_3">∨</a> <span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194428">L194428</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">k</span></span> <span class="ltree">HkIn</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194428">L194428</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194430">L194430</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HkCase</span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194431">L194431</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkIn0</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194431">L194431</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194432">L194432</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#EmptyE" class="anamelink">EmptyE</a></span> <span class="ltree">k</span></span> <span class="ltree">HkIn0</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194434">L194434</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkEq0</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree"><a href="#notation_21">0</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194434">L194434</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkEq0</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194435">L194435</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hk0</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194436">L194436</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkEq</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194437">L194437</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HPS</span>: <span class="ltree"><span class="ltree">∀t : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree">t</span></span> → <span class="ltree"><span class="ltree">Pm</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194440">L194440</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">t</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194440">L194440</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HtNat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194441">L194441</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">IHt</span>: <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194442">L194442</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree">Pm</span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194443">L194443</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">F0, e0 and fl0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194444">L194444</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hm1O</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194445">L194445</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HbijS</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194446">L194446</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hfl0</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194447">L194447</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HvalUI0</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194448">L194448</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">m1</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194450">L194450</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1Def</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194452">L194452</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtO</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194454">L194454</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p_omega" class="anamelink">nat_p_omega</a></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194454">L194454</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1Nat</span>: <span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p" class="anamelink">nat_p</a></span> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194456">L194456</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194456">L194456</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ordsucc" class="anamelink">nat_ordsucc</a></span> <span class="ltree">t</span></span> <span class="ltree">HtNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194457">L194457</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1O2</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194459">L194459</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_p_omega" class="anamelink">nat_p_omega</a></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1Nat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194459">L194459</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">lastval</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194461">L194461</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He0fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194463">L194463</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HbijS</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194468">L194468</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlastF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">lastval</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194470">L194470</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He0fun</span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194470">L194470</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194473">L194473</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HeqLast</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194473">L194473</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">e0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194474">L194474</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194476">L194476</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194477">L194477</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbijS</span></span>.</div>
</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194479">L194479</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HeqLast</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194481">L194481</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HneqLast</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194481">L194481</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HflNot</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span> <a href="#notation_10">∉</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194483">L194483</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hmem</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194483">L194483</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194485">L194485</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">lastval</span></span> <span class="ltree">fl0</span></span> <span class="ltree">Hmem</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194485">L194485</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HneqLast</span> <span class="ltree">Heq</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194486">L194486</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HflInDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree">fl0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194488">L194488</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">fl0</span></span> <span class="ltree">Hfl0</span></span> <span class="ltree">HflNot</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194488">L194488</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbijDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">m1</span></span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194491">L194491</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194491">L194491</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection_drop_last" class="anamelink">bijection_drop_last</a></span> <span class="ltree">m1</span></span> <span class="ltree">F0</span></span> <span class="ltree">e0</span></span> <span class="ltree">Hm1O2</span></span> <span class="ltree">HbijS</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194492">L194492</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HbijDrop2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194494">L194494</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HlastEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e0</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194495">L194495</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HlastEq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194496">L194496</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HbijDrop</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194497">L194497</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HvalUIDrop</span>: <span class="ltree"><span class="ltree">∀f : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">f</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194500">L194500</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">f</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194500">L194500</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hf</span>: <span class="ltree"><span class="ltree"><span class="ltree">f</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194500">L194500</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HvalUI0</span> <span class="ltree">f</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">f</span></span> <span class="ltree">Hf</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194501">L194501</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HmoveSmall</span>: <span class="ltree"><span class="ltree">∃e1<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194508">L194508</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">IHt</span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e0</span></span> <span class="ltree">fl0</span></span> <span class="ltree">HtO</span></span> <span class="ltree">HbijDrop2</span></span> <span class="ltree">HflInDrop</span></span> <span class="ltree">HvalUIDrop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194508">L194508</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">HmoveSmall</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194509">L194509</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">e1</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194510">L194510</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">He1pack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194510">L194510</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1left</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194514">L194514</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">He1pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194518">L194518</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbij1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194520">L194520</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span>)</span></span> <span class="ltree">He1left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194523">L194523</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsumSmall</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194525">L194525</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span>)</span></span> <span class="ltree">He1left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194528">L194528</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1last</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194530">L194530</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> <span class="ltree">e1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree">fl0</span></span>)</span></span> <span class="ltree">He1pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194534">L194534</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">e2</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph" class="anamelink">graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span></span>)</span></span></span>.</div>
</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** extend e1 to ordsucc m1 by putting lastval at m1 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194538">L194538</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2m1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194541">L194541</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span></span>)</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194541">L194541</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hrefl</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194543">L194543</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">m1</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">Hrefl</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194545">L194545</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hbij2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection" class="anamelink">bijection</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span> <span class="ltree">e2</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** show e2 is a bijection ordsucc m1 -&gt; F0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194549">L194549</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e2</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">F0</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀y : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span> → <span class="ltree">∃k0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194552">L194552</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194554">L194554</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194555">L194555</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194555">L194555</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> (from left to right).</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** function_on ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="194556">L194556</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194558">L194558</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194558">L194558</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_1" class="anamelink">If_i_1</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hkm1</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194559">L194559</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HlastF0</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194561">L194561</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hknm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194561">L194561</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hknm1</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194562">L194562</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** k in m1 so e1 k in F0\\{lastval} and hence in F0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194565">L194565</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194566">L194566</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194566">L194566</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194567">L194567</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194567">L194567</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194568">L194568</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hknm1</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194569">L194569</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194571">L194571</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hbij1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194575">L194575</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1kDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194577">L194577</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He1fun</span> <span class="ltree">k</span></span> <span class="ltree">HkInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194577">L194577</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">He1kDrop</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194579">L194579</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">y</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194580">L194580</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HyF0</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">F0</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194580">L194580</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span>)</span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** surjectivity + uniqueness ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194582">L194582</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HyLast</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194582">L194582</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">m1</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194583">L194583</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194585">L194585</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194586">L194586</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194587">L194587</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HyLast</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194587">L194587</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He2m1</span></span>.</div>
</div>
</div></div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194589">L194589</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194589">L194589</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk'Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194589">L194589</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194590">L194590</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194592">L194592</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">H</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194592">L194592</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">H</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194593">L194593</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkn</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194593">L194593</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194595">L194595</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194596">L194596</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194596">L194596</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194597">L194597</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194597">L194597</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194598">L194598</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hkn</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194599">L194599</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194601">L194601</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hbij1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194605">L194605</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1kDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194607">L194607</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He1fun</span> <span class="ltree">k'</span></span> <span class="ltree">HkInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194607">L194607</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hnot</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_10">∉</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194609">L194609</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE2" class="anamelink">setminusE2</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">He1kDrop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194609">L194609</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194611">L194611</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194611">L194611</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">Hkn</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194613">L194613</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1eqLast</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194615">L194615</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194615">L194615</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HyLast</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194616">L194616</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194617">L194617</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194618">L194618</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hmem</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194620">L194620</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He1eqLast</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194620">L194620</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#SingI" class="anamelink">SingI</a></span> <span class="ltree">lastval</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194621">L194621</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194622">L194622</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hnot</span> <span class="ltree">Hmem</span></span>)</span></span>.</div>
</div>
</div></div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194624">L194624</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HyNLast</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194624">L194624</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HyDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194626">L194626</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusI" class="anamelink">setminusI</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">y</span></span> <span class="ltree">HyF0</span></span> <span class="ltree">(<span class="ltree">λHyS : <span class="ltree"><span class="ltree">y</span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> ⇒  <span class="ltree"><span class="ltree">HyNLast</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#SingE" class="anamelink">SingE</a></span> <span class="ltree">lastval</span></span> <span class="ltree">y</span></span> <span class="ltree">HyS</span></span>)</span></span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194626">L194626</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsurj1</span>: <span class="ltree"><span class="ltree">∃k0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194629">L194629</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hbij1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194629">L194629</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">_ Huniq</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194630">L194630</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Huniq</span> <span class="ltree">y</span></span> <span class="ltree">HyDrop</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194631">L194631</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hsurj1</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194632">L194632</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194633">L194633</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk0pack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194633">L194633</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0left</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194635">L194635</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span> <span class="ltree">Hk0pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194638">L194638</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0In</span>: <span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194640">L194640</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span>)</span></span> <span class="ltree">Hk0left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194640">L194640</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0Eq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194642">L194642</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span>)</span></span> <span class="ltree">Hk0left</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194642">L194642</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0uniq</span>: <span class="ltree"><span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194644">L194644</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span> → <span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">k0</span></span></span></span></span>)</span></span> <span class="ltree">Hk0pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194647">L194647</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">k0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194648">L194648</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194650">L194650</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194651">L194651</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">k0</span></span> <span class="ltree">Hk0In</span></span>)</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194652">L194652</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194653">L194653</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">k0</span></span> <span class="ltree">Hk0In</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194653">L194653</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span></span>)</span></span> <span class="ltree">k0</span></span> <span class="ltree">Hk0Dom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194654">L194654</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hk0nm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194656">L194656</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194656">L194656</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hmm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194658">L194658</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194658">L194658</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hk0In</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194659">L194659</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#In_irref" class="anamelink">In_irref</a></span> <span class="ltree">m1</span></span>)</span> <span class="ltree">Hmm1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194660">L194660</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span> <span class="ltree">Hk0nm1</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194661">L194661</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hk0Eq</span></span>.</div>
</div>
</div></div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194663">L194663</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k'</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194663">L194663</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk'Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194663">L194663</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194664">L194664</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194666">L194666</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194666">L194666</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194667">L194667</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2kLast</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194669">L194669</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194669">L194669</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hkm1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194670">L194670</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He2m1</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194671">L194671</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HyEqA</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194673">L194673</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194674">L194674</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HyEqLast</span>: <span class="ltree"><span class="ltree"><span class="ltree">y</span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194676">L194676</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#eq_i_tra" class="anamelink">eq_i_tra</a></span> <span class="ltree">y</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">HyEqA</span></span> <span class="ltree">He2kLast</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194676">L194676</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">HyNLast</span> <span class="ltree">HyEqLast</span></span>)</span></span>.</div>
</div>
</div><div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194678">L194678</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkn</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194678">L194678</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194680">L194680</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194681">L194681</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194681">L194681</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194682">L194682</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194682">L194682</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194683">L194683</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hkn</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194684">L194684</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194686">L194686</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k'</span></span> <span class="ltree">Hk'Dom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194686">L194686</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k'</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span>)</span></span> <span class="ltree">Hkn</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194688">L194688</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1eqY</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194690">L194690</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k'</span></span> <a href="#notation_5">=</a> <span class="ltree">y</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194690">L194690</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194691">L194691</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Heq</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194692">L194692</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Hk0uniq</span> <span class="ltree">k'</span></span> <span class="ltree">HkInM1</span></span> <span class="ltree">He1eqY</span></span>)</span></span>.</div>
</div>
</div></div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194694">L194694</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtermLastUI</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">lastval</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** compare full sums: replace prefix by HsumSmall and keep last term ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194698">L194698</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HvalUI0</span> <span class="ltree">lastval</span></span> <span class="ltree">HlastF0</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194698">L194698</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HsumFull</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194702">L194702</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1Nat</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194702">L194702</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_S" class="anamelink">nat_primrec_S</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1Nat</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194703">L194703</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HaccEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194705">L194705</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hacc1</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194706">L194706</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194706">L194706</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HsumSmall</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194707">L194707</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hacc2</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194709">L194709</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HeqE1E2</span>: <span class="ltree"><span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194710">L194710</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194710">L194710</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194710">L194710</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194712">L194712</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">k</span></span> <span class="ltree">HkM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194712">L194712</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hknm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194714">L194714</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194714">L194714</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hmm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194716">L194716</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194716">L194716</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194717">L194717</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#In_irref" class="anamelink">In_irref</a></span> <span class="ltree">m1</span></span>)</span> <span class="ltree">Hmm1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194718">L194718</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194720">L194720</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194720">L194720</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hknm1</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194722">L194722</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194723">L194723</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from right to left).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194725">L194725</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_sum_congr_on" class="anamelink">nat_primrec_sum_congr_on</a></span> <span class="ltree">X</span></span> <span class="ltree">m1</span></span> <span class="ltree">e1</span></span> <span class="ltree">e2</span></span> <span class="ltree">x</span></span> <span class="ltree">Hm1Nat</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HeqE1E2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194726">L194726</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#eq_i_tra" class="anamelink">eq_i_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e1</span></span>)</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">Hacc1</span></span> <span class="ltree">Hacc2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194731">L194731</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HaccEq</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194732">L194732</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2m1F</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree">lastval</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194734">L194734</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He2m1</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194734">L194734</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2m1F</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194736">L194736</span><div class="settac"><span class="pftackeyword">Set</span> <span class="ltree">e'</span> to be the term <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194739">L194739</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">e'</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** swap the last two indices so that fl0 is at m1 ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="194740">L194740</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194742">L194742</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194743">L194743</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194744">L194744</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194744">L194744</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HstIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194746">L194746</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from right to left).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194746">L194746</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194747">L194747</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#bijection_swap_adjacent" class="anamelink">bijection_swap_adjacent</a></span> <span class="ltree">F0</span></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">HtIn</span></span> <span class="ltree">HstIn</span></span> <span class="ltree">Hbij2</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194749">L194749</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtermUI2</span>: <span class="ltree"><span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#unit_interval" class="anamelink">unit_interval</a></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** sum invariant under adjacent swap at t ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194751">L194751</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194751">L194751</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194751">L194751</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#xm" class="anamelink">xm</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194753">L194753</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkm1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194753">L194753</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hkm1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194754">L194754</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2m1</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194755">L194755</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HtermLastUI</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194757">L194757</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hknm1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194757">L194757</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HkInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194759">L194759</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccE" class="anamelink">ordsuccE</a></span> <span class="ltree">m1</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194760">L194760</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194760">L194760</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HkM1</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194761">L194761</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hkeq</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194761">L194761</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#FalseE" class="anamelink">FalseE</a></span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194762">L194762</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">Hknm1</span> <span class="ltree">Hkeq</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194763">L194763</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1fun</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194765">L194765</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#function_on" class="anamelink">function_on</a></span> <span class="ltree">e1</span></span> <span class="ltree">m1</span></span> <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀y0 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">y0</span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span> → <span class="ltree">∃x0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">x0</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x0</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">(<span class="ltree">∀x' : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">x'</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">x'</span></span> <a href="#notation_5">=</a> <span class="ltree">y0</span></span> → <span class="ltree"><span class="ltree">x'</span> <a href="#notation_5">=</a> <span class="ltree">x0</span></span></span></span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">Hbij1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194769">L194769</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He1kDrop</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">(<span class="ltree"><span class="ltree">F0</span> <a href="#notation_20">∖</a> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194771">L194771</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">He1fun</span> <span class="ltree">k</span></span> <span class="ltree">HkInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194771">L194771</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2k</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194773">L194773</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">k</span></span> <span class="ltree">HkDom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194773">L194773</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">Hknm1</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194775">L194775</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2k</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194776">L194776</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">HvalUI0</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#setminusE1" class="anamelink">setminusE1</a></span> <span class="ltree">F0</span></span> <span class="ltree"><a href="#notation_15">{</a><span class="ltree">lastval</span><a href="#notation_15">}</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">He1kDrop</span></span>)</span></span>)</span></span>.</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194777">L194777</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HswapEq</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194782">L194782</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HnO</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><a href="#omega" class="anamelink">ω</a></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194783">L194783</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#omega_ordsucc" class="anamelink">omega_ordsucc</a></span> <span class="ltree">m1</span></span> <span class="ltree">Hm1O2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194783">L194783</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtInM1</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194785">L194785</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194785">L194785</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194786">L194786</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtIn</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194788">L194788</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">t</span></span> <span class="ltree">HtInM1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194788">L194788</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HstIn</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194790">L194790</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194790">L194790</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194791">L194791</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec_sum_swap_adjacent_unit_interval" class="anamelink">nat_primrec_sum_swap_adjacent_unit_interval</a></span> <span class="ltree">X</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">x</span></span> <span class="ltree">HnO</span></span> <span class="ltree">HtIn</span></span> <span class="ltree">HstIn</span></span> <span class="ltree">HxX</span></span> <span class="ltree">HtermUI2</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194793">L194793</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HswapRev</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194798">L194798</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HswapEq</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194799">L194799</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#eq_i_tra" class="anamelink">eq_i_tra</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e0</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree"><span class="ltree">step</span> <span class="ltree">e2</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_primrec" class="anamelink">nat_primrec</a></span> <span class="ltree"><a href="#notation_21">0</a></span></span> <span class="ltree">(<span class="ltree">λk acc : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><a href="#add_SNo" class="anamelink">add_SNo</a></span> <span class="ltree">acc</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">x</span></span>)</span></span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">HsumFull</span></span> <span class="ltree">HswapRev</span></span>)</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194806">L194806</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HappLast</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e'</span></span> <span class="ltree">m1</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** last value after swap is fl0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194808">L194808</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1Dom</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194809">L194809</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194809">L194809</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Hm1Def</span></span> (from left to right) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194810">L194810</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hsa</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent" class="anamelink">swap_adjacent</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">t</span></span>)</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194812">L194812</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#swap_adjacent_at_succ" class="anamelink">swap_adjacent_at_succ</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">m1</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194812">L194812</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hsa</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194813">L194813</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">HappLast</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194814">L194814</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtDom</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span>  <a href="#In_notation">∈</a>  <span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** e2 t = e1 t = fl0 ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="194817">L194817</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#ordsuccI1" class="anamelink">ordsuccI1</a></span> <span class="ltree">m1</span></span> <span class="ltree">t</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194817">L194817</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtNeM1</span>: <span class="ltree"><span class="ltree"><a href="#notation_1">¬</a> <span class="ltree">(<span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194819">L194819</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Heq</span>: <span class="ltree"><span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194819">L194819</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hm1m1</span>: <span class="ltree"><span class="ltree"><span class="ltree">m1</span>  <a href="#In_notation">∈</a>  <span class="ltree">m1</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194821">L194821</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">Heq</span></span> (from right to left) at position 1.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194821">L194821</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsuccI2" class="anamelink">ordsuccI2</a></span> <span class="ltree">t</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194821">L194821</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><a href="#In_irref" class="anamelink">In_irref</a></span> <span class="ltree">m1</span></span>)</span> <span class="ltree">Hm1m1</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194822">L194822</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">He2t</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e2</span></span> <span class="ltree">t</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194824">L194824</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun_graph" class="anamelink">apply_fun_graph</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#ordsucc" class="anamelink">ordsucc</a></span> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">(<span class="ltree">λk0 : <span class="ltree">set</span> ⇒  <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i" class="anamelink">If_i</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">k0</span></span>)</span></span></span>)</span></span> <span class="ltree">t</span></span> <span class="ltree">HtDom</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194824">L194824</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#If_i_0" class="anamelink">If_i_0</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">t</span> <a href="#notation_5">=</a> <span class="ltree">m1</span></span>)</span></span> <span class="ltree">lastval</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">e1</span></span> <span class="ltree">t</span></span>)</span></span> <span class="ltree">HtNeM1</span></span>)</span></span> (from left to right).</div>
</div>
<div>Use reflexivity.</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194826">L194826</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">He2t</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="194827">L194827</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">He1last</span></span>.</div>
</div>
</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194829">L194829</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HPm</span>: <span class="ltree"><span class="ltree"><span class="ltree">Pm</span> <span class="ltree">m</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="194832">L194832</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#nat_ind" class="anamelink">nat_ind</a></span> <span class="ltree">Pm</span></span> <span class="ltree">HP0</span></span> <span class="ltree">HPS</span></span> <span class="ltree">m</span></span> <span class="ltree">HmNat</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="194832">L194832</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HPm</span> <span class="ltree">F</span></span> <span class="ltree">e</span></span> <span class="ltree">flast</span></span> <span class="ltree">HmO</span></span> <span class="ltree">Hbij</span></span> <span class="ltree">HflF</span></span> <span class="ltree">HvalUI</span></span>)</span></span>.</div>
</div>
∎