<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** from exercises after §29: convergence of subnets ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** LATEX VERSION: If a net converges, then every subnet converges to the same limit. ***)</div>
<div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** NOTE: In this development the directed data is explicit: use the witnessed subnet relation and convergence-on predicate. ***)</div>
<div class="pftacwrap"><span class="srcline" data-line="109515">L109515</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">X, Tx, net, sub, x, J, leJ, K, leK and phi</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109516">L109516</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hw</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subnet_of_witness" class="anamelink">subnet_of_witness</a></span> <span class="ltree">net</span></span> <span class="ltree">sub</span></span> <span class="ltree">J</span></span> <span class="ltree">leJ</span></span> <span class="ltree">K</span></span> <span class="ltree">leK</span></span> <span class="ltree">X</span></span> <span class="ltree">phi</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109517">L109517</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hconv</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#net_converges_on" class="anamelink">net_converges_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">net</span></span> <span class="ltree">J</span></span> <span class="ltree">leJ</span></span> <span class="ltree">x</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109518">L109518</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#net_converges_on" class="anamelink">net_converges_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span> <span class="ltree">leK</span></span> <span class="ltree">x</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109519">L109519</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hconv</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109522">L109522</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcore Htail</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109522">L109522</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcore</span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** unpack Hconv (left-associated conjunction) ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="109523">L109523</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcore5 HxX</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109523">L109523</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcore5</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109524">L109524</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcore4 Hdomnet</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109524">L109524</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcore4</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109525">L109525</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcore3 Hgraphnet</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109525">L109525</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcore3</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109526">L109526</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hcore2 Htotnet</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109526">L109526</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hcore2</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109527">L109527</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HTx HdirJ</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109527">L109527</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hw</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109530">L109530</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore Hvals</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109530">L109530</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore</span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** unpack Hw only for subnet-specific data ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="109531">L109531</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore2 Hcofinal</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109531">L109531</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore2</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109532">L109532</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore3 Hmono</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109532">L109532</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore3</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109533">L109533</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore4 Hdomphi</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109533">L109533</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore4</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109534">L109534</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore5 Hgraphphi</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109534">L109534</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore5</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109535">L109535</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore6 Htotphi</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109535">L109535</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore6</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109536">L109536</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore7 Hdomsub</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109536">L109536</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore7</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109537">L109537</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore8 Hgraphsub</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109537">L109537</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore8</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109538">L109538</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore9 Htotsub</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109538">L109538</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore9</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109539">L109539</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore10 Hdomnet2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109539">L109539</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore10</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109540">L109540</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore11 Hgraphnet2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109540">L109540</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore11</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109541">L109541</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hwcore12 Htotnet2</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109541">L109541</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hwcore12</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109542">L109542</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HdirJ2 HdirK</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109542">L109542</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_on" class="anamelink">topology_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#directed_set" class="anamelink">directed_set</a></span> <span class="ltree">K</span></span> <span class="ltree">leK</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span> <span class="ltree">X</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">sub</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span> <a href="#notation_2">∧</a> <span class="ltree">∀U : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span> → <span class="ltree">∃i0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">i0</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀i : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">i</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">i0</span>,<span class="ltree">i</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">sub</span></span> <span class="ltree">i</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span></span></span></span></span></span></span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109547">L109547</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109549">L109549</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#topology_on" class="anamelink">topology_on</a></span> <span class="ltree">X</span></span> <span class="ltree">Tx</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#directed_set" class="anamelink">directed_set</a></span> <span class="ltree">K</span></span> <span class="ltree">leK</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span> <span class="ltree">X</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">sub</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">X</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109550">L109550</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#and6I" class="anamelink">and6I</a></span></span> to the current goal.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** core data ***)</div>

<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109552">L109552</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HTx</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109553">L109553</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HdirK</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109554">L109554</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Htotsub</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109555">L109555</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hgraphsub</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109556">L109556</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">Hdomsub</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109557">L109557</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">HxX</span></span>.</div>
</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109558">L109558</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">U</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109559">L109559</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HU</span>: <span class="ltree"><span class="ltree"><span class="ltree">U</span>  <a href="#In_notation">∈</a>  <span class="ltree">Tx</span></span></span>.</div>
</div><div class="proof-comment" style="color:#666; font-style:italic; margin:0.25em 0 0.45em 2.2em;">(*** eventuality for sub along leK ***)</div>

<div class="pftacwrap"><span class="srcline" data-line="109560">L109560</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HxU</span>: <span class="ltree"><span class="ltree"><span class="ltree">x</span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109561">L109561</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexj0</span>: <span class="ltree"><span class="ltree">∃j0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">j0</span>  <a href="#In_notation">∈</a>  <span class="ltree">J</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀j : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">j</span>  <a href="#In_notation">∈</a>  <span class="ltree">J</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">j0</span>,<span class="ltree">j</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">net</span></span> <span class="ltree">j</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109564">L109564</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">Htail</span> <span class="ltree">U</span></span> <span class="ltree">HU</span></span> <span class="ltree">HxU</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="109564">L109564</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hexj0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109565">L109565</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">j0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109566">L109566</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hj0pair</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109567">L109567</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hj0pair</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109568">L109568</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hj0J HafterJ</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109569">L109569</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hexk0</span>: <span class="ltree"><span class="ltree">∃k0<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> <a href="#notation_2">∧</a> <span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">k0</span>,<span class="ltree">k</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">j0</span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109572">L109572</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#subnet_of_witness_tail_above" class="anamelink">subnet_of_witness_tail_above</a></span> <span class="ltree">net</span></span> <span class="ltree">sub</span></span> <span class="ltree">J</span></span> <span class="ltree">leJ</span></span> <span class="ltree">K</span></span> <span class="ltree">leK</span></span> <span class="ltree">X</span></span> <span class="ltree">phi</span></span> <span class="ltree">j0</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#and14I" class="anamelink">and14I</a></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#directed_set" class="anamelink">directed_set</a></span> <span class="ltree">J</span></span> <span class="ltree">leJ</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#directed_set" class="anamelink">directed_set</a></span> <span class="ltree">K</span></span> <span class="ltree">leK</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">net</span></span> <span class="ltree">J</span></span> <span class="ltree">X</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">net</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">net</span></span> <span class="ltree">J</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span> <span class="ltree">X</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">sub</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">sub</span></span> <span class="ltree">K</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on" class="anamelink">total_function_on</a></span> <span class="ltree">phi</span></span> <span class="ltree">K</span></span> <span class="ltree">J</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><a href="#functional_graph" class="anamelink">functional_graph</a></span> <span class="ltree">phi</span></span>)</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#graph_domain_subset" class="anamelink">graph_domain_subset</a></span> <span class="ltree">phi</span></span> <span class="ltree">K</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀i j : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">i</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">j</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">i</span>,<span class="ltree">j</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">i</span></span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">j</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀j : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">j</span>  <a href="#In_notation">∈</a>  <span class="ltree">J</span></span> → <span class="ltree">∃k<a href="#notation_8"> : </a><span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> <a href="#notation_2">∧</a> <span class="ltree"><span class="ltree">(<span class="ltree">j</span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span></span></span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">sub</span></span> <span class="ltree">k</span></span> <a href="#notation_5">=</a> <span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">net</span></span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>)</span></span></span></span></span>)</span></span> <span class="ltree">HdirJ</span></span> <span class="ltree">HdirK</span></span> <span class="ltree">Htotnet</span></span> <span class="ltree">Hgraphnet</span></span> <span class="ltree">Hdomnet</span></span> <span class="ltree">Htotsub</span></span> <span class="ltree">Hgraphsub</span></span> <span class="ltree">Hdomsub</span></span> <span class="ltree">Htotphi</span></span> <span class="ltree">Hgraphphi</span></span> <span class="ltree">Hdomphi</span></span> <span class="ltree">Hmono</span></span> <span class="ltree">Hcofinal</span></span> <span class="ltree">Hvals</span></span>)</span></span> <span class="ltree">Hj0J</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="109594">L109594</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree">Hexk0</span></span> to the current goal.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109595">L109595</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k0</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109596">L109596</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk0pack</span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109597">L109597</span><div class="witnesstac">We use <span class="ltree"><span class="ltree">k0</span></span> to <span class="pftackeyword">witness</span> the existential quantifier.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109598">L109598</span><div class="applytac"><span class="pftackeyword">Apply</span> <span class="ltree"><span class="ltree"><a href="#andI" class="anamelink">andI</a></span></span> to the current goal.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109600">L109600</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andEL" class="anamelink">andEL</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">k0</span>,<span class="ltree">k</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">j0</span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span></span></span>)</span></span> <span class="ltree">Hk0pack</span></span>)</span></span>.</div>
</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109603">L109603</span><div class="lettac"><span class="pftackeyword">Let</span> <span class="ltree">k</span> be given.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109603">L109603</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">HkK</span>: <span class="ltree"><span class="ltree"><span class="ltree">k</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109604">L109604</span><div class="assumetac"><span class="pftackeyword">Assume</span> <span class="ltree">Hk0k</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">k0</span>,<span class="ltree">k</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109605">L109605</span><div class="provetac">We will <span class="pftackeyword">prove</span> <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">sub</span></span> <span class="ltree">k</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">U</span></span>.</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109606">L109606</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HphikJ</span>: <span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>  <a href="#In_notation">∈</a>  <span class="ltree">J</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109608">L109608</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#total_function_on_apply_fun_in_Y" class="anamelink">total_function_on_apply_fun_in_Y</a></span> <span class="ltree">phi</span></span> <span class="ltree">K</span></span> <span class="ltree">J</span></span> <span class="ltree">k</span></span> <span class="ltree">Htotphi</span></span> <span class="ltree">HkK</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="109608">L109608</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">Hj0phik</span>: <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">j0</span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109610">L109610</span><div class="claimtac">We prove the intermediate <span class="pftackeyword">claim</span> <span class="ltree">HtailAbove</span>: <span class="ltree"><span class="ltree">∀k1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k1</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">k0</span>,<span class="ltree">k1</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">j0</span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k1</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span></span></span></span>.</div>
</div>
<div class="subproof"><div class="pftacwrap"><span class="srcline" data-line="109612">L109612</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree"><a href="#andER" class="anamelink">andER</a></span> <span class="ltree">(<span class="ltree"><span class="ltree">k0</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span>)</span></span> <span class="ltree">(<span class="ltree">∀k1 : <span class="ltree">set</span>,  <span class="ltree"><span class="ltree"><span class="ltree">k1</span>  <a href="#In_notation">∈</a>  <span class="ltree">K</span></span> → <span class="ltree"><span class="ltree"><span class="ltree">(<span class="ltree">k0</span>,<span class="ltree">k1</span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leK</span></span> → <span class="ltree"><span class="ltree">(<span class="ltree">j0</span>,<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k1</span></span>)</span>  <a href="#In_notation">∈</a>  <span class="ltree">leJ</span></span></span></span></span>)</span></span> <span class="ltree">Hk0pack</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="109614">L109614</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HtailAbove</span> <span class="ltree">k</span></span> <span class="ltree">HkK</span></span> <span class="ltree">Hk0k</span></span>)</span></span>.</div>
</div>
</div><div class="pftacwrap"><span class="srcline" data-line="109615">L109615</span><div class="rewritetac"><span class="pftackeyword">rewrite</span> the current goal using <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree">Hvals</span> <span class="ltree">k</span></span> <span class="ltree">HkK</span></span>)</span></span> (from left to right).</div>
</div>
<div class="pftacwrap"><span class="srcline" data-line="109616">L109616</span><div class="exact">An <span class="pftackeyword">exact</span> proof term for the current goal is <span class="ltree"><span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><span class="ltree">HafterJ</span> <span class="ltree">(<span class="ltree"><span class="ltree"><span class="ltree"><a href="#apply_fun" class="anamelink">apply_fun</a></span> <span class="ltree">phi</span></span> <span class="ltree">k</span></span>)</span></span> <span class="ltree">HphikJ</span></span> <span class="ltree">Hj0phik</span></span>)</span></span>.</div>
</div>
</div>
</div>
∎